var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);function n(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var o={exports:{}},s={},l={exports:{}},c={},u=Symbol.for("react.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),j=Symbol.iterator;var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function k(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||w}function S(){}function O(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||w}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=k.prototype;var E=O.prototype=new S;E.constructor=O,N(E,k.prototype),E.isPureReactComponent=!0;var C=Array.isArray,P=Object.prototype.hasOwnProperty,T={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,a={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)P.call(t,r)&&!A.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:u,type:e,key:i,ref:o,props:a,_owner:T.current}}function D(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var I=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(e,t,n,r,a){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case u:case d:o=!0}}if(o)return a=a(o=e),e=""===r?"."+R(o,0):r,C(a)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),L(a,t,n,"",function(e){return e})):null!=a&&(D(a)&&(a=function(e,t){return{$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=""===r?".":r+":",C(e))for(var s=0;s<e.length;s++){var l=r+R(i=e[s],s);o+=L(i,t,n,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),s=0;!(i=e.next()).done;)o+=L(i=i.value,t,n,l=r+R(i,s++),a);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function F(e,t,n){if(null==e)return e;var r=[],a=0;return L(e,r,"","",function(e){return t.call(n,e,a++)}),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},$={transition:null},U={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:$,ReactCurrentOwner:T};function W(){throw Error("act(...) is not supported in production builds of React.")}c.Children={map:F,forEach:function(e,t,n){F(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return F(e,function(){t++}),t},toArray:function(e){return F(e,function(e){return e})||[]},only:function(e){if(!D(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},c.Component=k,c.Fragment=f,c.Profiler=p,c.PureComponent=O,c.StrictMode=h,c.Suspense=y,c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,c.act=W,c.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=N({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)P.call(t,l)&&!A.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:u,type:e.type,key:a,ref:i,props:r,_owner:o}},c.createContext=function(e){return(e={$$typeof:v,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:m,_context:e},e.Consumer=e},c.createElement=M,c.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},c.createRef=function(){return{current:null}},c.forwardRef=function(e){return{$$typeof:g,render:e}},c.isValidElement=D,c.lazy=function(e){return{$$typeof:b,_payload:{_status:-1,_result:e},_init:z}},c.memo=function(e,t){return{$$typeof:x,type:e,compare:void 0===t?null:t}},c.startTransition=function(e){var t=$.transition;$.transition={};try{e()}finally{$.transition=t}},c.unstable_act=W,c.useCallback=function(e,t){return B.current.useCallback(e,t)},c.useContext=function(e){return B.current.useContext(e)},c.useDebugValue=function(){},c.useDeferredValue=function(e){return B.current.useDeferredValue(e)},c.useEffect=function(e,t){return B.current.useEffect(e,t)},c.useId=function(){return B.current.useId()},c.useImperativeHandle=function(e,t,n){return B.current.useImperativeHandle(e,t,n)},c.useInsertionEffect=function(e,t){return B.current.useInsertionEffect(e,t)},c.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},c.useMemo=function(e,t){return B.current.useMemo(e,t)},c.useReducer=function(e,t,n){return B.current.useReducer(e,t,n)},c.useRef=function(e){return B.current.useRef(e)},c.useState=function(e){return B.current.useState(e)},c.useSyncExternalStore=function(e,t,n){return B.current.useSyncExternalStore(e,t,n)},c.useTransition=function(){return B.current.useTransition()},c.version="18.3.1",l.exports=c;var q=l.exports;const V=a(q),H=n({__proto__:null,default:V},[q]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var K=q,G=Symbol.for("react.element"),Y=Symbol.for("react.fragment"),X=Object.prototype.hasOwnProperty,J=K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q={key:!0,ref:!0,__self:!0,__source:!0};function Z(e,t,n){var r,a={},i=null,o=null;for(r in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(o=t.ref),t)X.call(t,r)&&!Q.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:G,type:e,key:i,ref:o,props:a,_owner:J.current}}s.Fragment=Y,s.jsx=Z,s.jsxs=Z,o.exports=s;var ee=o.exports,te={},ne={exports:{}},re={},ae={exports:{}},ie={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(l,a)}a=n(c)}}function b(e){if(m=!1,x(e),!p)if(null!==n(l))p=!0,A(j);else{var t=n(c);null!==t&&M(b,t.startTime-e)}}function j(t,a){p=!1,m&&(m=!1,g(k),k=-1),h=!0;var i=f;try{for(x(a),d=n(l);null!==d&&(!(d.expirationTime>a)||t&&!E());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=a);a=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),x(a)}else r(l);d=n(l)}if(null!==d)var u=!0;else{var v=n(c);null!==v&&M(b,v.startTime-a),u=!1}return u}finally{d=null,f=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,N=!1,_=null,k=-1,S=5,O=-1;function E(){return!(e.unstable_now()-O<S)}function C(){if(null!==_){var t=e.unstable_now();O=t;var n=!0;try{n=_(!0,t)}finally{n?w():(N=!1,_=null)}}else N=!1}if("function"==typeof y)w=function(){y(C)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=C,w=function(){T.postMessage(null)}}else w=function(){v(C,0)};function A(e){_=e,N||(N=!0,w())}function M(t,n){k=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,A(j))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,a,i){var o=e.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?o+i:o:i=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:u++,callback:a,priorityLevel:r,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(r.sortIndex=i,t(c,r),null===n(l)&&r===n(c)&&(m?(g(k),k=-1):m=!0,M(b,i-o))):(r.sortIndex=s,t(l,r),p||h||(p=!0,A(j))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(ie),ae.exports=ie;var oe=ae.exports,se=q,le=oe;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ue=new Set,de={};function fe(e,t){he(e,t),he(e+"Capture",t)}function he(e,t){for(de[e]=t,e=0;e<t.length;e++)ue.add(t[e])}var pe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),me=Object.prototype.hasOwnProperty,ve=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ge={},ye={};function xe(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new xe(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new xe(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new xe(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new xe(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new xe(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){be[e]=new xe(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){be[e]=new xe(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){be[e]=new xe(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){be[e]=new xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var je=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function Ne(e,t,n,r){var a=be.hasOwnProperty(t)?be[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!me.call(ye,e)||!me.call(ge,e)&&(ve.test(e)?ye[e]=!0:(ge[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(je,we);be[t]=new xe(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(je,we);be[t]=new xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(je,we);be[t]=new xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){be[e]=new xe(e,1,!1,e.toLowerCase(),null,!1,!1)}),be.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){be[e]=new xe(e,1,!1,e.toLowerCase(),null,!0,!0)});var _e=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),Se=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),Te=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),Fe=Symbol.iterator;function ze(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Fe&&e[Fe]||e["@@iterator"])?e:null}var Be,$e=Object.assign;function Ue(e){if(void 0===Be)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Be=t&&t[1]||""}return"\n"+Be+e}var We=!1;function qe(e,t){if(!e||We)return"";We=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{We=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ue(e):""}function Ve(e){switch(e.tag){case 5:return Ue(e.type);case 16:return Ue("Lazy");case 13:return Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 2:case 15:return e=qe(e.type,!1);case 11:return e=qe(e.type.render,!1);case 1:return e=qe(e.type,!0);default:return""}}function He(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Oe:return"Fragment";case Se:return"Portal";case Ce:return"Profiler";case Ee:return"StrictMode";case Me:return"Suspense";case De:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Te:return(e.displayName||"Context")+".Consumer";case Pe:return(e._context.displayName||"Context")+".Provider";case Ae:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ie:return null!==(t=e.displayName||null)?t:He(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return He(e(t))}catch(n){}}return null}function Ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(t);case 8:return t===Ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Xe(e){e._valueTracker||(e._valueTracker=function(e){var t=Ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Je(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Qe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ze(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function et(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function tt(e,t){null!=(t=t.checked)&&Ne(e,"checked",t,!1)}function nt(e,t){tt(e,t);var n=Ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?at(e,t.type,n):t.hasOwnProperty("defaultValue")&&at(e,t.type,Ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function rt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function at(e,t,n){"number"===t&&Qe(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var it=Array.isArray;function ot(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ge(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function st(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(ce(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lt(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(ce(92));if(it(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Ge(n)}}function ct(e,t){var n=Ge(t.value),r=Ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ut(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function dt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?dt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ht,pt,mt=(pt=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ht.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return pt(e,t)})}:pt);function vt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];function xt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||gt.hasOwnProperty(e)&&gt[e]?(""+t).trim():t+"px"}function bt(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=xt(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(gt).forEach(function(e){yt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gt[t]=gt[e]})});var jt=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(e,t){if(t){if(jt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(ce(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(ce(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(ce(62))}}function Nt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function kt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var St=null,Ot=null,Et=null;function Ct(e){if(e=Ni(e)){if("function"!=typeof St)throw Error(ce(280));var t=e.stateNode;t&&(t=ki(t),St(e.stateNode,e.type,t))}}function Pt(e){Ot?Et?Et.push(e):Et=[e]:Ot=e}function Tt(){if(Ot){var e=Ot,t=Et;if(Et=Ot=null,Ct(e),t)for(e=0;e<t.length;e++)Ct(t[e])}}function At(e,t){return e(t)}function Mt(){}var Dt=!1;function It(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return At(e,t,n)}finally{Dt=!1,(null!==Ot||null!==Et)&&(Mt(),Tt())}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(ce(231,t,typeof n));return n}var Lt=!1;if(pe)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(pt){Lt=!1}function zt(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Bt=!1,$t=null,Ut=!1,Wt=null,qt={onError:function(e){Bt=!0,$t=e}};function Vt(e,t,n,r,a,i,o,s,l){Bt=!1,$t=null,zt.apply(qt,arguments)}function Ht(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Kt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Gt(e){if(Ht(e)!==e)throw Error(ce(188))}function Yt(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ht(e)))throw Error(ce(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Gt(a),e;if(i===r)return Gt(a),t;i=i.sibling}throw Error(ce(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(3!==n.tag)throw Error(ce(188));return n.stateNode.current===n?e:t}(e))?Xt(e):null}function Xt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xt(e);if(null!==t)return t;e=e.sibling}return null}var Jt=le.unstable_scheduleCallback,Qt=le.unstable_cancelCallback,Zt=le.unstable_shouldYield,en=le.unstable_requestPaint,tn=le.unstable_now,nn=le.unstable_getCurrentPriorityLevel,rn=le.unstable_ImmediatePriority,an=le.unstable_UserBlockingPriority,on=le.unstable_NormalPriority,sn=le.unstable_LowPriority,ln=le.unstable_IdlePriority,cn=null,un=null;var dn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(fn(e)/hn|0)|0},fn=Math.log,hn=Math.LN2;var pn=64,mn=4194304;function vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gn(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=vn(s):0!==(i&=o)&&(r=vn(i))}else 0!==(o=n&~a)?r=vn(o):0!==i&&(r=vn(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-dn(t)),r|=e[n],t&=~a;return r}function yn(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function bn(){var e=pn;return!(4194240&(pn<<=1))&&(pn=64),e}function jn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wn(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-dn(t)]=n}function Nn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var _n=0;function kn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Sn,On,En,Cn,Pn,Tn=!1,An=[],Mn=null,Dn=null,In=null,Rn=new Map,Ln=new Map,Fn=[],zn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bn(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function $n(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Ni(t))&&On(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Un(e){var t=wi(e.target);if(null!==t){var n=Ht(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Kt(n)))return e.blockedOn=t,void Pn(e.priority,function(){En(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Wn(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=er(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ni(n))&&On(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,t.shift()}return!0}function qn(e,t,n){Wn(e)&&n.delete(t)}function Vn(){Tn=!1,null!==Mn&&Wn(Mn)&&(Mn=null),null!==Dn&&Wn(Dn)&&(Dn=null),null!==In&&Wn(In)&&(In=null),Rn.forEach(qn),Ln.forEach(qn)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Tn||(Tn=!0,le.unstable_scheduleCallback(le.unstable_NormalPriority,Vn)))}function Kn(e){function t(t){return Hn(t,e)}if(0<An.length){Hn(An[0],e);for(var n=1;n<An.length;n++){var r=An[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mn&&Hn(Mn,e),null!==Dn&&Hn(Dn,e),null!==In&&Hn(In,e),Rn.forEach(t),Ln.forEach(t),n=0;n<Fn.length;n++)(r=Fn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Fn.length&&null===(n=Fn[0]).blockedOn;)Un(n),null===n.blockedOn&&Fn.shift()}var Gn=_e.ReactCurrentBatchConfig,Yn=!0;function Xn(e,t,n,r){var a=_n,i=Gn.transition;Gn.transition=null;try{_n=1,Qn(e,t,n,r)}finally{_n=a,Gn.transition=i}}function Jn(e,t,n,r){var a=_n,i=Gn.transition;Gn.transition=null;try{_n=4,Qn(e,t,n,r)}finally{_n=a,Gn.transition=i}}function Qn(e,t,n,r){if(Yn){var a=er(e,t,n,r);if(null===a)Ga(e,t,r,Zn,n),Bn(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Mn=$n(Mn,e,t,n,r,a),!0;case"dragenter":return Dn=$n(Dn,e,t,n,r,a),!0;case"mouseover":return In=$n(In,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Rn.set(i,$n(Rn.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ln.set(i,$n(Ln.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Bn(e,r),4&t&&-1<zn.indexOf(e)){for(;null!==a;){var i=Ni(a);if(null!==i&&Sn(i),null===(i=er(e,t,n,r))&&Ga(e,t,r,Zn,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Ga(e,t,r,null,n)}}var Zn=null;function er(e,t,n,r){if(Zn=null,null!==(e=wi(e=kt(r))))if(null===(t=Ht(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Kt(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zn=e,null}function tr(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nn()){case rn:return 1;case an:return 4;case on:case sn:return 16;case ln:return 536870912;default:return 16}default:return 16}}var nr=null,rr=null,ar=null;function ir(){if(ar)return ar;var e,t,n=rr,r=n.length,a="value"in nr?nr.value:nr.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return ar=a.slice(e,1<t?1-t:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sr(){return!0}function lr(){return!1}function cr(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?sr:lr,this.isPropagationStopped=lr,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var ur,dr,fr,hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=cr(hr),mr=$e({},hr,{view:0,detail:0}),vr=cr(mr),gr=$e({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&"mousemove"===e.type?(ur=e.screenX-fr.screenX,dr=e.screenY-fr.screenY):dr=ur=0,fr=e),ur)},movementY:function(e){return"movementY"in e?e.movementY:dr}}),yr=cr(gr),xr=cr($e({},gr,{dataTransfer:0})),br=cr($e({},mr,{relatedTarget:0})),jr=cr($e({},hr,{animationName:0,elapsedTime:0,pseudoElement:0})),wr=$e({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nr=cr(wr),_r=cr($e({},hr,{data:0})),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Or[e])&&!!t[e]}function Cr(){return Er}var Pr=$e({},mr,{key:function(e){if(e.key){var t=kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=or(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?or(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?or(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tr=cr(Pr),Ar=cr($e({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mr=cr($e({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr})),Dr=cr($e({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=$e({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=cr(Ir),Lr=[9,13,27,32],Fr=pe&&"CompositionEvent"in window,zr=null;pe&&"documentMode"in document&&(zr=document.documentMode);var Br=pe&&"TextEvent"in window&&!zr,$r=pe&&(!Fr||zr&&8<zr&&11>=zr),Ur=String.fromCharCode(32),Wr=!1;function qr(e,t){switch(e){case"keyup":return-1!==Lr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hr=!1;var Kr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kr[e.type]:"textarea"===t}function Yr(e,t,n,r){Pt(r),0<(t=Xa(t,"onChange")).length&&(n=new pr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xr=null,Jr=null;function Qr(e){Ua(e,0)}function Zr(e){if(Je(_i(e)))return e}function ea(e,t){if("change"===e)return t}var ta=!1;if(pe){var na;if(pe){var ra="oninput"in document;if(!ra){var aa=document.createElement("div");aa.setAttribute("oninput","return;"),ra="function"==typeof aa.oninput}na=ra}else na=!1;ta=na&&(!document.documentMode||9<document.documentMode)}function ia(){Xr&&(Xr.detachEvent("onpropertychange",oa),Jr=Xr=null)}function oa(e){if("value"===e.propertyName&&Zr(Jr)){var t=[];Yr(t,Jr,e,kt(e)),It(Qr,t)}}function sa(e,t,n){"focusin"===e?(ia(),Jr=n,(Xr=t).attachEvent("onpropertychange",oa)):"focusout"===e&&ia()}function la(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zr(Jr)}function ca(e,t){if("click"===e)return Zr(t)}function ua(e,t){if("input"===e||"change"===e)return Zr(t)}var da="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function fa(e,t){if(da(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!me.call(t,a)||!da(e[a],t[a]))return!1}return!0}function ha(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pa(e,t){var n,r=ha(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ha(r)}}function ma(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ma(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function va(){for(var e=window,t=Qe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Qe((e=t.contentWindow).document)}return t}function ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ya(e){var t=va(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ma(n.ownerDocument.documentElement,n)){if(null!==r&&ga(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=pa(n,i);var o=pa(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xa=pe&&"documentMode"in document&&11>=document.documentMode,ba=null,ja=null,wa=null,Na=!1;function _a(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Na||null==ba||ba!==Qe(r)||("selectionStart"in(r=ba)&&ga(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wa&&fa(wa,r)||(wa=r,0<(r=Xa(ja,"onSelect")).length&&(t=new pr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ba)))}function ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sa={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},Oa={},Ea={};function Ca(e){if(Oa[e])return Oa[e];if(!Sa[e])return e;var t,n=Sa[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ea)return Oa[e]=n[t];return e}pe&&(Ea=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);var Pa=Ca("animationend"),Ta=Ca("animationiteration"),Aa=Ca("animationstart"),Ma=Ca("transitionend"),Da=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(e,t){Da.set(e,t),fe(t,[e])}for(var La=0;La<Ia.length;La++){var Fa=Ia[La];Ra(Fa.toLowerCase(),"on"+(Fa[0].toUpperCase()+Fa.slice(1)))}Ra(Pa,"onAnimationEnd"),Ra(Ta,"onAnimationIteration"),Ra(Aa,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(Ma,"onTransitionEnd"),he("onMouseEnter",["mouseout","mouseover"]),he("onMouseLeave",["mouseout","mouseover"]),he("onPointerEnter",["pointerout","pointerover"]),he("onPointerLeave",["pointerout","pointerover"]),fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ba=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function $a(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,s,l){if(Vt.apply(this,arguments),Bt){if(!Bt)throw Error(ce(198));var c=$t;Bt=!1,$t=null,Ut||(Ut=!0,Wt=c)}}(r,t,void 0,e),e.currentTarget=null}function Ua(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;$a(a,s,c),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;$a(a,s,c),i=l}}}if(Ut)throw e=Wt,Ut=!1,Wt=null,e}function Wa(e,t){var n=t[xi];void 0===n&&(n=t[xi]=new Set);var r=e+"__bubble";n.has(r)||(Ka(t,e,2,!1),n.add(r))}function qa(e,t,n){var r=0;t&&(r|=4),Ka(n,e,r,t)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[Va]){e[Va]=!0,ue.forEach(function(t){"selectionchange"!==t&&(Ba.has(t)||qa(t,!1,e),qa(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Va]||(t[Va]=!0,qa("selectionchange",!1,t))}}function Ka(e,t,n,r){switch(tr(t)){case 1:var a=Xn;break;case 4:a=Jn;break;default:a=Qn}n=a.bind(null,t,n,e),a=void 0,!Lt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ga(e,t,n,r,a){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=wi(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}It(function(){var r=i,a=kt(n),o=[];e:{var s=Da.get(e);if(void 0!==s){var l=pr,c=e;switch(e){case"keypress":if(0===or(n))break e;case"keydown":case"keyup":l=Tr;break;case"focusin":c="focus",l=br;break;case"focusout":c="blur",l=br;break;case"beforeblur":case"afterblur":l=br;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mr;break;case Pa:case Ta:case Aa:l=jr;break;case Ma:l=Dr;break;case"scroll":l=vr;break;case"wheel":l=Rr;break;case"copy":case"cut":case"paste":l=Nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Rt(p,f))&&u.push(Ya(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,a),o.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_t||!(c=n.relatedTarget||n.fromElement)||!wi(c)&&!c[yi])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?wi(c):null)&&(c!==(d=Ht(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=yr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ar,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:_i(l),h=null==c?s:_i(c),(s=new u(m,p+"leave",l,n,a)).target=d,s.relatedTarget=h,m=null,wi(a)===r&&((u=new u(f,p+"enter",c,n,a)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Ja(h))p++;for(h=0,m=f;m;m=Ja(m))h++;for(;0<p-h;)u=Ja(u),p--;for(;0<h-p;)f=Ja(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Ja(u),f=Ja(f)}u=null}else u=null;null!==l&&Qa(o,s,l,u,!1),null!==c&&null!==d&&Qa(o,d,c,u,!0)}if("select"===(l=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=ea;else if(Gr(s))if(ta)v=ua;else{v=la;var g=sa}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ca);switch(v&&(v=v(e,r))?Yr(o,v,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&at(s,"number",s.value)),g=r?_i(r):window,e){case"focusin":(Gr(g)||"true"===g.contentEditable)&&(ba=g,ja=r,wa=null);break;case"focusout":wa=ja=ba=null;break;case"mousedown":Na=!0;break;case"contextmenu":case"mouseup":case"dragend":Na=!1,_a(o,n,a);break;case"selectionchange":if(xa)break;case"keydown":case"keyup":_a(o,n,a)}var y;if(Fr)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Hr?qr(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&($r&&"ko"!==n.locale&&(Hr||"onCompositionStart"!==x?"onCompositionEnd"===x&&Hr&&(y=ir()):(rr="value"in(nr=a)?nr.value:nr.textContent,Hr=!0)),0<(g=Xa(r,x)).length&&(x=new _r(x,e,null,n,a),o.push({event:x,listeners:g}),y?x.data=y:null!==(y=Vr(n))&&(x.data=y))),(y=Br?function(e,t){switch(e){case"compositionend":return Vr(t);case"keypress":return 32!==t.which?null:(Wr=!0,Ur);case"textInput":return(e=t.data)===Ur&&Wr?null:e;default:return null}}(e,n):function(e,t){if(Hr)return"compositionend"===e||!Fr&&qr(e,t)?(e=ir(),ar=rr=nr=null,Hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xa(r,"onBeforeInput")).length&&(a=new _r("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Ua(o,t)})}function Ya(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xa(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Rt(e,n))&&r.unshift(Ya(e,i,a)),null!=(i=Rt(e,t))&&r.push(Ya(e,i,a))),e=e.return}return r}function Ja(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qa(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Rt(n,i))&&o.unshift(Ya(n,l,s)):a||null!=(l=Rt(n,i))&&o.push(Ya(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Za=/\r\n?/g,ei=/\u0000|\uFFFD/g;function ti(e){return("string"==typeof e?e:""+e).replace(Za,"\n").replace(ei,"")}function ni(e,t,n){if(t=ti(t),ti(e)!==t&&n)throw Error(ce(425))}function ri(){}var ai=null,ii=null;function oi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var si="function"==typeof setTimeout?setTimeout:void 0,li="function"==typeof clearTimeout?clearTimeout:void 0,ci="function"==typeof Promise?Promise:void 0,ui="function"==typeof queueMicrotask?queueMicrotask:void 0!==ci?function(e){return ci.resolve(null).then(e).catch(di)}:si;function di(e){setTimeout(function(){throw e})}function fi(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Kn(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Kn(t)}function hi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function pi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),vi="__reactFiber$"+mi,gi="__reactProps$"+mi,yi="__reactContainer$"+mi,xi="__reactEvents$"+mi,bi="__reactListeners$"+mi,ji="__reactHandles$"+mi;function wi(e){var t=e[vi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yi]||n[vi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pi(e);null!==e;){if(n=e[vi])return n;e=pi(e)}return t}n=(e=n).parentNode}return null}function Ni(e){return!(e=e[vi]||e[yi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(ce(33))}function ki(e){return e[gi]||null}var Si=[],Oi=-1;function Ei(e){return{current:e}}function Ci(e){0>Oi||(e.current=Si[Oi],Si[Oi]=null,Oi--)}function Pi(e,t){Oi++,Si[Oi]=e.current,e.current=t}var Ti={},Ai=Ei(Ti),Mi=Ei(!1),Di=Ti;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ri(e){return null!=(e=e.childContextTypes)}function Li(){Ci(Mi),Ci(Ai)}function Fi(e,t,n){if(Ai.current!==Ti)throw Error(ce(168));Pi(Ai,t),Pi(Mi,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(ce(108,Ke(e)||"Unknown",a));return $e({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Di=Ai.current,Pi(Ai,e),Pi(Mi,Mi.current),!0}function $i(e,t,n){var r=e.stateNode;if(!r)throw Error(ce(169));n?(e=zi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ci(Mi),Ci(Ai),Pi(Ai,e)):Ci(Mi),Pi(Mi,n)}var Ui=null,Wi=!1,qi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Hi(){if(!qi&&null!==Ui){qi=!0;var e=0,t=_n;try{var n=Ui;for(_n=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Wi=!1}catch(a){throw null!==Ui&&(Ui=Ui.slice(e+1)),Jt(rn,Hi),a}finally{_n=t,qi=!1}}return null}var Ki=[],Gi=0,Yi=null,Xi=0,Ji=[],Qi=0,Zi=null,eo=1,to="";function no(e,t){Ki[Gi++]=Xi,Ki[Gi++]=Yi,Yi=e,Xi=t}function ro(e,t,n){Ji[Qi++]=eo,Ji[Qi++]=to,Ji[Qi++]=Zi,Zi=e;var r=eo;e=to;var a=32-dn(r)-1;r&=~(1<<a),n+=1;var i=32-dn(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,eo=1<<32-dn(t)+a|n<<a|r,to=i+e}else eo=1<<i|n<<a|r,to=e}function ao(e){null!==e.return&&(no(e,1),ro(e,1,0))}function io(e){for(;e===Yi;)Yi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null;for(;e===Zi;)Zi=Ji[--Qi],Ji[Qi]=null,to=Ji[--Qi],Ji[Qi]=null,eo=Ji[--Qi],Ji[Qi]=null}var oo=null,so=null,lo=!1,co=null;function uo(e,t){var n=Iu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function fo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,oo=e,so=hi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,oo=e,so=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:eo,overflow:to}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Iu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,oo=e,so=null,!0);default:return!1}}function ho(e){return!(!(1&e.mode)||128&e.flags)}function po(e){if(lo){var t=so;if(t){var n=t;if(!fo(e,t)){if(ho(e))throw Error(ce(418));t=hi(n.nextSibling);var r=oo;t&&fo(e,t)?uo(r,n):(e.flags=-4097&e.flags|2,lo=!1,oo=e)}}else{if(ho(e))throw Error(ce(418));e.flags=-4097&e.flags|2,lo=!1,oo=e}}}function mo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oo=e}function vo(e){if(e!==oo)return!1;if(!lo)return mo(e),lo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!oi(e.type,e.memoizedProps)),t&&(t=so)){if(ho(e))throw go(),Error(ce(418));for(;t;)uo(e,t),t=hi(t.nextSibling)}if(mo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){so=hi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}so=null}}else so=oo?hi(e.stateNode.nextSibling):null;return!0}function go(){for(var e=so;e;)e=hi(e.nextSibling)}function yo(){so=oo=null,lo=!1}function xo(e){null===co?co=[e]:co.push(e)}var bo=_e.ReactCurrentBatchConfig;function jo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function No(e){return(0,e._init)(e._payload)}function _o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===Oe?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===Re&&No(i)===t.type)?((r=a(t,n.props)).ref=jo(e,t,n),r.return=e,r):((r=Fu(n.type,n.key,n.props,null,e.mode,r)).ref=jo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=zu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ke:return(n=Fu(t.type,t.key,t.props,null,e.mode,n)).ref=jo(e,null,t),n.return=e,n;case Se:return(t=Uu(t,e.mode,n)).return=e,t;case Re:return d(e,(0,t._init)(t._payload),n)}if(it(t)||ze(t))return(t=zu(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ke:return n.key===a?l(e,t,n,r):null;case Se:return n.key===a?c(e,t,n,r):null;case Re:return f(e,t,(a=n._init)(n._payload),r)}if(it(n)||ze(n))return null!==a?null:u(e,t,n,r,null);wo(e,n)}return null}function h(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ke:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case Se:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case Re:return h(e,t,n,(0,r._init)(r._payload),a)}if(it(r)||ze(r))return u(t,e=e.get(n)||null,r,a,null);wo(t,r)}return null}return function s(l,c,u,p){if("object"==typeof u&&null!==u&&u.type===Oe&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case ke:e:{for(var m=u.key,v=c;null!==v;){if(v.key===m){if((m=u.type)===Oe){if(7===v.tag){n(l,v.sibling),(c=a(v,u.props.children)).return=l,l=c;break e}}else if(v.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===Re&&No(m)===v.type){n(l,v.sibling),(c=a(v,u.props)).ref=jo(l,v,u),c.return=l,l=c;break e}n(l,v);break}t(l,v),v=v.sibling}u.type===Oe?((c=zu(u.props.children,l.mode,p,u.key)).return=l,l=c):((p=Fu(u.type,u.key,u.props,null,l.mode,p)).ref=jo(l,c,u),p.return=l,l=p)}return o(l);case Se:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=a(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=Uu(u,l.mode,p)).return=l,l=c}return o(l);case Re:return s(l,c,(v=u._init)(u._payload),p)}if(it(u))return function(a,o,s,l){for(var c=null,u=null,p=o,m=o=0,v=null;null!==p&&m<s.length;m++){p.index>m?(v=p,p=null):v=p.sibling;var g=f(a,p,s[m],l);if(null===g){null===p&&(p=v);break}e&&p&&null===g.alternate&&t(a,p),o=i(g,o,m),null===u?c=g:u.sibling=g,u=g,p=v}if(m===s.length)return n(a,p),lo&&no(a,m),c;if(null===p){for(;m<s.length;m++)null!==(p=d(a,s[m],l))&&(o=i(p,o,m),null===u?c=p:u.sibling=p,u=p);return lo&&no(a,m),c}for(p=r(a,p);m<s.length;m++)null!==(v=h(p,a,m,s[m],l))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=i(v,o,m),null===u?c=v:u.sibling=v,u=v);return e&&p.forEach(function(e){return t(a,e)}),lo&&no(a,m),c}(l,c,u,p);if(ze(u))return function(a,o,s,l){var c=ze(s);if("function"!=typeof c)throw Error(ce(150));if(null==(s=c.call(s)))throw Error(ce(151));for(var u=c=null,p=o,m=o=0,v=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(v=p,p=null):v=p.sibling;var y=f(a,p,g.value,l);if(null===y){null===p&&(p=v);break}e&&p&&null===y.alternate&&t(a,p),o=i(y,o,m),null===u?c=y:u.sibling=y,u=y,p=v}if(g.done)return n(a,p),lo&&no(a,m),c;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=d(a,g.value,l))&&(o=i(g,o,m),null===u?c=g:u.sibling=g,u=g);return lo&&no(a,m),c}for(p=r(a,p);!g.done;m++,g=s.next())null!==(g=h(p,a,m,g.value,l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=i(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach(function(e){return t(a,e)}),lo&&no(a,m),c}(l,c,u,p);wo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=a(c,u)).return=l,l=c):(n(l,c),(c=$u(u,l.mode,p)).return=l,l=c),o(l)):n(l,c)}}var ko=_o(!0),So=_o(!1),Oo=Ei(null),Eo=null,Co=null,Po=null;function To(){Po=Co=Eo=null}function Ao(e){var t=Oo.current;Ci(Oo),e._currentValue=t}function Mo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Do(e,t){Eo=e,Po=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Nl=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(Po!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===Eo)throw Error(ce(308));Co=e,Eo.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Ro=null;function Lo(e){null===Ro?Ro=[e]:Ro.push(e)}function Fo(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Lo(t)):(n.next=a.next,a.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Bo=!1;function $o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ac){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,zo(e,n)}return null===(a=r.interleaved)?(t.next=t,Lo(r)):(t.next=a.next,a.next=t),r.interleaved=t,zo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Nn(e,n)}}function Ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ko(e,t,n,r){var a=e.updateQueue;Bo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=m.payload)?p.call(h,d,f):p))break e;d=$e({},d,f);break e;case 2:Bo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Bc|=o,e.lanes=o,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(ce(191,a));a.call(r)}}}var Yo={},Xo=Ei(Yo),Jo=Ei(Yo),Qo=Ei(Yo);function Zo(e){if(e===Yo)throw Error(ce(174));return e}function es(e,t){switch(Pi(Qo,t),Pi(Jo,e),Pi(Xo,Yo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ft(null,"");break;default:t=ft(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Xo),Pi(Xo,t)}function ts(){Ci(Xo),Ci(Jo),Ci(Qo)}function ns(e){Zo(Qo.current);var t=Zo(Xo.current),n=ft(t,e.type);t!==n&&(Pi(Jo,e),Pi(Xo,n))}function rs(e){Jo.current===e&&(Ci(Xo),Ci(Jo))}var as=Ei(0);function is(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var os=[];function ss(){for(var e=0;e<os.length;e++)os[e]._workInProgressVersionPrimary=null;os.length=0}var ls=_e.ReactCurrentDispatcher,cs=_e.ReactCurrentBatchConfig,us=0,ds=null,fs=null,hs=null,ps=!1,ms=!1,vs=0,gs=0;function ys(){throw Error(ce(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!da(e[n],t[n]))return!1;return!0}function bs(e,t,n,r,a,i){if(us=i,ds=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ls.current=null===e||null===e.memoizedState?rl:al,e=n(r,a),ms){i=0;do{if(ms=!1,vs=0,25<=i)throw Error(ce(301));i+=1,hs=fs=null,t.updateQueue=null,ls.current=il,e=n(r,a)}while(ms)}if(ls.current=nl,t=null!==fs&&null!==fs.next,us=0,hs=fs=ds=null,ps=!1,t)throw Error(ce(300));return e}function js(){var e=0!==vs;return vs=0,e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===hs?ds.memoizedState=hs=e:hs=hs.next=e,hs}function Ns(){if(null===fs){var e=ds.alternate;e=null!==e?e.memoizedState:null}else e=fs.next;var t=null===hs?ds.memoizedState:hs.next;if(null!==t)hs=t,fs=e;else{if(null===e)throw Error(ce(310));e={memoizedState:(fs=e).memoizedState,baseState:fs.baseState,baseQueue:fs.baseQueue,queue:fs.queue,next:null},null===hs?ds.memoizedState=hs=e:hs=hs.next=e}return hs}function _s(e,t){return"function"==typeof t?t(e):t}function ks(e){var t=Ns(),n=t.queue;if(null===n)throw Error(ce(311));n.lastRenderedReducer=e;var r=fs,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var u=c.lane;if((us&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,ds.lanes|=u,Bc|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,da(r,t.memoizedState)||(Nl=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ds.lanes|=i,Bc|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=Ns(),n=t.queue;if(null===n)throw Error(ce(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);da(i,t.memoizedState)||(Nl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Os(){}function Es(e,t){var n=ds,r=Ns(),a=t(),i=!da(r.memoizedState,a);if(i&&(r.memoizedState=a,Nl=!0),r=r.queue,Bs(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==hs&&1&hs.memoizedState.tag){if(n.flags|=2048,Is(9,Ps.bind(null,n,r,a,t),void 0,null),null===Mc)throw Error(ce(349));30&us||Cs(n,t,a)}return a}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ps(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Ms(e)}function Ts(e,t,n){return n(function(){As(t)&&Ms(e)})}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!da(e,n)}catch(r){return!0}}function Ms(e){var t=zo(e,1);null!==t&&ou(t,e,1,-1)}function Ds(e){var t=ws();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,ds,e),[t.memoizedState,e]}function Is(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ds.updateQueue)?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return Ns().memoizedState}function Ls(e,t,n,r){var a=ws();ds.flags|=e,a.memoizedState=Is(1|t,n,void 0,void 0===r?null:r)}function Fs(e,t,n,r){var a=Ns();r=void 0===r?null:r;var i=void 0;if(null!==fs){var o=fs.memoizedState;if(i=o.destroy,null!==r&&xs(r,o.deps))return void(a.memoizedState=Is(t,n,i,r))}ds.flags|=e,a.memoizedState=Is(1|t,n,i,r)}function zs(e,t){return Ls(8390656,8,e,t)}function Bs(e,t){return Fs(2048,8,e,t)}function $s(e,t){return Fs(4,2,e,t)}function Us(e,t){return Fs(4,4,e,t)}function Ws(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qs(e,t,n){return n=null!=n?n.concat([e]):null,Fs(4,4,Ws.bind(null,t,e),n)}function Vs(){}function Hs(e,t){var n=Ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ks(e,t){var n=Ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gs(e,t,n){return 21&us?(da(n,t)||(n=bn(),ds.lanes|=n,Bc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nl=!0),e.memoizedState=n)}function Ys(e,t){var n=_n;_n=0!==n&&4>n?n:4,e(!0);var r=cs.transition;cs.transition={};try{e(!1),t()}finally{_n=n,cs.transition=r}}function Xs(){return Ns().memoizedState}function Js(e,t,n){var r=iu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zs(e))el(t,n);else if(null!==(n=Fo(e,t,n,r))){ou(n,e,r,au()),tl(n,t,r)}}function Qs(e,t,n){var r=iu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zs(e))el(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,da(s,o)){var l=t.interleaved;return null===l?(a.next=a,Lo(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Fo(e,t,a,r))&&(ou(n,e,r,a=au()),tl(n,t,r))}}function Zs(e){var t=e.alternate;return e===ds||null!==t&&t===ds}function el(e,t){ms=ps=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tl(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Nn(e,n)}}var nl={readContext:Io,useCallback:ys,useContext:ys,useEffect:ys,useImperativeHandle:ys,useInsertionEffect:ys,useLayoutEffect:ys,useMemo:ys,useReducer:ys,useRef:ys,useState:ys,useDebugValue:ys,useDeferredValue:ys,useTransition:ys,useMutableSource:ys,useSyncExternalStore:ys,useId:ys,unstable_isNewReconciler:!1},rl={readContext:Io,useCallback:function(e,t){return ws().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:zs,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ls(4194308,4,Ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Js.bind(null,ds,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ws().memoizedState=e},useState:Ds,useDebugValue:Vs,useDeferredValue:function(e){return ws().memoizedState=e},useTransition:function(){var e=Ds(!1),t=e[0];return e=Ys.bind(null,e[1]),ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ds,a=ws();if(lo){if(void 0===n)throw Error(ce(407));n=n()}else{if(n=t(),null===Mc)throw Error(ce(349));30&us||Cs(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,zs(Ts.bind(null,r,i,e),[e]),r.flags|=2048,Is(9,Ps.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ws(),t=Mc.identifierPrefix;if(lo){var n=to;t=":"+t+"R"+(n=(eo&~(1<<32-dn(eo)-1)).toString(32)+n),0<(n=vs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=gs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},al={readContext:Io,useCallback:Hs,useContext:Io,useEffect:Bs,useImperativeHandle:qs,useInsertionEffect:$s,useLayoutEffect:Us,useMemo:Ks,useReducer:ks,useRef:Rs,useState:function(){return ks(_s)},useDebugValue:Vs,useDeferredValue:function(e){return Gs(Ns(),fs.memoizedState,e)},useTransition:function(){return[ks(_s)[0],Ns().memoizedState]},useMutableSource:Os,useSyncExternalStore:Es,useId:Xs,unstable_isNewReconciler:!1},il={readContext:Io,useCallback:Hs,useContext:Io,useEffect:Bs,useImperativeHandle:qs,useInsertionEffect:$s,useLayoutEffect:Us,useMemo:Ks,useReducer:Ss,useRef:Rs,useState:function(){return Ss(_s)},useDebugValue:Vs,useDeferredValue:function(e){var t=Ns();return null===fs?t.memoizedState=e:Gs(t,fs.memoizedState,e)},useTransition:function(){return[Ss(_s)[0],Ns().memoizedState]},useMutableSource:Os,useSyncExternalStore:Es,useId:Xs,unstable_isNewReconciler:!1};function ol(e,t){if(e&&e.defaultProps){for(var n in t=$e({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function sl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:$e({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ll={isMounted:function(e){return!!(e=e._reactInternals)&&Ht(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),a=iu(e),i=Wo(r,a);i.payload=t,null!=n&&(i.callback=n),null!==(t=qo(e,i,a))&&(ou(t,e,a,r),Vo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),a=iu(e),i=Wo(r,a);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=qo(e,i,a))&&(ou(t,e,a,r),Vo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=iu(e),a=Wo(n,r);a.tag=2,null!=t&&(a.callback=t),null!==(t=qo(e,a,r))&&(ou(t,e,r,n),Vo(t,e,r))}};function cl(e,t,n,r,a,i,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!fa(n,r)||!fa(a,i))}function ul(e,t,n){var r=!1,a=Ti,i=t.contextType;return"object"==typeof i&&null!==i?i=Io(i):(a=Ri(t)?Di:Ai.current,i=(r=null!=(r=t.contextTypes))?Ii(e,a):Ti),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ll,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function dl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ll.enqueueReplaceState(t,t.state,null)}function fl(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},$o(e);var i=t.contextType;"object"==typeof i&&null!==i?a.context=Io(i):(i=Ri(t)?Di:Ai.current,a.context=Ii(e,i)),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(sl(e,t,i,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ll.enqueueReplaceState(a,a.state,null),Ko(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function hl(e,t){try{var n="",r=t;do{n+=Ve(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ml(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vl="function"==typeof WeakMap?WeakMap:Map;function gl(e,t,n){(n=Wo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,Yc=r),ml(0,t)},n}function yl(e,t,n){(n=Wo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ml(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){ml(0,t),"function"!=typeof r&&(null===Xc?Xc=new Set([this]):Xc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new vl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function bl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function jl(e,t,n,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Wo(-1,1)).tag=2,qo(n,t,1))),n.lanes|=1),e)}var wl=_e.ReactCurrentOwner,Nl=!1;function _l(e,t,n,r){t.child=null===e?So(t,null,n,r):ko(t,e.child,n,r)}function kl(e,t,n,r,a){n=n.render;var i=t.ref;return Do(t,a),r=bs(e,t,n,r,i,a),n=js(),null===e||Nl?(lo&&n&&ao(t),t.flags|=1,_l(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gl(e,t,a))}function Sl(e,t,n,r,a){if(null===e){var i=n.type;return"function"!=typeof i||Ru(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ol(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:fa)(o,r)&&e.ref===t.ref)return Gl(e,t,a)}return t.flags|=1,(e=Lu(i,r)).ref=t.ref,e.return=t,t.child=e}function Ol(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(fa(i,r)&&e.ref===t.ref){if(Nl=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Gl(e,t,a);131072&e.flags&&(Nl=!0)}}return Pl(e,t,n,r,a)}function El(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Lc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Pi(Lc,Rc),Rc|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Lc,Rc),Rc|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Pi(Lc,Rc),Rc|=r;return _l(e,t,a,n),t.child}function Cl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,n,r,a){var i=Ri(n)?Di:Ai.current;return i=Ii(t,i),Do(t,a),n=bs(e,t,n,r,i,a),r=js(),null===e||Nl?(lo&&r&&ao(t),t.flags|=1,_l(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gl(e,t,a))}function Tl(e,t,n,r,a){if(Ri(n)){var i=!0;Bi(t)}else i=!1;if(Do(t,a),null===t.stateNode)Kl(e,t),ul(t,n,r),fl(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=Io(c):c=Ii(t,c=Ri(n)?Di:Ai.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&dl(t,o,r,c),Bo=!1;var f=t.memoizedState;o.state=f,Ko(t,r,o,a),l=t.memoizedState,s!==r||f!==l||Mi.current||Bo?("function"==typeof u&&(sl(t,n,u,r),l=t.memoizedState),(s=Bo||cl(t,n,s,r,f,l,c))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Uo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ol(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Io(l):l=Ii(t,l=Ri(n)?Di:Ai.current);var h=n.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&dl(t,o,r,l),Bo=!1,f=t.memoizedState,o.state=f,Ko(t,r,o,a);var p=t.memoizedState;s!==d||f!==p||Mi.current||Bo?("function"==typeof h&&(sl(t,n,h,r),p=t.memoizedState),(c=Bo||cl(t,n,c,r,f,p,l)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,i,a)}function Al(e,t,n,r,a,i){Cl(e,t);var o=!!(128&t.flags);if(!r&&!o)return a&&$i(t,n,!1),Gl(e,t,i);r=t.stateNode,wl.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ko(t,e.child,null,i),t.child=ko(t,null,s,i)):_l(e,t,s,i),t.memoizedState=r.state,a&&$i(t,n,!0),t.child}function Ml(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),es(e,t.containerInfo)}function Dl(e,t,n,r,a){return yo(),xo(a),t.flags|=256,_l(e,t,n,r),t.child}var Il,Rl,Ll,Fl,zl={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function $l(e,t,n){var r,a=t.pendingProps,i=as.current,o=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Pi(as,1&i),null===e)return po(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=a.children,e=a.fallback,o?(a=t.mode,o=t.child,s={mode:"hidden",children:s},1&a||null===o?o=Bu(s,a,0,null):(o.childLanes=0,o.pendingProps=s),e=zu(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bl(n),t.memoizedState=zl,e):Ul(t,s));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Wl(e,t,o,r=pl(Error(ce(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Bu({mode:"visible",children:r.children},a,0,null),(i=zu(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,1&t.mode&&ko(t,e.child,null,o),t.child.memoizedState=Bl(o),t.memoizedState=zl,i);if(!(1&t.mode))return Wl(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var s=r.dgst;return r=s,Wl(e,t,o,r=pl(i=Error(ce(419)),r,void 0))}if(s=0!==(o&e.childLanes),Nl||s){if(null!==(r=Mc)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,zo(e,a),ou(r,e,a,-1))}return xu(),Wl(e,t,o,r=pl(Error(ce(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,so=hi(a.nextSibling),oo=t,lo=!0,co=null,null!==e&&(Ji[Qi++]=eo,Ji[Qi++]=to,Ji[Qi++]=Zi,eo=e.id,to=e.overflow,Zi=t),t=Ul(t,r.children),t.flags|=4096,t)}(e,t,s,a,r,i,n);if(o){o=a.fallback,s=t.mode,r=(i=e.child).sibling;var l={mode:"hidden",children:a.children};return 1&s||t.child===i?(a=Lu(i,l)).subtreeFlags=14680064&i.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null),null!==r?o=Lu(r,o):(o=zu(o,s,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,s=null===(s=e.child.memoizedState)?Bl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=zl,a}return e=(o=e.child).sibling,a=Lu(o,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ul(e,t){return(t=Bu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Wl(e,t,n,r){return null!==r&&xo(r),ko(t,e.child,null,n),(e=Ul(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ql(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Mo(e.return,t,n)}function Vl(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Hl(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(_l(e,t,r.children,n),2&(r=as.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ql(e,n,t);else if(19===e.tag)ql(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(as,r),1&t.mode)switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===is(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vl(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===is(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vl(t,!0,n,null,i);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Kl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(ce(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yl(e,t){if(!lo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jl(e,t,n){var r=t.pendingProps;switch(io(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xl(t),null;case 1:case 17:return Ri(t.type)&&Li(),Xl(t),null;case 3:return r=t.stateNode,ts(),Ci(Mi),Ci(Ai),ss(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(vo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==co&&(uu(co),co=null))),Rl(e,t),Xl(t),null;case 5:rs(t);var a=Zo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ll(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(ce(166));return Xl(t),null}if(e=Zo(Xo.current),vo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[vi]=t,r[gi]=i,e=!!(1&t.mode),n){case"dialog":Wa("cancel",r),Wa("close",r);break;case"iframe":case"object":case"embed":Wa("load",r);break;case"video":case"audio":for(a=0;a<za.length;a++)Wa(za[a],r);break;case"source":Wa("error",r);break;case"img":case"image":case"link":Wa("error",r),Wa("load",r);break;case"details":Wa("toggle",r);break;case"input":et(r,i),Wa("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Wa("invalid",r);break;case"textarea":lt(r,i),Wa("invalid",r)}for(var o in wt(n,i),a=null,i)if(i.hasOwnProperty(o)){var s=i[o];"children"===o?"string"==typeof s?r.textContent!==s&&(!0!==i.suppressHydrationWarning&&ni(r.textContent,s,e),a=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==i.suppressHydrationWarning&&ni(r.textContent,s,e),a=["children",""+s]):de.hasOwnProperty(o)&&null!=s&&"onScroll"===o&&Wa("scroll",r)}switch(n){case"input":Xe(r),rt(r,i,!0);break;case"textarea":Xe(r),ut(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=ri)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=dt(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[vi]=t,e[gi]=r,Il(e,t,!1,!1),t.stateNode=e;e:{switch(o=Nt(n,r),n){case"dialog":Wa("cancel",e),Wa("close",e),a=r;break;case"iframe":case"object":case"embed":Wa("load",e),a=r;break;case"video":case"audio":for(a=0;a<za.length;a++)Wa(za[a],e);a=r;break;case"source":Wa("error",e),a=r;break;case"img":case"image":case"link":Wa("error",e),Wa("load",e),a=r;break;case"details":Wa("toggle",e),a=r;break;case"input":et(e,r),a=Ze(e,r),Wa("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=$e({},r,{value:void 0}),Wa("invalid",e);break;case"textarea":lt(e,r),a=st(e,r),Wa("invalid",e)}for(i in wt(n,a),s=a)if(s.hasOwnProperty(i)){var l=s[i];"style"===i?bt(e,l):"dangerouslySetInnerHTML"===i?null!=(l=l?l.__html:void 0)&&mt(e,l):"children"===i?"string"==typeof l?("textarea"!==n||""!==l)&&vt(e,l):"number"==typeof l&&vt(e,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(de.hasOwnProperty(i)?null!=l&&"onScroll"===i&&Wa("scroll",e):null!=l&&Ne(e,i,l,o))}switch(n){case"input":Xe(e),rt(e,r,!1);break;case"textarea":Xe(e),ut(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ot(e,!!r.multiple,i,!1):null!=r.defaultValue&&ot(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xl(t),null;case 6:if(e&&null!=t.stateNode)Fl(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(ce(166));if(n=Zo(Qo.current),Zo(Xo.current),vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[vi]=t,(i=r.nodeValue!==n)&&null!==(e=oo))switch(e.tag){case 3:ni(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ni(r.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[vi]=t,t.stateNode=r}return Xl(t),null;case 13:if(Ci(as),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(lo&&null!==so&&1&t.mode&&!(128&t.flags))go(),yo(),t.flags|=98560,i=!1;else if(i=vo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(ce(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(ce(317));i[vi]=t}else yo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xl(t),i=!1}else null!==co&&(uu(co),co=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&as.current?0===Fc&&(Fc=3):xu())),null!==t.updateQueue&&(t.flags|=4),Xl(t),null);case 4:return ts(),Rl(e,t),null===e&&Ha(t.stateNode.containerInfo),Xl(t),null;case 10:return Ao(t.type._context),Xl(t),null;case 19:if(Ci(as),null===(i=t.memoizedState))return Xl(t),null;if(r=!!(128&t.flags),null===(o=i.rendering))if(r)Yl(i,!1);else{if(0!==Fc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=is(e))){for(t.flags|=128,Yl(i,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(as,1&as.current|2),t.child}e=e.sibling}null!==i.tail&&tn()>Hc&&(t.flags|=128,r=!0,Yl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=is(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!lo)return Xl(t),null}else 2*tn()-i.renderingStartTime>Hc&&1073741824!==n&&(t.flags|=128,r=!0,Yl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tn(),t.sibling=null,n=as.current,Pi(as,r?1&n|2:1&n),t):(Xl(t),null);case 22:case 23:return mu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Rc)&&(Xl(t),6&t.subtreeFlags&&(t.flags|=8192)):Xl(t),null;case 24:case 25:return null}throw Error(ce(156,t.tag))}function Ql(e,t){switch(io(t),t.tag){case 1:return Ri(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ts(),Ci(Mi),Ci(Ai),ss(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return rs(t),null;case 13:if(Ci(as),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(ce(340));yo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(as),null;case 4:return ts(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return mu(),null;default:return null}}Il=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rl=function(){},Ll=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Zo(Xo.current);var i,o=null;switch(n){case"input":a=Ze(e,a),r=Ze(e,r),o=[];break;case"select":a=$e({},a,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":a=st(e,a),r=st(e,r),o=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=ri)}for(c in wt(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var s=a[c];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(de.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(de.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Wa("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Fl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zl=!1,ec=!1,tc="function"==typeof WeakSet?WeakSet:Set,nc=null;function rc(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function ac(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var ic=!1;function oc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&ac(t,n,i)}a=a.next}while(a!==r)}}function sc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function cc(e){var t=e.alternate;null!==t&&(e.alternate=null,cc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[vi],delete t[gi],delete t[xi],delete t[bi],delete t[ji])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uc(e){return 5===e.tag||3===e.tag||4===e.tag}function dc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||uc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ri));else if(4!==r&&null!==(e=e.child))for(fc(e,t,n),e=e.sibling;null!==e;)fc(e,t,n),e=e.sibling}function hc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hc(e,t,n),e=e.sibling;null!==e;)hc(e,t,n),e=e.sibling}var pc=null,mc=!1;function vc(e,t,n){for(n=n.child;null!==n;)gc(e,t,n),n=n.sibling}function gc(e,t,n){if(un&&"function"==typeof un.onCommitFiberUnmount)try{un.onCommitFiberUnmount(cn,n)}catch(s){}switch(n.tag){case 5:ec||rc(n,t);case 6:var r=pc,a=mc;pc=null,vc(e,t,n),mc=a,null!==(pc=r)&&(mc?(e=pc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):pc.removeChild(n.stateNode));break;case 18:null!==pc&&(mc?(e=pc,n=n.stateNode,8===e.nodeType?fi(e.parentNode,n):1===e.nodeType&&fi(e,n),Kn(e)):fi(pc,n.stateNode));break;case 4:r=pc,a=mc,pc=n.stateNode.containerInfo,mc=!0,vc(e,t,n),pc=r,mc=a;break;case 0:case 11:case 14:case 15:if(!ec&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(2&i||4&i)&&ac(n,t,o),a=a.next}while(a!==r)}vc(e,t,n);break;case 1:if(!ec&&(rc(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}vc(e,t,n);break;case 21:vc(e,t,n);break;case 22:1&n.mode?(ec=(r=ec)||null!==n.memoizedState,vc(e,t,n),ec=r):vc(e,t,n);break;default:vc(e,t,n)}}function yc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new tc),t.forEach(function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function xc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:pc=s.stateNode,mc=!1;break e;case 3:case 4:pc=s.stateNode.containerInfo,mc=!0;break e}s=s.return}if(null===pc)throw Error(ce(160));gc(i,o,a),pc=null,mc=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){Eu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bc(t,e),t=t.sibling}function bc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xc(t,e),jc(e),4&r){try{oc(3,e,e.return),sc(3,e)}catch(m){Eu(e,e.return,m)}try{oc(5,e,e.return)}catch(m){Eu(e,e.return,m)}}break;case 1:xc(t,e),jc(e),512&r&&null!==n&&rc(n,n.return);break;case 5:if(xc(t,e),jc(e),512&r&&null!==n&&rc(n,n.return),32&e.flags){var a=e.stateNode;try{vt(a,"")}catch(m){Eu(e,e.return,m)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===i.type&&null!=i.name&&tt(a,i),Nt(s,o);var c=Nt(s,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];"style"===u?bt(a,d):"dangerouslySetInnerHTML"===u?mt(a,d):"children"===u?vt(a,d):Ne(a,u,d,c)}switch(s){case"input":nt(a,i);break;case"textarea":ct(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ot(a,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?ot(a,!!i.multiple,i.defaultValue,!0):ot(a,!!i.multiple,i.multiple?[]:"",!1))}a[gi]=i}catch(m){Eu(e,e.return,m)}}break;case 6:if(xc(t,e),jc(e),4&r){if(null===e.stateNode)throw Error(ce(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Eu(e,e.return,m)}}break;case 3:if(xc(t,e),jc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(m){Eu(e,e.return,m)}break;case 4:default:xc(t,e),jc(e);break;case 13:xc(t,e),jc(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Vc=tn())),4&r&&yc(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(ec=(c=ec)||u,xc(t,e),ec=c):xc(t,e),jc(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(nc=e,u=e.child;null!==u;){for(d=nc=u;null!==nc;){switch(h=(f=nc).child,f.tag){case 0:case 11:case 14:case 15:oc(4,f,f.return);break;case 1:rc(f,f.return);var p=f.stateNode;if("function"==typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Eu(r,n,m)}}break;case 5:rc(f,f.return);break;case 22:if(null!==f.memoizedState){kc(d);continue}}null!==h?(h.return=f,nc=h):kc(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{a=d.stateNode,c?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=d.stateNode,o=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=xt("display",o))}catch(m){Eu(e,e.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Eu(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xc(t,e),jc(e),4&r&&yc(e);case 21:}}function jc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(uc(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(vt(a,""),r.flags&=-33),hc(e,dc(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;fc(e,dc(e),i);break;default:throw Error(ce(161))}}catch(o){Eu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wc(e,t,n){nc=e,Nc(e)}function Nc(e,t,n){for(var r=!!(1&e.mode);null!==nc;){var a=nc,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Zl;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||ec;s=Zl;var c=ec;if(Zl=o,(ec=l)&&!c)for(nc=a;null!==nc;)l=(o=nc).child,22===o.tag&&null!==o.memoizedState?Sc(a):null!==l?(l.return=o,nc=l):Sc(a);for(;null!==i;)nc=i,Nc(i),i=i.sibling;nc=a,Zl=s,ec=c}_c(e)}else 8772&a.subtreeFlags&&null!==i?(i.return=a,nc=i):_c(e)}}function _c(e){for(;null!==nc;){var t=nc;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:ec||sc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ec)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ol(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Go(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Kn(d)}}}break;default:throw Error(ce(163))}ec||512&t.flags&&lc(t)}catch(f){Eu(t,t.return,f)}}if(t===e){nc=null;break}if(null!==(n=t.sibling)){n.return=t.return,nc=n;break}nc=t.return}}function kc(e){for(;null!==nc;){var t=nc;if(t===e){nc=null;break}var n=t.sibling;if(null!==n){n.return=t.return,nc=n;break}nc=t.return}}function Sc(e){for(;null!==nc;){var t=nc;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sc(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Eu(t,a,l)}}var i=t.return;try{lc(t)}catch(l){Eu(t,i,l)}break;case 5:var o=t.return;try{lc(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){nc=null;break}var s=t.sibling;if(null!==s){s.return=t.return,nc=s;break}nc=t.return}}var Oc,Ec=Math.ceil,Cc=_e.ReactCurrentDispatcher,Pc=_e.ReactCurrentOwner,Tc=_e.ReactCurrentBatchConfig,Ac=0,Mc=null,Dc=null,Ic=0,Rc=0,Lc=Ei(0),Fc=0,zc=null,Bc=0,$c=0,Uc=0,Wc=null,qc=null,Vc=0,Hc=1/0,Kc=null,Gc=!1,Yc=null,Xc=null,Jc=!1,Qc=null,Zc=0,eu=0,tu=null,nu=-1,ru=0;function au(){return 6&Ac?tn():-1!==nu?nu:nu=tn()}function iu(e){return 1&e.mode?2&Ac&&0!==Ic?Ic&-Ic:null!==bo.transition?(0===ru&&(ru=bn()),ru):0!==(e=_n)?e:e=void 0===(e=window.event)?16:tr(e.type):1}function ou(e,t,n,r){if(50<eu)throw eu=0,tu=null,Error(ce(185));wn(e,n,r),2&Ac&&e===Mc||(e===Mc&&(!(2&Ac)&&($c|=n),4===Fc&&du(e,Ic)),su(e,r),1===n&&0===Ac&&!(1&t.mode)&&(Hc=tn()+500,Wi&&Hi()))}function su(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-dn(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=yn(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=gn(e,e===Mc?Ic:0);if(0===r)null!==n&&Qt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qt(n),1===t)0===e.tag?function(e){Wi=!0,Vi(e)}(fu.bind(null,e)):Vi(fu.bind(null,e)),ui(function(){!(6&Ac)&&Hi()}),n=null;else{switch(kn(r)){case 1:n=rn;break;case 4:n=an;break;case 16:default:n=on;break;case 536870912:n=ln}n=Mu(n,lu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lu(e,t){if(nu=-1,ru=0,6&Ac)throw Error(ce(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=gn(e,e===Mc?Ic:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=bu(e,r);else{t=r;var a=Ac;Ac|=2;var i=yu();for(Mc===e&&Ic===t||(Kc=null,Hc=tn()+500,vu(e,t));;)try{wu();break}catch(s){gu(e,s)}To(),Cc.current=i,Ac=a,null!==Dc?t=0:(Mc=null,Ic=0,t=Fc)}if(0!==t){if(2===t&&(0!==(a=xn(e))&&(r=a,t=cu(e,a))),1===t)throw n=zc,vu(e,0),du(e,r),su(e,tn()),n;if(6===t)du(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!da(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=bu(e,r),2===t&&(i=xn(e),0!==i&&(r=i,t=cu(e,i))),1!==t)))throw n=zc,vu(e,0),du(e,r),su(e,tn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ce(345));case 2:case 5:ku(e,qc,Kc);break;case 3:if(du(e,r),(130023424&r)===r&&10<(t=Vc+500-tn())){if(0!==gn(e,0))break;if(((a=e.suspendedLanes)&r)!==r){au(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=si(ku.bind(null,e,qc,Kc),t);break}ku(e,qc,Kc);break;case 4:if(du(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-dn(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ec(r/1960))-r)){e.timeoutHandle=si(ku.bind(null,e,qc,Kc),r);break}ku(e,qc,Kc);break;default:throw Error(ce(329))}}}return su(e,tn()),e.callbackNode===n?lu.bind(null,e):null}function cu(e,t){var n=Wc;return e.current.memoizedState.isDehydrated&&(vu(e,t).flags|=256),2!==(e=bu(e,t))&&(t=qc,qc=n,null!==t&&uu(t)),e}function uu(e){null===qc?qc=e:qc.push.apply(qc,e)}function du(e,t){for(t&=~Uc,t&=~$c,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dn(t),r=1<<n;e[n]=-1,t&=~r}}function fu(e){if(6&Ac)throw Error(ce(327));Su();var t=gn(e,0);if(!(1&t))return su(e,tn()),null;var n=bu(e,t);if(0!==e.tag&&2===n){var r=xn(e);0!==r&&(t=r,n=cu(e,r))}if(1===n)throw n=zc,vu(e,0),du(e,t),su(e,tn()),n;if(6===n)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,qc,Kc),su(e,tn()),null}function hu(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(Hc=tn()+500,Wi&&Hi())}}function pu(e){null!==Qc&&0===Qc.tag&&!(6&Ac)&&Su();var t=Ac;Ac|=1;var n=Tc.transition,r=_n;try{if(Tc.transition=null,_n=1,e)return e()}finally{_n=r,Tc.transition=n,!(6&(Ac=t))&&Hi()}}function mu(){Rc=Lc.current,Ci(Lc)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,li(n)),null!==Dc)for(n=Dc.return;null!==n;){var r=n;switch(io(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Li();break;case 3:ts(),Ci(Mi),Ci(Ai),ss();break;case 5:rs(r);break;case 4:ts();break;case 13:case 19:Ci(as);break;case 10:Ao(r.type._context);break;case 22:case 23:mu()}n=n.return}if(Mc=e,Dc=e=Lu(e.current,null),Ic=Rc=t,Fc=0,zc=null,Uc=$c=Bc=0,qc=Wc=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ro=null}return e}function gu(e,t){for(;;){var n=Dc;try{if(To(),ls.current=nl,ps){for(var r=ds.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ps=!1}if(us=0,hs=fs=ds=null,ms=!1,vs=0,Pc.current=null,null===n||null===n.return){Fc=1,zc=t,Dc=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=Ic,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=s,d=u.tag;if(!(1&u.mode||0!==d&&11!==d&&15!==d)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=bl(o);if(null!==h){h.flags&=-257,jl(h,o,s,0,t),1&h.mode&&xl(i,c,t),l=c;var p=(t=h).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){xl(i,c,t),xu();break e}l=Error(ce(426))}else if(lo&&1&s.mode){var v=bl(o);if(null!==v){!(65536&v.flags)&&(v.flags|=256),jl(v,o,s,0,t),xo(hl(l,s));break e}}i=l=hl(l,s),4!==Fc&&(Fc=2),null===Wc?Wc=[i]:Wc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ho(i,gl(0,l,t));break e;case 1:s=l;var g=i.type,y=i.stateNode;if(!(128&i.flags||"function"!=typeof g.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Xc&&Xc.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Ho(i,yl(i,s,t));break e}}i=i.return}while(null!==i)}_u(n)}catch(x){t=x,Dc===n&&null!==n&&(Dc=n=n.return);continue}break}}function yu(){var e=Cc.current;return Cc.current=nl,null===e?nl:e}function xu(){0!==Fc&&3!==Fc&&2!==Fc||(Fc=4),null===Mc||!(268435455&Bc)&&!(268435455&$c)||du(Mc,Ic)}function bu(e,t){var n=Ac;Ac|=2;var r=yu();for(Mc===e&&Ic===t||(Kc=null,vu(e,t));;)try{ju();break}catch(a){gu(e,a)}if(To(),Ac=n,Cc.current=r,null!==Dc)throw Error(ce(261));return Mc=null,Ic=0,Fc}function ju(){for(;null!==Dc;)Nu(Dc)}function wu(){for(;null!==Dc&&!Zt();)Nu(Dc)}function Nu(e){var t=Oc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?_u(e):Dc=t,Pc.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Dc=n);if(null===e)return Fc=6,void(Dc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Jl(n,t,Rc)))return void(Dc=n);if(null!==(t=t.sibling))return void(Dc=t);Dc=t=e}while(null!==t);0===Fc&&(Fc=5)}function ku(e,t,n){var r=_n,a=Tc.transition;try{Tc.transition=null,_n=1,function(e,t,n,r){do{Su()}while(null!==Qc);if(6&Ac)throw Error(ce(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-dn(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,i),e===Mc&&(Dc=Mc=null,Ic=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Jc||(Jc=!0,Mu(on,function(){return Su(),null})),i=!!(15990&n.flags),!!(15990&n.subtreeFlags)||i){i=Tc.transition,Tc.transition=null;var o=_n;_n=1;var s=Ac;Ac|=4,Pc.current=null,function(e,t){if(ai=Yn,ga(e=va())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(b){n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||0!==a&&3!==d.nodeType||(s=o+a),d!==i||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(h=d.firstChild);)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++c===a&&(s=o),f===i&&++u===r&&(l=o),null!==(h=d.nextSibling))break;f=(d=f).parentNode}d=h}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ii={focusedElem:e,selectionRange:n},Yn=!1,nc=t;null!==nc;)if(e=(t=nc).child,1028&t.subtreeFlags&&null!==e)e.return=t,nc=e;else for(;null!==nc;){t=nc;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,v=p.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ol(t.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(ce(163))}}catch(b){Eu(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,nc=e;break}nc=t.return}p=ic,ic=!1}(e,n),bc(n,e),ya(ii),Yn=!!ai,ii=ai=null,e.current=n,wc(n),en(),Ac=s,_n=o,Tc.transition=i}else e.current=n;if(Jc&&(Jc=!1,Qc=e,Zc=a),i=e.pendingLanes,0===i&&(Xc=null),function(e){if(un&&"function"==typeof un.onCommitFiberRoot)try{un.onCommitFiberRoot(cn,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),su(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Gc)throw Gc=!1,e=Yc,Yc=null,e;!!(1&Zc)&&0!==e.tag&&Su(),i=e.pendingLanes,1&i?e===tu?eu++:(eu=0,tu=e):eu=0,Hi()}(e,t,n,r)}finally{Tc.transition=a,_n=r}return null}function Su(){if(null!==Qc){var e=kn(Zc),t=Tc.transition,n=_n;try{if(Tc.transition=null,_n=16>e?16:e,null===Qc)var r=!1;else{if(e=Qc,Qc=null,Zc=0,6&Ac)throw Error(ce(331));var a=Ac;for(Ac|=4,nc=e.current;null!==nc;){var i=nc,o=i.child;if(16&nc.flags){var s=i.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(nc=c;null!==nc;){var u=nc;switch(u.tag){case 0:case 11:case 15:oc(8,u,i)}var d=u.child;if(null!==d)d.return=u,nc=d;else for(;null!==nc;){var f=(u=nc).sibling,h=u.return;if(cc(u),u===c){nc=null;break}if(null!==f){f.return=h,nc=f;break}nc=h}}}var p=i.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}nc=i}}if(2064&i.subtreeFlags&&null!==o)o.return=i,nc=o;else e:for(;null!==nc;){if(2048&(i=nc).flags)switch(i.tag){case 0:case 11:case 15:oc(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,nc=g;break e}nc=i.return}}var y=e.current;for(nc=y;null!==nc;){var x=(o=nc).child;if(2064&o.subtreeFlags&&null!==x)x.return=o,nc=x;else e:for(o=y;null!==nc;){if(2048&(s=nc).flags)try{switch(s.tag){case 0:case 11:case 15:sc(9,s)}}catch(j){Eu(s,s.return,j)}if(s===o){nc=null;break e}var b=s.sibling;if(null!==b){b.return=s.return,nc=b;break e}nc=s.return}}if(Ac=a,Hi(),un&&"function"==typeof un.onPostCommitFiberRoot)try{un.onPostCommitFiberRoot(cn,e)}catch(j){}r=!0}return r}finally{_n=n,Tc.transition=t}}return!1}function Ou(e,t,n){e=qo(e,t=gl(0,t=hl(n,t),1),1),t=au(),null!==e&&(wn(e,1,t),su(e,t))}function Eu(e,t,n){if(3===e.tag)Ou(e,e,n);else for(;null!==t;){if(3===t.tag){Ou(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Xc||!Xc.has(r))){t=qo(t,e=yl(t,e=hl(n,e),1),1),e=au(),null!==t&&(wn(t,1,e),su(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,Mc===e&&(Ic&n)===n&&(4===Fc||3===Fc&&(130023424&Ic)===Ic&&500>tn()-Vc?vu(e,0):Uc|=n),su(e,t)}function Pu(e,t){0===t&&(1&e.mode?(t=mn,!(130023424&(mn<<=1))&&(mn=4194304)):t=1);var n=au();null!==(e=zo(e,t))&&(wn(e,t,n),su(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ce(314))}null!==r&&r.delete(t),Pu(e,n)}function Mu(e,t){return Jt(e,t)}function Du(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,n,r){return new Du(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fu(e,t,n,r,a,i){var o=2;if(r=e,"function"==typeof e)Ru(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case Oe:return zu(n.children,a,i,t);case Ee:o=8,a|=8;break;case Ce:return(e=Iu(12,n,t,2|a)).elementType=Ce,e.lanes=i,e;case Me:return(e=Iu(13,n,t,a)).elementType=Me,e.lanes=i,e;case De:return(e=Iu(19,n,t,a)).elementType=De,e.lanes=i,e;case Le:return Bu(n,a,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Pe:o=10;break e;case Te:o=9;break e;case Ae:o=11;break e;case Ie:o=14;break e;case Re:o=16,r=null;break e}throw Error(ce(130,null==e?e:typeof e,""))}return(t=Iu(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function zu(e,t,n,r){return(e=Iu(7,e,r,t)).lanes=n,e}function Bu(e,t,n,r){return(e=Iu(22,e,r,t)).elementType=Le,e.lanes=n,e.stateNode={isHidden:!1},e}function $u(e,t,n){return(e=Iu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jn(0),this.expirationTimes=jn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qu(e,t,n,r,a,i,o,s,l){return e=new Wu(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Iu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$o(i),e}function Vu(e){if(!e)return Ti;e:{if(Ht(e=e._reactInternals)!==e||1!==e.tag)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(ce(171))}if(1===e.tag){var n=e.type;if(Ri(n))return zi(e,n,t)}return t}function Hu(e,t,n,r,a,i,o,s,l){return(e=qu(n,r,!0,e,0,i,0,s,l)).context=Vu(null),n=e.current,(i=Wo(r=au(),a=iu(n))).callback=null!=t?t:null,qo(n,i,a),e.current.lanes=a,wn(e,a,r),su(e,r),e}function Ku(e,t,n,r){var a=t.current,i=au(),o=iu(a);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Wo(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=qo(a,t,o))&&(ou(e,a,o,i),Vo(e,a,o)),o}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}Oc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)Nl=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return Nl=!1,function(e,t,n){switch(t.tag){case 3:Ml(t),yo();break;case 5:ns(t);break;case 1:Ri(t.type)&&Bi(t);break;case 4:es(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Pi(Oo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(as,1&as.current),t.flags|=128,null):0!==(n&t.child.childLanes)?$l(e,t,n):(Pi(as,1&as.current),null!==(e=Gl(e,t,n))?e.sibling:null);Pi(as,1&as.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Hl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pi(as,as.current),r)break;return null;case 22:case 23:return t.lanes=0,El(e,t,n)}return Gl(e,t,n)}(e,t,n);Nl=!!(131072&e.flags)}else Nl=!1,lo&&1048576&t.flags&&ro(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Kl(e,t),e=t.pendingProps;var a=Ii(t,Ai.current);Do(t,n),a=bs(null,t,r,e,a,n);var i=js();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(i=!0,Bi(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,$o(t),a.updater=ll,t.stateNode=a,a._reactInternals=t,fl(t,r,e,n),t=Al(null,t,r,!0,i,n)):(t.tag=0,lo&&i&&ao(t),_l(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Kl(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"==typeof e)return Ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ae)return 11;if(e===Ie)return 14}return 2}(r),e=ol(r,e),a){case 0:t=Pl(null,t,r,e,n);break e;case 1:t=Tl(null,t,r,e,n);break e;case 11:t=kl(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,ol(r.type,e),n);break e}throw Error(ce(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Pl(e,t,r,a=t.elementType===r?a:ol(r,a),n);case 1:return r=t.type,a=t.pendingProps,Tl(e,t,r,a=t.elementType===r?a:ol(r,a),n);case 3:e:{if(Ml(t),null===e)throw Error(ce(387));r=t.pendingProps,a=(i=t.memoizedState).element,Uo(e,t),Ko(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Dl(e,t,r,n,a=hl(Error(ce(423)),t));break e}if(r!==a){t=Dl(e,t,r,n,a=hl(Error(ce(424)),t));break e}for(so=hi(t.stateNode.containerInfo.firstChild),oo=t,lo=!0,co=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(yo(),r===a){t=Gl(e,t,n);break e}_l(e,t,r,n)}t=t.child}return t;case 5:return ns(t),null===e&&po(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,oi(r,a)?o=null:null!==i&&oi(r,i)&&(t.flags|=32),Cl(e,t),_l(e,t,o,n),t.child;case 6:return null===e&&po(t),null;case 13:return $l(e,t,n);case 4:return es(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):_l(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,kl(e,t,r,a=t.elementType===r?a:ol(r,a),n);case 7:return _l(e,t,t.pendingProps,n),t.child;case 8:case 12:return _l(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Pi(Oo,r._currentValue),r._currentValue=o,null!==i)if(da(i.value,o)){if(i.children===a.children&&!Mi.current){t=Gl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){o=i.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===i.tag){(l=Wo(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Mo(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(ce(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Mo(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}_l(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Do(t,n),r=r(a=Io(a)),t.flags|=1,_l(e,t,r,n),t.child;case 14:return a=ol(r=t.type,t.pendingProps),Sl(e,t,r,a=ol(r.type,a),n);case 15:return Ol(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ol(r,a),Kl(e,t),t.tag=1,Ri(r)?(e=!0,Bi(t)):e=!1,Do(t,n),ul(t,r,a),fl(t,r,a,n),Al(null,t,r,!0,e,n);case 19:return Hl(e,t,n);case 22:return El(e,t,n)}throw Error(ce(156,t.tag))};var Ju="function"==typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function ed(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function td(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nd(){}function rd(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"==typeof a){var s=a;a=function(){var e=Gu(o);s.call(e)}}Ku(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"==typeof r){var i=r;r=function(){var e=Gu(o);i.call(e)}}var o=Hu(t,r,e,0,null,!1,0,"",nd);return e._reactRootContainer=o,e[yi]=o.current,Ha(8===e.nodeType?e.parentNode:e),pu(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var s=r;r=function(){var e=Gu(l);s.call(e)}}var l=qu(e,0,!1,null,0,!1,0,"",nd);return e._reactRootContainer=l,e[yi]=l.current,Ha(8===e.nodeType?e.parentNode:e),pu(function(){Ku(t,l,n,r)}),l}(n,t,e,a,r);return Gu(o)}Zu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(ce(409));Ku(e,t,null,null)},Zu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;pu(function(){Ku(null,e,null,null)}),t[yi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fn.length&&0!==t&&t<Fn[n].priority;n++);Fn.splice(n,0,e),0===n&&Un(e)}},Sn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vn(t.pendingLanes);0!==n&&(Nn(t,1|n),su(t,tn()),!(6&Ac)&&(Hc=tn()+500,Hi()))}break;case 13:pu(function(){var t=zo(e,1);if(null!==t){var n=au();ou(t,e,1,n)}}),Xu(e,1)}},On=function(e){if(13===e.tag){var t=zo(e,134217728);if(null!==t)ou(t,e,134217728,au());Xu(e,134217728)}},En=function(e){if(13===e.tag){var t=iu(e),n=zo(e,t);if(null!==n)ou(n,e,t,au());Xu(e,t)}},Cn=function(){return _n},Pn=function(e,t){var n=_n;try{return _n=e,t()}finally{_n=n}},St=function(e,t,n){switch(t){case"input":if(nt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ki(r);if(!a)throw Error(ce(90));Je(r),nt(r,a)}}}break;case"textarea":ct(e,n);break;case"select":null!=(t=n.value)&&ot(e,!!n.multiple,t,!1)}},At=hu,Mt=pu;var ad={usingClientEntryPoint:!1,Events:[Ni,_i,ki,Pt,Tt,hu]},id={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},od={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Yt(e))?null:e.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{cn=sd.inject(od),un=sd}catch(pt){}}re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ad,re.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ed(t))throw Error(ce(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Se,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},re.createRoot=function(e,t){if(!ed(e))throw Error(ce(299));var n=!1,r="",a=Ju;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=qu(e,1,!1,null,0,n,0,r,a),e[yi]=t.current,Ha(8===e.nodeType?e.parentNode:e),new Qu(t)},re.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(ce(188));throw e=Object.keys(e).join(","),Error(ce(268,e))}return e=null===(e=Yt(t))?null:e.stateNode},re.flushSync=function(e){return pu(e)},re.hydrate=function(e,t,n){if(!td(t))throw Error(ce(200));return rd(null,e,t,!0,n)},re.hydrateRoot=function(e,t,n){if(!ed(e))throw Error(ce(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Ju;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,a,0,i,o),e[yi]=t.current,Ha(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Zu(t)},re.render=function(e,t,n){if(!td(t))throw Error(ce(200));return rd(null,e,t,!1,n)},re.unmountComponentAtNode=function(e){if(!td(e))throw Error(ce(40));return!!e._reactRootContainer&&(pu(function(){rd(null,null,e,!1,function(){e._reactRootContainer=null,e[yi]=null})}),!0)},re.unstable_batchedUpdates=hu,re.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!td(n))throw Error(ce(200));if(null==e||void 0===e._reactInternals)throw Error(ce(38));return rd(e,t,n,!1,r)},re.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),ne.exports=re;var ld=ne.exports;const cd=a(ld);var ud=ld;te.createRoot=ud.createRoot,te.hydrateRoot=ud.hydrateRoot,function(){{document.addEventListener("keydown",e=>{if("F12"===e.key)return e.preventDefault(),!1;if(e.ctrlKey&&e.shiftKey)switch(e.key){case"I":case"J":case"C":return e.preventDefault(),!1}return e.ctrlKey&&"u"===e.key?(e.preventDefault(),!1):void 0});let e=!1;const t=160,n=()=>window.outerHeight-window.innerHeight>t||window.outerWidth-window.innerWidth>t;setInterval(()=>{n()&&!e?(e=!0,document.body.style.filter="blur(10px)",document.body.style.pointerEvents="none",document.body.innerHTML='<div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: Arial; text-align: center; color: red; font-size: 24px;">Unauthorized access detected</div>'):!n()&&e&&(e=!1,document.body.style.filter="",document.body.style.pointerEvents="")},500),document.addEventListener("contextmenu",e=>(e.preventDefault(),!1)),document.addEventListener("keydown",e=>{if("F12"===e.key)return e.preventDefault(),!1});const r=console.log,a=console.warn,i=console.error;console.log=(...e)=>{e.includes("authorized_debug")&&r.apply(console,e)},console.warn=(...e)=>{e.includes("authorized_debug")&&a.apply(console,e)},console.error=(...e)=>{var t;((null==(t=e[0])?void 0:t.toString())||"").includes("authorized_error")&&i.apply(console,e)},document.addEventListener("selectstart",e=>(e.preventDefault(),!1)),document.addEventListener("copy",e=>(e.preventDefault(),!1))}}(),window.onerror=()=>!1,window.onunhandledrejection=()=>!1,delete window.debug,delete window.devtools,delete window.console;
/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var dd="popstate";function fd(e={}){return function(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,s="POP",l=null,c=u();null==c&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function f(e,t){s="PUSH";let n=vd(m.location,e,t);c=u()+1;let r=md(n,c),d=m.createHref(n);try{o.pushState(r,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(d)}i&&l&&l({action:s,location:m.location,delta:1})}function h(e,t){s="REPLACE";let n=vd(m.location,e,t);c=u();let r=md(n,c),a=m.createHref(n);o.replaceState(r,"",a),i&&l&&l({action:s,location:m.location,delta:0})}function p(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);hd(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:gd(e);r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(e)}let m={get action(){return s},get location(){return e(a,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(dd,d),l=e,()=>{a.removeEventListener(dd,d),l=null}},createHref:e=>t(a,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:h,go:e=>o.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return vd("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:gd(t)},0,e)}function hd(e,t){if(!1===e||null==e)throw new Error(t)}function pd(e,t){if(!e)try{throw new Error(t)}catch(n){}}function md(e,t){return{usr:e.state,key:e.key,idx:t}}function vd(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?yd(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function gd({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function yd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function xd(e,t,n="/"){return function(e,t,n,r){let a="string"==typeof t?yd(t):t,i=Md(a.pathname||"/",n);if(null==i)return null;let o=bd(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let l=0;null==s&&l<o.length;++l){let e=Ad(i);s=Pd(o[l],e,r)}return s}(e,t,n,!1)}function bd(e,t=[],n=[],r="",a=!1){let i=(e,i,o=a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;hd(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let c=Ld([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(hd(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),bd(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:Cd(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of jd(e.path))i(e,t,!0,r);else i(e,t)}),t}function jd(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=jd(r.join("/")),s=[];return s.push(...o.map(e=>""===e?i:[i,e].join("/"))),a&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var wd=/^:[\w-]+$/,Nd=3,_d=2,kd=1,Sd=10,Od=-2,Ed=e=>"*"===e;function Cd(e,t){let n=e.split("/"),r=n.length;return n.some(Ed)&&(r+=Od),t&&(r+=_d),n.filter(e=>!Ed(e)).reduce((e,t)=>e+(wd.test(t)?Nd:""===t?kd:Sd),r)}function Pd(e,t,n=!1){let{routesMeta:r}=e,a={},i="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=Td({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Td({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Ld([i,u.pathname]),pathnameBase:Fd(Ld([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=Ld([i,u.pathnameBase]))}return o}function Td(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){pd("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=s[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const a=s[r];return e[t]=n&&!a?void 0:(a||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:o,pattern:e}}function Ad(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return pd(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Md(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Dd(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Id(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Rd(e,t,n,r=!1){let a;"string"==typeof e?a=yd(e):(a={...e},hd(!a.pathname||!a.pathname.includes("?"),Dd("?","pathname","search",a)),hd(!a.pathname||!a.pathname.includes("#"),Dd("#","pathname","hash",a)),hd(!a.search||!a.search.includes("#"),Dd("#","search","hash",a)));let i,o=""===e||""===a.pathname,s=o?"/":a.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:n,search:r="",hash:a=""}="string"==typeof e?yd(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:zd(r),hash:Bd(a)}}(a,i),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Ld=e=>e.join("/").replace(/\/\/+/g,"/"),Fd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zd=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Bd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var $d=["POST","PUT","PATCH","DELETE"];new Set($d);var Ud=["GET",...$d];new Set(Ud);var Wd=q.createContext(null);Wd.displayName="DataRouter";var qd=q.createContext(null);qd.displayName="DataRouterState",q.createContext(!1);var Vd=q.createContext({isTransitioning:!1});Vd.displayName="ViewTransition",q.createContext(new Map).displayName="Fetchers",q.createContext(null).displayName="Await";var Hd=q.createContext(null);Hd.displayName="Navigation";var Kd=q.createContext(null);Kd.displayName="Location";var Gd=q.createContext({outlet:null,matches:[],isDataRoute:!1});Gd.displayName="Route";var Yd=q.createContext(null);function Xd(){return null!=q.useContext(Kd)}function Jd(){return hd(Xd(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Kd).location}Yd.displayName="RouteError";var Qd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zd(e){q.useContext(Hd).static||q.useLayoutEffect(e)}function ef(){let{isDataRoute:e}=q.useContext(Gd);return e?function(){let{router:e}=function(e){let t=q.useContext(Wd);return hd(t,lf(e)),t}("useNavigate"),t=cf("useNavigate"),n=q.useRef(!1);Zd(()=>{n.current=!0});let r=q.useCallback(async(r,a={})=>{pd(n.current,Qd),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t]);return r}():function(){hd(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let e=q.useContext(Wd),{basename:t,navigator:n}=q.useContext(Hd),{matches:r}=q.useContext(Gd),{pathname:a}=Jd(),i=JSON.stringify(Id(r)),o=q.useRef(!1);Zd(()=>{o.current=!0});let s=q.useCallback((r,s={})=>{if(pd(o.current,Qd),!o.current)return;if("number"==typeof r)return void n.go(r);let l=Rd(r,JSON.parse(i),a,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Ld([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,i,a,e]);return s}()}function tf(e,{relative:t}={}){let{matches:n}=q.useContext(Gd),{pathname:r}=Jd(),a=JSON.stringify(Id(n));return q.useMemo(()=>Rd(e,JSON.parse(a),r,"path"===t),[e,a,r,t])}function nf(e,t,n,r){var a;hd(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=q.useContext(Hd),{matches:o}=q.useContext(Gd),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let e=d&&d.path||"";df(c,!d||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,h=Jd();if(t){let e="string"==typeof t?yd(t):t;hd("/"===u||(null==(a=e.pathname)?void 0:a.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=h;let p=f.pathname||"/",m=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=xd(e,{pathname:m});pd(d||null!=v,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),pd(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=function(e,t=[],n=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,a=null==n?void 0:n.errors;if(null!=a){let e=r.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));hd(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let i=!1,o=-1;if(n)for(let s=0;s<r.length;s++){let e=r[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=s),e.route.id){let{loaderData:t,errors:a}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||s){i=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight((e,s,l)=>{let c,u=!1,d=null,f=null;n&&(c=a&&s.route.id?a[s.route.id]:void 0,d=s.route.errorElement||af,i&&(o<0&&0===l?(df("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,f=null):o===l&&(u=!0,f=s.route.hydrateFallbackElement||null)));let h=t.concat(r.slice(0,l+1)),p=()=>{let t;return t=c?d:u?f:s.route.Component?q.createElement(s.route.Component,null):s.route.element?s.route.element:e,q.createElement(sf,{match:s,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===l)?q.createElement(of,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Ld([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Ld([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&g?q.createElement(Kd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function rf(){let e=function(){var e;let t=q.useContext(Yd),n=function(e){let t=q.useContext(qd);return hd(t,lf(e)),t}("useRouteError"),r=cf("useRouteError");if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:i},"ErrorBoundary")," or"," ",q.createElement("code",{style:i},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:a},n):null,o)}q.createContext(null);var af=q.createElement(rf,null),of=class extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?q.createElement(Gd.Provider,{value:this.props.routeContext},q.createElement(Yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sf({routeContext:e,match:t,children:n}){let r=q.useContext(Wd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Gd.Provider,{value:e},n)}function lf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cf(e){let t=function(e){let t=q.useContext(Gd);return hd(t,lf(e)),t}(e),n=t.matches[t.matches.length-1];return hd(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var uf={};function df(e,t,n){t||uf[e]||(uf[e]=!0,pd(!1,n))}function ff({to:e,replace:t,state:n,relative:r}){hd(Xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=q.useContext(Hd);pd(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=q.useContext(Gd),{pathname:o}=Jd(),s=ef(),l=Rd(e,Id(i),o,"path"===r),c=JSON.stringify(l);return q.useEffect(()=>{s(JSON.parse(c),{replace:t,state:n,relative:r})},[s,c,r,t,n]),null}function hf(e){hd(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pf({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){hd(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=q.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);"string"==typeof n&&(n=yd(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=n,h=q.useMemo(()=>{let e=Md(l,o);return null==e?null:{location:{pathname:e,search:c,hash:u,state:d,key:f},navigationType:r}},[o,l,c,u,d,f,r]);return pd(null!=h,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),null==h?null:q.createElement(Hd.Provider,{value:s},q.createElement(Kd.Provider,{children:t,value:h}))}function mf({children:e,location:t}){return nf(vf(e),t)}function vf(e,t=[]){let n=[];return q.Children.forEach(e,(e,r)=>{if(!q.isValidElement(e))return;let a=[...t,r];if(e.type===q.Fragment)return void n.push.apply(n,vf(e.props.children,a));hd(e.type===hf,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hd(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=vf(e.props.children,a)),n.push(i)}),n}q.memo(function({routes:e,future:t,state:n}){return nf(e,void 0,n,t)});var gf="get",yf="application/x-www-form-urlencoded";function xf(e){return null!=e&&"string"==typeof e.tagName}var bf=null;var jf=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wf(e){return null==e||jf.has(e)?e:(pd(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null)}function Nf(e,t){let n,r,a,i,o;if(xf(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?Md(o,t):null,n=e.getAttribute("method")||gf,a=wf(e.getAttribute("enctype"))||yf,i=new FormData(e)}else if(function(e){return xf(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return xf(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?Md(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||gf,a=wf(e.getAttribute("formenctype"))||wf(o.getAttribute("enctype"))||yf,i=new FormData(o,e),!function(){if(null===bf)try{new FormData(document.createElement("form"),0),bf=!1}catch(e){bf=!0}return bf}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(xf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,r=null,a=yf,o=e}var s;return i&&"text/plain"===a&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}function _f(e,t){if(!1===e||null==e)throw new Error(t)}function kf(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function Sf(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(kf).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function Of(e,t,n,r,a,i){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===i?t.filter((t,i)=>{var l;let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function Ef(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function Cf(){let e=q.useContext(Wd);return _f(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pf=q.createContext(void 0);function Tf(){let e=q.useContext(Pf);return _f(e,"You must render this element inside a <HydratedRouter> element"),e}function Af(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Mf({page:e,...t}){let{router:n}=Cf(),r=q.useMemo(()=>xd(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?q.createElement(Df,{page:e,matches:r,...t}):null}function Df({page:e,matches:t,...n}){let r=Jd(),{manifest:a,routeModules:i}=Tf(),{basename:o}=Cf(),{loaderData:s,matches:l}=function(){let e=q.useContext(qd);return _f(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=q.useMemo(()=>Of(e,t,l,a,r,"data"),[e,t,l,a,r]),u=q.useMemo(()=>Of(e,t,l,a,r,"assets"),[e,t,l,a,r]),d=q.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{var t;let r=a.routes[e.route.id];r&&r.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in s&&(null==(t=i[e.route.id])?void 0:t.shouldRevalidate)||r.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let u=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===Md(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,o,"data");return l&&n.size>0&&u.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[u.pathname+u.search]},[o,s,r,a,c,t,e,i]),f=q.useMemo(()=>Ef(u,a),[u,a]),h=function(e){let{manifest:t,routeModules:n}=Tf(),[r,a]=q.useState([]);return q.useEffect(()=>{let r=!1;return Sf(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),r}(u);return q.createElement(q.Fragment,null,d.map(e=>q.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),f.map(e=>q.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),h.map(({key:e,link:t})=>q.createElement("link",{key:e,nonce:n.nonce,...t})))}function If(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Pf.displayName="FrameworkContext";var Rf="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Rf&&(window.__reactRouterVersion="7.8.1")}catch(Fte){}function Lf({basename:e,children:t,window:n}){let r=q.useRef();null==r.current&&(r.current=fd({window:n,v5Compat:!0}));let a=r.current,[i,o]=q.useState({action:a.action,location:a.location}),s=q.useCallback(e=>{q.startTransition(()=>o(e))},[o]);return q.useLayoutEffect(()=>a.listen(s),[a,s]),q.createElement(pf,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var Ff=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zf=q.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:a,replace:i,state:o,target:s,to:l,preventScrollReset:c,viewTransition:u,...d},f){let h,{basename:p}=q.useContext(Hd),m="string"==typeof l&&Ff.test(l),v=!1;if("string"==typeof l&&m&&(h=l,Rf))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=Md(t.pathname,p);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:v=!0}catch(Fte){pd(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=function(e,{relative:t}={}){hd(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=q.useContext(Hd),{hash:a,pathname:i,search:o}=tf(e,{relative:t}),s=i;return"/"!==n&&(s="/"===i?n:Ld([n,i])),r.createHref({pathname:s,search:o,hash:a})}(l,{relative:r}),[y,x,b]=function(e,t){let n=q.useContext(Pf),[r,a]=q.useState(!1),[i,o]=q.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,f=q.useRef(null);q.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),q.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let h=()=>{a(!0)},p=()=>{a(!1),o(!1)};return n?"intent"!==e?[i,f,{}]:[i,f,{onFocus:Af(s,h),onBlur:Af(l,p),onMouseEnter:Af(c,h),onMouseLeave:Af(u,p),onTouchStart:Af(d,h)}]:[!1,f,{}]}(n,d),j=function(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:o}={}){let s=ef(),l=Jd(),c=tf(e,{relative:i});return q.useCallback(u=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(u,t)){u.preventDefault();let t=void 0!==n?n:gd(l)===gd(c);s(e,{replace:t,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[l,s,c,n,r,t,e,a,i,o])}(l,{replace:i,state:o,target:s,preventScrollReset:c,relative:r,viewTransition:u});let w=q.createElement("a",{...d,...b,href:h||g,onClick:v||a?e:function(t){e&&e(t),t.defaultPrevented||j(t)},ref:If(f,x),target:s,"data-discover":m||"render"!==t?void 0:"true"});return y&&!m?q.createElement(q.Fragment,null,w,q.createElement(Mf,{page:g})):w});zf.displayName="Link",q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:i,viewTransition:o,children:s,...l},c){let u=tf(i,{relative:l.relative}),d=Jd(),f=q.useContext(qd),{navigator:h,basename:p}=q.useContext(Hd),m=null!=f&&function(e,{relative:t}={}){let n=q.useContext(Vd);hd(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$f("useViewTransitionState"),a=tf(e,{relative:t});if(!n.isTransitioning)return!1;let i=Md(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Md(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=Td(a.pathname,o)||null!=Td(a.pathname,i)}(u)&&!0===o,v=h.encodeLocation?h.encodeLocation(u).pathname:u.pathname,g=d.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(g=g.toLowerCase(),y=y?y.toLowerCase():null,v=v.toLowerCase()),y&&p&&(y=Md(y,p)||y);const x="/"!==v&&v.endsWith("/")?v.length-1:v.length;let b,j=g===v||!r&&g.startsWith(v)&&"/"===g.charAt(x),w=null!=y&&(y===v||!r&&y.startsWith(v)&&"/"===y.charAt(v.length)),N={isActive:j,isPending:w,isTransitioning:m},_=j?e:void 0;b="function"==typeof n?n(N):[n,j?"active":null,w?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let k="function"==typeof a?a(N):a;return q.createElement(zf,{...l,"aria-current":_,className:b,ref:c,style:k,to:i,viewTransition:o},"function"==typeof s?s(N):s)}).displayName="NavLink";var Bf=q.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:i,method:o=gf,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},h)=>{let p=function(){let{router:e}=$f("useSubmit"),{basename:t}=q.useContext(Hd),n=cf("useRouteId");return q.useCallback(async(r,a={})=>{let{action:i,method:o,encType:s,formData:l,body:c}=Nf(r,t);if(!1===a.navigate){let t=a.fetcherKey||Wf();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}(),m=function(e,{relative:t}={}){let{basename:n}=q.useContext(Hd),r=q.useContext(Gd);hd(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...tf(e||".",{relative:t})},o=Jd();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:Ld([n,i.pathname]));return gd(i)}(s,{relative:c}),v="get"===o.toLowerCase()?"get":"post",g="string"==typeof s&&Ff.test(s);return q.createElement("form",{ref:h,method:v,action:m,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=(null==r?void 0:r.getAttribute("formmethod"))||o;p(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:a,state:i,relative:c,preventScrollReset:u,viewTransition:d})},...f,"data-discover":g||"render"!==e?void 0:"true"})});function $f(e){let t=q.useContext(Wd);return hd(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Bf.displayName="Form";var Uf=0,Wf=()=>`__${String(++Uf)}__`;const qf={},Vf=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in qf)return;qf[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,n&&a.setAttribute("nonce",n),document.head.appendChild(a),t?new Promise((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};class Hf extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Kf extends Hf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gf extends Hf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yf extends Hf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xf,Jf;(Jf=Xf||(Xf={})).Any="any",Jf.ApNortheast1="ap-northeast-1",Jf.ApNortheast2="ap-northeast-2",Jf.ApSouth1="ap-south-1",Jf.ApSoutheast1="ap-southeast-1",Jf.ApSoutheast2="ap-southeast-2",Jf.CaCentral1="ca-central-1",Jf.EuCentral1="eu-central-1",Jf.EuWest1="eu-west-1",Jf.EuWest2="eu-west-2",Jf.EuWest3="eu-west-3",Jf.SaEast1="sa-east-1",Jf.UsEast1="us-east-1",Jf.UsWest1="us-west-1",Jf.UsWest2="us-west-2";var Qf=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(Fte){i(Fte)}}function s(e){try{l(r.throw(e))}catch(Fte){i(Fte)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};class Zf{constructor(e,{headers:t={},customFetch:n,region:r=Xf.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Vf(async()=>{const{default:e}=await Promise.resolve().then(()=>fh);return{default:e}},[]).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Qf(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:i}=t;let o={},{region:s}=t;s||(s=this.region);const l=new URL(`${this.url}/${e}`);let c;s&&"any"!==s&&(o["x-region"]=s,l.searchParams.set("forceFunctionRegion",s)),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=i):"string"==typeof i?(o["Content-Type"]="text/plain",c=i):"undefined"!=typeof FormData&&i instanceof FormData?c=i:(o["Content-Type"]="application/json",c=JSON.stringify(i)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:c}).catch(e=>{throw new Kf(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Gf(u);if(!u.ok)throw new Yf(u);let f,h=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return f="application/json"===h?yield u.json():"application/octet-stream"===h?yield u.blob():"text/event-stream"===h?u:"multipart/form-data"===h?yield u.formData():yield u.text(),{data:f,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof Yf||r instanceof Gf?r.context:void 0}}})}}var eh={},th={},nh={},rh={},ah={},ih={},oh=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const sh=oh.fetch,lh=oh.fetch.bind(oh),ch=oh.Headers,uh=oh.Request,dh=oh.Response,fh=Object.freeze(Object.defineProperty({__proto__:null,Headers:ch,Request:uh,Response:dh,default:lh,fetch:sh},Symbol.toStringTag,{value:"Module"})),hh=i(fh);var ph={};Object.defineProperty(ph,"__esModule",{value:!0});let mh=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ph.default=mh;var vh=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ih,"__esModule",{value:!0});const gh=vh(hh),yh=vh(ph);ih.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=gh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,a;let i=null,o=null,s=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const a=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),u=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");a&&u&&u.length>1&&(s=parseInt(u[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,s=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(a=null==i?void 0:i.details)||void 0===a?void 0:a.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new yh.default(i)}return{error:i,data:o,count:s,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};var xh=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ah,"__esModule",{value:!0});const bh=xh(ih);let jh=class extends bh.default{select(e){let t=!1;const n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const a=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}={}){var o;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${s};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ah.default=jh;var wh=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rh,"__esModule",{value:!0});const Nh=wh(ah);let _h=class extends Nh.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};rh.default=_h;var kh=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nh,"__esModule",{value:!0});const Sh=kh(rh);nh.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let a=!1;const i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new Sh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new Sh.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}={}){var i;if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new Sh.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e,{count:t}={}){var n;return t&&this.headers.append("Prefer",`count=${t}`),new Sh.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new Sh.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}};var Oh=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(th,"__esModule",{value:!0});const Eh=Oh(nh),Ch=Oh(rh);th.default=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new Eh.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:a}={}){var i;let o;const s=new URL(`${this.url}/rpc/${e}`);let l;n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{s.searchParams.append(e,t)})):(o="POST",l=t);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new Ch.default({method:o,url:s,headers:c,schema:this.schemaName,body:l,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}};var Ph=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0}),eh.PostgrestError=eh.PostgrestBuilder=eh.PostgrestTransformBuilder=eh.PostgrestFilterBuilder=eh.PostgrestQueryBuilder=eh.PostgrestClient=void 0;const Th=Ph(th);eh.PostgrestClient=Th.default;const Ah=Ph(nh);eh.PostgrestQueryBuilder=Ah.default;const Mh=Ph(rh);eh.PostgrestFilterBuilder=Mh.default;const Dh=Ph(ah);eh.PostgrestTransformBuilder=Dh.default;const Ih=Ph(ih);eh.PostgrestBuilder=Ih.default;const Rh=Ph(ph);eh.PostgrestError=Rh.default;var Lh=eh.default={PostgrestClient:Th.default,PostgrestQueryBuilder:Ah.default,PostgrestFilterBuilder:Mh.default,PostgrestTransformBuilder:Dh.default,PostgrestBuilder:Ih.default,PostgrestError:Rh.default};const{PostgrestClient:Fh,PostgrestQueryBuilder:zh,PostgrestFilterBuilder:Bh,PostgrestTransformBuilder:$h,PostgrestBuilder:Uh,PostgrestError:Wh}=Lh;class qh{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const Vh=1e4;var Hh,Kh,Gh,Yh,Xh,Jh,Qh,Zh,ep,tp,np;(Kh=Hh||(Hh={}))[Kh.connecting=0]="connecting",Kh[Kh.open=1]="open",Kh[Kh.closing=2]="closing",Kh[Kh.closed=3]="closed",(Yh=Gh||(Gh={})).closed="closed",Yh.errored="errored",Yh.joined="joined",Yh.joining="joining",Yh.leaving="leaving",(Jh=Xh||(Xh={})).close="phx_close",Jh.error="phx_error",Jh.join="phx_join",Jh.reply="phx_reply",Jh.leave="phx_leave",Jh.access_token="access_token",(Qh||(Qh={})).websocket="websocket",(ep=Zh||(Zh={})).Connecting="connecting",ep.Open="open",ep.Closing="closing",ep.Closed="closed";class rp{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i+=r;const s=n.decode(e.slice(i,i+a));i+=a;return{ref:null,topic:o,event:s,payload:JSON.parse(n.decode(e.slice(i,e.byteLength)))}}}class ap{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(np=tp||(tp={})).abstime="abstime",np.bool="bool",np.date="date",np.daterange="daterange",np.float4="float4",np.float8="float8",np.int2="int2",np.int4="int4",np.int4range="int4range",np.int8="int8",np.int8range="int8range",np.json="json",np.jsonb="jsonb",np.money="money",np.numeric="numeric",np.oid="oid",np.reltime="reltime",np.text="text",np.time="time",np.timestamp="timestamp",np.timestamptz="timestamptz",np.timetz="timetz",np.tsrange="tsrange",np.tstzrange="tstzrange";const ip=(e,t,n={})=>{var r;const a=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((n,r)=>(n[r]=op(r,e,t,a),n),{})},op=(e,t,n,r)=>{const a=t.find(t=>t.name===e),i=null==a?void 0:a.type,o=n[e];return i&&!r.includes(i)?sp(i,o):lp(o)},sp=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return fp(t,n)}switch(e){case tp.bool:return cp(t);case tp.float4:case tp.float8:case tp.int2:case tp.int4:case tp.int8:case tp.numeric:case tp.oid:return up(t);case tp.json:case tp.jsonb:return dp(t);case tp.timestamp:return hp(t);case tp.abstime:case tp.date:case tp.daterange:case tp.int4range:case tp.int8range:case tp.money:case tp.reltime:case tp.text:case tp.time:case tp.timestamptz:case tp.timetz:case tp.tsrange:case tp.tstzrange:default:return lp(t)}},lp=e=>e,cp=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},up=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dp=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},fp=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(a){r=i?i.split(","):[]}return r.map(e=>sp(t,e))}return e},hp=e=>"string"==typeof e?e.replace(" ","T"):e,pp=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class mp{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vp,gp,yp,xp,bp,jp,wp,Np;(gp=vp||(vp={})).SYNC="sync",gp.JOIN="join",gp.LEAVE="leave";class _p{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_p.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=_p.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=_p.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,(e,t)=>{i[e]||(s[e]=t)}),this.map(i,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(o[e]=i),l.length>0&&(s[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let a=e[t];if(!a)return;const i=n.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(xp=yp||(yp={})).ALL="*",xp.INSERT="INSERT",xp.UPDATE="UPDATE",xp.DELETE="DELETE",(jp=bp||(bp={})).BROADCAST="broadcast",jp.PRESENCE="presence",jp.POSTGRES_CHANGES="postgres_changes",jp.SYSTEM="system",(Np=wp||(wp={})).SUBSCRIBED="SUBSCRIBED",Np.TIMED_OUT="TIMED_OUT",Np.CLOSED="CLOSED",Np.CHANNEL_ERROR="CHANNEL_ERROR";class kp{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Gh.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new mp(this,Xh.join,this.params,this.timeout),this.rejoinTimer=new ap(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gh.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gh.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Gh.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gh.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Gh.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xh.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new _p(this),this.broadcastEndpointURL=pp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Gh.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params,s=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[bp.PRESENCE]&&this.bindings[bp.PRESENCE].length>0,c={},u={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:l}),postgres_changes:s,private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(wp.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(wp.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,a=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,i=[];for(let n=0;n<a;n++){const a=r[n],{filter:{event:o,schema:s,table:l,filter:c}}=a,u=t&&t[n];if(!u||u.event!==o||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Gh.errored,void(null==e||e(wp.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(wp.SUBSCRIBED))}null==e||e(wp.SUBSCRIBED)}).receive("error",t=>{this.state=Gh.errored,null==e||e(wp.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(wp.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Gh.joined&&e===bp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{const{event:i,payload:o}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Gh.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xh.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new mp(this,Xh.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null==n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gh.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new mp(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=Xh;if(n&&[o,s,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var n,r,a,o,s,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(s=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Gh.closed}_isJoined(){return this.state===Gh.joined}_isJoining(){return this.state===Gh.joining}_isLeaving(){return this.state===Gh.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&kp.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xh.close,{},e)}_onError(e){this._on(Xh.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gh.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=ip(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=ip(e.columns,e.old_record)),t}}const Sp=()=>{},Op=25e3,Ep=10,Cp=100,Pp=[1e3,2e3,5e3,1e4];class Tp{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vh,this.transport=null,this.heartbeatIntervalMs=Op,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sp,this.ref=0,this.reconnectTimer=null,this.logger=Sp,this.conn=null,this.sendBuffer=[],this.serializer=new rp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Vf(async()=>{const{default:e}=await Promise.resolve().then(()=>fh);return{default:e}},void 0).then(({default:t})=>t(...e)).catch(e=>{throw new Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>t(...e)},!(null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Qh.websocket}`,this.httpEndpoint=pp(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hh.connecting:return Zh.Connecting;case Hh.open:return Zh.Open;case Hh.closing:return Zh.Closing;default:return Zh.Closed}}isConnected(){return this.connectionState()===Zh.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new kp(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${a})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Cp);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,i=a?`(${a})`:"",o=r.status||"";this.log("receive",`${o} ${t} ${n} ${i}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xh.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const n={access_token:t,version:"realtime-js/2.15.1"};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(Xh.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Fte){this.log("error",`error in ${e} callback`,Fte)}})}catch(Fte){this.log("error",`error triggering ${e} callbacks`,Fte)}}_setupReconnectionTimer(){this.reconnectTimer=new ap(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ep)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,i,o,s,l;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null==e?void 0:e.timeout)&&void 0!==n?n:Vh,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Op,this.worker=null!==(a=null==e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(i=null==e?void 0:e.accessToken)&&void 0!==i?i:null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null==e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>Pp[e-1]||1e4,this.encode=null!==(s=null==e?void 0:e.encode)&&void 0!==s?s:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null==e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class Ap extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Mp(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class Dp extends Ap{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ip extends Ap{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Rp=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(Fte){i(Fte)}}function s(e){try{l(r.throw(e))}catch(Fte){i(Fte)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const Lp=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Vf(async()=>{const{default:e}=await Promise.resolve().then(()=>fh);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},Fp=e=>{if(Array.isArray(e))return e.map(e=>Fp(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,n])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=Fp(n)}),t};var zp=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(Fte){i(Fte)}}function s(e){try{l(r.throw(e))}catch(Fte){i(Fte)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const Bp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$p=(e,t,n)=>zp(void 0,void 0,void 0,function*(){const r=yield Rp(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Vf(()=>Promise.resolve().then(()=>fh),void 0)).Response:Response});e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null==n?void 0:n.statusCode)||r+"";t(new Dp(Bp(n),r,a))}).catch(e=>{t(new Ip(Bp(e),e))}):t(new Ip(Bp(e),e))}),Up=(e,t,n,r)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null==t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n)):a};function Wp(e,t,n,r,a,i){return zp(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,Up(t,r,a,i)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>$p(e,s,r))})})}function qp(e,t,n,r){return zp(this,void 0,void 0,function*(){return Wp(e,"GET",t,n,r)})}function Vp(e,t,n,r,a){return zp(this,void 0,void 0,function*(){return Wp(e,"POST",t,r,a,n)})}function Hp(e,t,n,r,a){return zp(this,void 0,void 0,function*(){return Wp(e,"PUT",t,r,a,n)})}function Kp(e,t,n,r,a){return zp(this,void 0,void 0,function*(){return Wp(e,"DELETE",t,r,a,n)})}var Gp=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(Fte){i(Fte)}}function s(e){try{l(r.throw(e))}catch(Fte){i(Fte)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const Yp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jp{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Lp(r)}uploadOrUpdate(e,t,n,r){return Gp(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Xp),r);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const s=i.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s)),a.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),s&&a.append("metadata",this.encodeMetadata(s))):(a=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,s&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null==r?void 0:r.headers)&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Hp:Vp)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:o},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(Mp(a))return{data:null,error:a};throw a}})}upload(e,t,n){return Gp(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Gp(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Xp.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield Hp(this.fetch,o.toString(),e,{headers:i})).Key},error:null}}catch(s){if(Mp(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return Gp(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Vp(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new Ap("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(Mp(n))return{data:null,error:n};throw n}})}update(e,t,n){return Gp(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Gp(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Mp(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Gp(this,void 0,void 0,function*(){try{return{data:{path:(yield Vp(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Mp(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Gp(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Vp(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(r){if(Mp(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Gp(this,void 0,void 0,function*(){try{const r=yield Vp(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(r){if(Mp(r))return{data:null,error:r};throw r}})}download(e,t){return Gp(this,void 0,void 0,function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),a=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield qp(this.fetch,`${this.url}/${n}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(i){if(Mp(i))return{data:null,error:i};throw i}})}info(e){return Gp(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield qp(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Fp(e),error:null}}catch(n){if(Mp(n))return{data:null,error:n};throw n}})}exists(e){return Gp(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return zp(this,void 0,void 0,function*(){return Wp(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Mp(n)&&n instanceof Ip){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&r.push(a);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&r.push(o);let s=r.join("&");return""!==s&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${s}`)}}}remove(e){return Gp(this,void 0,void 0,function*(){try{return{data:yield Kp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Mp(t))return{data:null,error:t};throw t}})}list(e,t,n){return Gp(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Yp),t),{prefix:e||""});return{data:yield Vp(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Mp(r))return{data:null,error:r};throw r}})}listV2(e,t){return Gp(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Vp(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(Mp(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Qp={"X-Client-Info":"storage-js/2.11.0"};var Zp=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(Fte){i(Fte)}}function s(e){try{l(r.throw(e))}catch(Fte){i(Fte)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};class em{constructor(e,t={},n,r){const a=new URL(e);if(null==r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},Qp),t),this.fetch=Lp(n)}listBuckets(){return Zp(this,void 0,void 0,function*(){try{return{data:yield qp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Mp(e))return{data:null,error:e};throw e}})}getBucket(e){return Zp(this,void 0,void 0,function*(){try{return{data:yield qp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Mp(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Zp(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Mp(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Zp(this,void 0,void 0,function*(){try{return{data:yield Hp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Mp(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Zp(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Mp(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Zp(this,void 0,void 0,function*(){try{return{data:yield Kp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Mp(t))return{data:null,error:t};throw t}})}}class tm extends em{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Jp(this.url,this.headers,e,this.fetch)}}let nm="";nm="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const rm={headers:{"X-Client-Info":`supabase-js-${nm}/2.56.0`}},am={schema:"public"},im={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},om={};var sm=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(Fte){i(Fte)}}function s(e){try{l(r.throw(e))}catch(Fte){i(Fte)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const lm=(e,t,n)=>{const r=(e=>{let t;return t=e||("undefined"==typeof fetch?lh:fetch),(...e)=>t(...e)})(n),a="undefined"==typeof Headers?ch:Headers;return(n,i)=>sm(void 0,void 0,void 0,function*(){var o;const s=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${s}`),r(n,Object.assign(Object.assign({},i),{headers:l}))})};var cm=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(Fte){i(Fte)}}function s(e){try{l(r.throw(e))}catch(Fte){i(Fte)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};const um="2.71.1",dm=3e4,fm=9e4,hm={"X-Client-Info":`gotrue-js/${um}`},pm="X-Supabase-Api-Version",mm={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},vm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class gm extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function ym(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class xm extends gm{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class bm extends gm{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class jm extends gm{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class wm extends jm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Nm extends jm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _m extends jm{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class km extends jm{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sm extends jm{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Om extends jm{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Em(e){return ym(e)&&"AuthRetryableFetchError"===e.name}class Cm extends jm{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Pm extends jm{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Am=" \t\n\r=".split(""),Mm=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Am.length;t+=1)e[Am[t].charCodeAt(0)]=-2;for(let t=0;t<Tm.length;t+=1)e[Tm[t].charCodeAt(0)]=t;return e})();function Dm(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Tm[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Tm[e]),t.queuedBits-=6}}function Im(e,t,n){const r=Mm[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Rm(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)Im(e.charCodeAt(o),a,i);return t.join("")}function Lm(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Fm(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Im(e.charCodeAt(a),n,r);return new Uint8Array(t)}function zm(e){const t=[];return function(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Lm(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function Bm(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Dm(e,n,r)),Dm(null,n,r),t.join("")}const $m=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Um={tested:!1,writable:!1},Wm=()=>{if(!$m())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(Fte){return!1}if(Um.tested)return Um.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Um.tested=!0,Um.writable=!0}catch(Fte){Um.tested=!0,Um.writable=!1}return Um.writable};const qm=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Vf(async()=>{const{default:e}=await Promise.resolve().then(()=>fh);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},Vm=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hm=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Km=async(e,t)=>{await e.removeItem(t)};class Gm{constructor(){this.promise=new Gm.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Ym(e){const t=e.split(".");if(3!==t.length)throw new Pm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vm.test(t[n]))throw new Pm("JWT not in base64url format");return{header:JSON.parse(Rm(t[0])),payload:JSON.parse(Rm(t[1])),signature:Fm(t[2]),raw:{header:t[0],payload:t[1]}}}function Xm(e){return("0"+e.toString(16)).substr(-2)}async function Jm(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qm(e,t,n=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Xm).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Vm(e,`${t}-code-verifier`,a);const i=await Jm(r);return[i,r===i?"plain":"s256"]}Gm.promiseConstructor=Promise;const Zm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const ev=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tv(e){if(!ev.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nv(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rv(e){return JSON.parse(JSON.stringify(e))}const av=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iv=[502,503,504];async function ov(e){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new Om(av(e),0);if(iv.includes(e.status))throw new Om(av(e),e.status);let r,a;try{r=await e.json()}catch(Fte){throw new bm(av(Fte),Fte)}const i=function(e){const t=e.headers.get(pm);if(!t)return null;if(!t.match(Zm))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Fte){return null}}(e);if(i&&i.getTime()>=mm.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?a=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Cm(av(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new wm}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new Cm(av(r),e.status,r.weak_password.reasons);throw new xm(av(r),e.status||500,a)}async function sv(e,t,n,r){var a;const i=Object.assign({},null==r?void 0:r.headers);i[pm]||(i[pm]=mm.name),(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const o=null!==(a=null==r?void 0:r.query)&&void 0!==a?a:{};(null==r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,a,i){const o=((e,t,n,r)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let s;try{s=await e(n,Object.assign({},o))}catch(Fte){throw console.error(Fte),new Om(av(Fte),0)}s.ok||await ov(s);if(null==r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(Fte){await ov(Fte)}}(e,t,n+s,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function lv(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function cv(e){const t=lv(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function uv(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function dv(e){return{data:e,error:null}}function fv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},o)},error:null}}function hv(e){return e}const pv=["global","local","others"];class mv{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=qm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=pv[0]){if(pv.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pv.join(", ")}`);try{return await sv(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ym(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await sv(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:uv})}catch(n){if(ym(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await sv(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:fv,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(ym(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await sv(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:uv})}catch(t){if(ym(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await sv(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:hv});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,f=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return f.length>0&&(f.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(ym(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){tv(e);try{return await sv(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:uv})}catch(t){if(ym(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){tv(e);try{return await sv(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:uv})}catch(n){if(ym(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){tv(e);try{return await sv(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:uv})}catch(n){if(ym(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){tv(e.userId);try{const{data:t,error:n}=await sv(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(ym(t))return{data:null,error:t};throw t}}async _deleteFactor(e){tv(e.userId),tv(e.id);try{return{data:await sv(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ym(t))return{data:null,error:t};throw t}}}function vv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const gv=!!(globalThis&&Wm()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class yv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xv extends yv{}async function bv(e,t,n){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new xv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gv)try{const e=await globalThis.navigator.locks.query();JSON.stringify(e,null,"  ")}catch(Fte){}return await n()}gv&&r.name;try{return await n()}finally{gv&&r.name}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Fte){"undefined"!=typeof self&&(self.globalThis=self)}}();const jv={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wv(e,t,n){return await n()}const Nv={};class _v{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_v.nextInstanceID,_v.nextInstanceID+=1,this.instanceID>0&&$m();const r=Object.assign(Object.assign({},jv),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new mv({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=qm(r.fetch),this.lock=r.lock||wv,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:$m()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=bv:this.lock=wv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Wm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vv(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=vv(this.memoryStorage)),$m()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Fte){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Fte)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Nv[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Nv[this.storageKey]=Object.assign(Object.assign({},Nv[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Nv[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nv[this.storageKey]=Object.assign(Object.assign({},Nv[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${um}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Fte){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),$m()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return ym(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ym(t)?{error:t}:{error:new bm("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await sv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:lv}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(ym(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await Qm(this.storage,this.storageKey)),a=await sv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},xform:lv})}else{if(!("phone"in e))throw new _m("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;a=await sv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null==o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:lv})}}const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(a){if(ym(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await sv(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:cv})}else{if(!("phone"in e))throw new _m("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await sv(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:cv})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Nm}}catch(t){if(ym(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,a,i,o,s,l,c,u,d,f;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:d,wallet:f,statement:m,options:v}=e;let g;if($m())if("object"==typeof f)g=f;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");g=e.solana}else{if("object"!=typeof f||!(null==v?void 0:v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=f}const y=new URL(null!==(t=null==v?void 0:v.url)&&void 0!==t?t:window.location.href);if("signIn"in g&&g.signIn){const e=await g.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==v?void 0:v.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");h="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in g&&"function"==typeof g.signMessage&&"publicKey"in g&&"object"==typeof g&&g.publicKey&&"toBase58"in g.publicKey&&"function"==typeof g.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=[`${y.host} wants you to sign in with your Solana account:`,g.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(r=null===(n=null==v?void 0:v.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(a=null==v?void 0:v.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...(null===(i=null==v?void 0:v.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...(null===(o=null==v?void 0:v.signInWithSolana)||void 0===o?void 0:o.chainId)?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...(null===(s=null==v?void 0:v.signInWithSolana)||void 0===s?void 0:s.nonce)?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...(null===(l=null==v?void 0:v.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null==v?void 0:v.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...v.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await g.signMessage((new TextEncoder).encode(h),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await sv(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:Bm(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(f=e.options)||void 0===f?void 0:f.captchaToken}}:null),xform:lv});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new Nm}}catch(m){if(ym(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Hm(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{const{data:t,error:a}=await sv(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:lv});if(await Km(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Nm}}catch(a){if(ym(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,o=await sv(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:lv}),{data:s,error:l}=o;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new Nm}}catch(t){if(ym(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Qm(this.storage,this.storageKey));const{error:s}=await sv(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null==a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:s}=await sv(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null==n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(i=null==n?void 0:n.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:s}}throw new _m("You must provide either an email or phone number.")}catch(o){if(ym(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await sv(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:lv});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const s=i.session,l=i.user;return(null==s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(ym(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await Qm(this.storage,this.storageKey)),await sv(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:dv})}catch(a){if(ym(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new wm;const{error:r}=await sv(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ym(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await sv(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:o}=await sv(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o}}throw new _m("You must provide either an email or phone number and a type")}catch(t){if(ym(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Fte){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Fte){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Hm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<fm;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Hm(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=nv()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await sv(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:uv}):await this._useSession(async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await sv(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:uv}):{data:{user:null},error:new wm}})}catch(t){if(ym(t))return function(e){return ym(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Km(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new wm;const i=r.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await Qm(this.storage,this.storageKey));const{data:l,error:c}=await sv(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:i.access_token,xform:uv});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ym(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wm;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=Ym(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(ym(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new wm;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ym(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!$m())throw new km("No browser detected.");if(e.error||e.error_description||e.error_code)throw new km(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Sm("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new km("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Sm("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:o,expires_at:s,token_type:l}=e;if(!(a&&o&&i&&l))throw new km("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;s&&(d=parseInt(s));const{data:f,error:h}=await this._getUser(a);if(h)throw h;const p={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(ym(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Hm(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return ym(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Km(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await Qm(this.storage,this.storageKey,!0));try{return await sv(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ym(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ym(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,i,o;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await sv(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return $m()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),{data:{provider:e.provider,url:null==n?void 0:n.url},error:null}}catch(n){if(ym(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await sv(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(ym(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await sv(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lv})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Em(t)&&Date.now()+n-a<dm},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(Fte){if(!r(a,Fte))return void t(Fte)}})()}))}catch(a){if(this._debug(t,"error",a),ym(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),$m()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Hm(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Hm(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Vm(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:nv()}else if(a&&!a.user&&!a.user){const e=await Hm(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(a.user=e.user,await Km(this.storage,this.storageKey+"-user"),await Vm(this.storage,this.storageKey,a)):a.user=nv()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<fm;if(this._debug(n,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),Em(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null==e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new wm;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Gm;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new wm;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),ym(a)){const e={session:null,error:a};return Em(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Fte){r.push(Fte)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Vm(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=rv(e);await Vm(this.storage,this.storageKey,r)}else{const e=rv(t);await Vm(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Km(this.storage,this.storageKey),await Km(this.storage,this.storageKey+"-code-verifier"),await Km(this.storage,this.storageKey+"-user"),this.userStorage&&await Km(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$m()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Fte){console.error("removing visibilitychange callback failed",Fte)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dm);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/dm);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Fte){console.error("Auto refresh tick failed with error. This is likely a transient error.",Fte)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Fte){if(!(Fte.isAcquireTimeout||Fte instanceof yv))throw Fte;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$m()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Qm(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await sv(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(ym(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:l}=await sv(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(n=null==a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null==s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(t){if(ym(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:i,error:o}=await sv(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(ym(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await sv(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(ym(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ym(r.access_token);let o=null;i.aal&&(o=i.aal);let s=o;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;const{data:a,error:i}=await sv(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return a.keys&&0!==a.keys.length?(this.jwks=a,this.jwks_cached_at=r,n=a.keys.find(t=>t.kid===e),n||null):null}async getClaims(e,t={}){try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:o,payload:s}}=Ym(n);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,u,i,zm(`${o}.${s}`))))throw new Pm("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(ym(n))return{data:null,error:n};throw n}}}_v.nextInstanceID=0;const kv=_v;class Sv extends kv{constructor(e){super(e)}}var Ov=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(Fte){i(Fte)}}function s(e){try{l(r.throw(e))}catch(Fte){i(Fte)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})};class Ev{constructor(e,t,n){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(s=e).endsWith("/")?s:s+"/";var s;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(n=null==d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null==s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:()=>cm(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}(null!=n?n:{},{db:am,realtime:om,auth:Object.assign(Object.assign({},im),{storageKey:c}),global:rm});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=u.auth)&&void 0!==i?i:{},this.headers,u.global.fetch),this.fetch=lm(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Fh(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new tm(this.storageUrl.href,this.headers,this.fetch,null==n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Zf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ov(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:a,flowType:i,lock:o,debug:s},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sv({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),l),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:i,lock:o,debug:s,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();const Cv="https://wybhtprxiwgzmpmnfceq.supabase.co",Pv=((e,t,n)=>new Ev(e,t,n))(Cv,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind5Ymh0cHJ4aXdnem1wbW5mY2VxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEwMzIwODksImV4cCI6MjA2NjYwODA4OX0.ctFmwHC_iitVB16WB7lY616lIp0CAHBUGRaoi56ruqc"),Tv=q.createContext({user:null,loading:!0,signOut:async()=>{}}),Av=()=>{const e=q.useContext(Tv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Mv({children:e}){const[t,n]=q.useState(null),r=ef(),[a,i]=q.useState(!0),[o,s]=q.useState(!1);return q.useEffect(()=>{let e=!0;const{data:{subscription:t}}=Pv.auth.onAuthStateChange(async(t,a)=>{e&&(n((null==a?void 0:a.user)??null),"SIGNED_IN"===t?setTimeout(()=>{"/login"!==window.location.pathname&&"/signup"!==window.location.pathname||r("/",{replace:!0})},100):"SIGNED_OUT"===t&&(n(null),r("/login",{replace:!0})),o||s(!0),i(!1))});return(async()=>{try{const{data:{session:t},error:a}=await Pv.auth.getSession();a&&console.error("Error getting session:",a),e&&(n((null==t?void 0:t.user)??null),i(!1),s(!0),(null==t?void 0:t.user)&&"/login"===window.location.pathname?r("/",{replace:!0}):(null==t?void 0:t.user)||"/login"===window.location.pathname||"/signup"===window.location.pathname||r("/login",{replace:!0}))}catch(t){console.error("Error initializing auth:",t),e&&(i(!1),s(!0))}})(),()=>{e=!1,t.unsubscribe()}},[r,o]),ee.jsx(Tv.Provider,{value:{user:t,loading:a,signOut:async()=>{try{await Pv.auth.signOut(),n(null),r("/login")}catch(e){console.error("Error signing out:",e)}}},children:e})}let Dv=0;const Iv=new Map,Rv=e=>{if(Iv.has(e))return;const t=setTimeout(()=>{Iv.delete(e),Bv({type:"REMOVE_TOAST",toastId:e})},1e6);Iv.set(e,t)},Lv=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Rv(n):e.toasts.forEach(e=>{Rv(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},Fv=[];let zv={toasts:[]};function Bv(e){zv=Lv(zv,e),Fv.forEach(e=>{e(zv)})}function $v({...e}){const t=(Dv=(Dv+1)%Number.MAX_SAFE_INTEGER,Dv.toString()),n=()=>Bv({type:"DISMISS_TOAST",toastId:t});return Bv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Bv({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function Uv(){const[e,t]=q.useState(zv);return q.useEffect(()=>(Fv.push(t),()=>{const e=Fv.indexOf(t);e>-1&&Fv.splice(e,1)}),[e]),{...e,toast:$v,dismiss:e=>Bv({type:"DISMISS_TOAST",toastId:e})}}function Wv(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function qv(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Vv(...e){return t=>{let n=!1;const r=e.map(e=>{const r=qv(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():qv(e[t],null)}}}}function Hv(...e){return q.useCallback(Vv(...e),e)}function Kv(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>q.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return q.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const a=q.createContext(r),i=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o,...s}=t,l=(null==(n=null==r?void 0:r[e])?void 0:n[i])||a,c=q.useMemo(()=>s,Object.values(s));return ee.jsx(l.Provider,{value:c,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var s;const l=(null==(s=null==o?void 0:o[e])?void 0:s[i])||a,c=q.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Gv(r,...t)]}function Gv(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return q.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function Yv(e){const t=Jv(e),n=q.forwardRef((e,n)=>{const{children:r,...a}=e,i=q.Children.toArray(r),o=i.find(Zv);if(o){const e=o.props.children,r=i.map(t=>t===o?q.Children.count(e)>1?q.Children.only(null):q.isValidElement(e)?e.props.children:null:t);return ee.jsx(t,{...a,ref:n,children:q.isValidElement(e)?q.cloneElement(e,void 0,r):null})}return ee.jsx(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var Xv=Yv("Slot");function Jv(e){const t=q.forwardRef((e,t)=>{const{children:n,...r}=e;if(q.isValidElement(n)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...e)=>{const t=i(...e);return a(...e),t}:a&&(n[r]=a):"style"===r?n[r]={...a,...i}:"className"===r&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==q.Fragment&&(a.ref=t?Vv(t,e):e),q.cloneElement(n,a)}return q.Children.count(n)>1?q.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Qv=Symbol("radix.slottable");function Zv(e){return q.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Qv}function eg(e){const t=e+"CollectionProvider",[n,r]=Kv(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,r=V.useRef(null),i=V.useRef(new Map).current;return ee.jsx(a,{scope:t,itemMap:i,collectionRef:r,children:n})};o.displayName=t;const s=e+"CollectionSlot",l=Yv(s),c=V.forwardRef((e,t)=>{const{scope:n,children:r}=e,a=Hv(t,i(s,n).collectionRef);return ee.jsx(l,{ref:a,children:r})});c.displayName=s;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=Yv(u),h=V.forwardRef((e,t)=>{const{scope:n,children:r,...a}=e,o=V.useRef(null),s=Hv(t,o),l=i(u,n);return V.useEffect(()=>(l.itemMap.set(o,{ref:o,...a}),()=>{l.itemMap.delete(o)})),ee.jsx(f,{[d]:"",ref:s,children:r})});return h.displayName=u,[{Provider:o,Slot:c,ItemSlot:h},function(t){const n=i(e+"CollectionConsumer",t),r=V.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`)),r=Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return r},[n.collectionRef,n.itemMap]);return r},r]}var tg=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Yv(`Primitive.${t}`),r=q.forwardRef((e,r)=>{const{asChild:a,...i}=e,o=a?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),ee.jsx(o,{...i,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ng(e,t){e&&ld.flushSync(()=>e.dispatchEvent(t))}function rg(e){const t=q.useRef(e);return q.useEffect(()=>{t.current=e}),q.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}var ag,ig="dismissableLayer.update",og="dismissableLayer.pointerDownOutside",sg="dismissableLayer.focusOutside",lg=q.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cg=q.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:s,...l}=e,c=q.useContext(lg),[u,d]=q.useState(null),f=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,h]=q.useState({}),p=Hv(t,e=>d(e)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(v),y=u?m.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,b=y>=g,j=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=rg(e),r=q.useRef(!1),a=q.useRef(()=>{});return q.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){fg(og,n,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=r,t.addEventListener("click",a.current,{once:!0})):r()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...c.branches].some(e=>e.contains(t));b&&!n&&(null==a||a(e),null==o||o(e),e.defaultPrevented||null==s||s())},f),w=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=rg(e),r=q.useRef(!1);return q.useEffect(()=>{const e=e=>{if(e.target&&!r.current){fg(sg,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...c.branches].some(e=>e.contains(t))||(null==i||i(e),null==o||o(e),e.defaultPrevented||null==s||s())},f);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=rg(e);q.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{y===c.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},f),q.useEffect(()=>{if(u)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(ag=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),dg(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=ag)}},[u,f,n,c]),q.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),dg())},[u,c]),q.useEffect(()=>{const e=()=>h({});return document.addEventListener(ig,e),()=>document.removeEventListener(ig,e)},[]),ee.jsx(tg.div,{...l,ref:p,style:{pointerEvents:x?b?"auto":"none":void 0,...e.style},onFocusCapture:Wv(e.onFocusCapture,w.onFocusCapture),onBlurCapture:Wv(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:Wv(e.onPointerDownCapture,j.onPointerDownCapture)})});cg.displayName="DismissableLayer";var ug=q.forwardRef((e,t)=>{const n=q.useContext(lg),r=q.useRef(null),a=Hv(t,r);return q.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),ee.jsx(tg.div,{...e,ref:a})});function dg(){const e=new CustomEvent(ig);document.dispatchEvent(e)}function fg(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?ng(a,i):a.dispatchEvent(i)}ug.displayName="DismissableLayerBranch";var hg=cg,pg=ug,mg=(null==globalThis?void 0:globalThis.document)?q.useLayoutEffect:()=>{},vg=q.forwardRef((e,t)=>{var n;const{container:r,...a}=e,[i,o]=q.useState(!1);mg(()=>o(!0),[]);const s=r||i&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return s?cd.createPortal(ee.jsx(tg.div,{...a,ref:t}),s):null});vg.displayName="Portal";var gg=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=q.useState(),r=q.useRef(null),a=q.useRef(e),i=q.useRef("none"),o=e?"mounted":"unmounted",[s,l]=function(e,t){return q.useReducer((e,n)=>t[e][n]??e,e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return q.useEffect(()=>{const e=yg(r.current);i.current="mounted"===s?e:"none"},[s]),mg(()=>{const t=r.current,n=a.current;if(n!==e){const r=i.current,o=yg(t);if(e)l("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}a.current=e}},[e,l]),mg(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,o=i=>{const o=yg(r.current).includes(i.animationName);if(i.target===t&&o&&(l("ANIMATION_END"),!a.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},s=e=>{e.target===t&&(i.current=yg(r.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:q.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),a="function"==typeof n?n({present:r.isPresent}):q.Children.only(n),i=Hv(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(a));return"function"==typeof n||r.isPresent?q.cloneElement(a,{ref:i}):null};function yg(e){return(null==e?void 0:e.animationName)||"none"}gg.displayName="Presence";var xg=H[" useInsertionEffect ".trim().toString()]||mg;function bg({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=function({defaultProp:e,onChange:t}){const[n,r]=q.useState(e),a=q.useRef(n),i=q.useRef(t);return xg(()=>{i.current=t},[t]),q.useEffect(()=>{var e;a.current!==n&&(null==(e=i.current)||e.call(i,n),a.current=n)},[n,a]),[n,r,i]}({defaultProp:t,onChange:n}),s=void 0!==e,l=s?e:a;{const t=q.useRef(void 0!==e);q.useEffect(()=>{const e=t.current;if(e!==s){}t.current=s},[s,r])}const c=q.useCallback(t=>{var n;if(s){const r=function(e){return"function"==typeof e}(t)?t(e):t;r!==e&&(null==(n=o.current)||n.call(o,r))}else i(t)},[s,e,i,o]);return[l,c]}var jg=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wg=q.forwardRef((e,t)=>ee.jsx(tg.span,{...e,ref:t,style:{...jg,...e.style}}));wg.displayName="VisuallyHidden";var Ng="ToastProvider",[_g,kg,Sg]=eg("Toast"),[Og,Eg]=Kv("Toast",[Sg]),[Cg,Pg]=Og(Ng),Tg=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[s,l]=q.useState(null),[c,u]=q.useState(0),d=q.useRef(!1),f=q.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ng}\`. Expected non-empty \`string\`.`),ee.jsx(_g.Provider,{scope:t,children:ee.jsx(Cg,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:q.useCallback(()=>u(e=>e+1),[]),onToastRemove:q.useCallback(()=>u(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};Tg.displayName=Ng;var Ag="ToastViewport",Mg=["F8"],Dg="toast.viewportPause",Ig="toast.viewportResume",Rg=q.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Mg,label:a="Notifications ({hotkey})",...i}=e,o=Pg(Ag,n),s=kg(n),l=q.useRef(null),c=q.useRef(null),u=q.useRef(null),d=q.useRef(null),f=Hv(t,d,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;q.useEffect(()=>{const e=e=>{var t;0!==r.length&&r.every(t=>e[t]||e.code===t)&&(null==(t=d.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]),q.useEffect(()=>{const e=l.current,t=d.current;if(p&&e&&t){const n=()=>{if(!o.isClosePausedRef.current){const e=new CustomEvent(Dg);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},r=()=>{if(o.isClosePausedRef.current){const e=new CustomEvent(Ig);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&r()},i=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",a),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",i),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",i),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}},[p,o.isClosePausedRef]);const m=q.useCallback(({tabbingDirection:e})=>{const t=s().map(t=>{const n=t.ref.current,r=[n,...ty(n)];return"forwards"===e?r:r.reverse()});return("forwards"===e?t.reverse():t).flat()},[s]);return q.useEffect(()=>{const e=d.current;if(e){const t=t=>{var n,r,a;const i=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!i){const i=document.activeElement,o=t.shiftKey;if(t.target===e&&o)return void(null==(n=c.current)||n.focus());const s=m({tabbingDirection:o?"backwards":"forwards"}),l=s.findIndex(e=>e===i);ny(s.slice(l+1))?t.preventDefault():o?null==(r=c.current)||r.focus():null==(a=u.current)||a.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[s,m]),ee.jsxs(pg,{ref:l,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&ee.jsx(Fg,{ref:c,onFocusFromOutsideViewport:()=>{ny(m({tabbingDirection:"forwards"}))}}),ee.jsx(_g.Slot,{scope:n,children:ee.jsx(tg.ol,{tabIndex:-1,...i,ref:f})}),p&&ee.jsx(Fg,{ref:u,onFocusFromOutsideViewport:()=>{ny(m({tabbingDirection:"backwards"}))}})]})});Rg.displayName=Ag;var Lg="ToastFocusProxy",Fg=q.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=Pg(Lg,n);return ee.jsx(wg,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null==(t=i.viewport)?void 0:t.contains(n))&&r()}})});Fg.displayName=Lg;var zg="Toast",Bg=q.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[s,l]=bg({prop:r,defaultProp:a??!0,onChange:i,caller:zg});return ee.jsx(gg,{present:n||s,children:ee.jsx(Wg,{open:s,...o,ref:t,onClose:()=>l(!1),onPause:rg(e.onPause),onResume:rg(e.onResume),onSwipeStart:Wv(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Wv(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)}),onSwipeCancel:Wv(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Wv(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),l(!1)})})})});Bg.displayName=zg;var[$g,Ug]=Og(zg,{onClose(){}}),Wg=q.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...p}=e,m=Pg(zg,n),[v,g]=q.useState(null),y=Hv(t,e=>g(e)),x=q.useRef(null),b=q.useRef(null),j=a||m.duration,w=q.useRef(0),N=q.useRef(j),_=q.useRef(0),{onToastAdd:k,onToastRemove:S}=m,O=rg(()=>{var e;(null==v?void 0:v.contains(document.activeElement))&&(null==(e=m.viewport)||e.focus()),o()}),E=q.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(_.current),w.current=(new Date).getTime(),_.current=window.setTimeout(O,e))},[O]);q.useEffect(()=>{const e=m.viewport;if(e){const t=()=>{E(N.current),null==c||c()},n=()=>{const e=(new Date).getTime()-w.current;N.current=N.current-e,window.clearTimeout(_.current),null==l||l()};return e.addEventListener(Dg,n),e.addEventListener(Ig,t),()=>{e.removeEventListener(Dg,n),e.removeEventListener(Ig,t)}}},[m.viewport,j,l,c,E]),q.useEffect(()=>{i&&!m.isClosePausedRef.current&&E(j)},[i,j,m.isClosePausedRef,E]),q.useEffect(()=>(k(),()=>S()),[k,S]);const C=q.useMemo(()=>v?Qg(v):null,[v]);return m.viewport?ee.jsxs(ee.Fragment,{children:[C&&ee.jsx(qg,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:C}),ee.jsx($g,{scope:n,onClose:O,children:ld.createPortal(ee.jsx(_g.ItemSlot,{scope:n,children:ee.jsx(hg,{asChild:!0,onEscapeKeyDown:Wv(s,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:ee.jsx(tg.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Wv(e.onKeyDown,e=>{"Escape"===e.key&&(null==s||s(e.nativeEvent),e.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Wv(e.onPointerDown,e=>{0===e.button&&(x.current={x:e.clientX,y:e.clientY})}),onPointerMove:Wv(e.onPointerMove,e=>{if(!x.current)return;const t=e.clientX-x.current.x,n=e.clientY-x.current.y,r=Boolean(b.current),a=["left","right"].includes(m.swipeDirection),i=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,o=a?i(0,t):0,s=a?0:i(0,n),l="touch"===e.pointerType?10:2,c={x:o,y:s},f={originalEvent:e,delta:c};r?(b.current=c,Zg("toast.swipeMove",d,f,{discrete:!1})):ey(c,m.swipeDirection,l)?(b.current=c,Zg("toast.swipeStart",u,f,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(x.current=null)}),onPointerUp:Wv(e.onPointerUp,e=>{const t=b.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),b.current=null,x.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};ey(t,m.swipeDirection,m.swipeThreshold)?Zg("toast.swipeEnd",h,r,{discrete:!0}):Zg("toast.swipeCancel",f,r,{discrete:!0}),n.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),qg=e=>{const{__scopeToast:t,children:n,...r}=e,a=Pg(zg,t),[i,o]=q.useState(!1),[s,l]=q.useState(!1);return function(e=()=>{}){const t=rg(e);mg(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[t])}(()=>o(!0)),q.useEffect(()=>{const e=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(e)},[]),s?null:ee.jsx(vg,{asChild:!0,children:ee.jsx(wg,{...r,children:i&&ee.jsxs(ee.Fragment,{children:[a.label," ",n]})})})},Vg=q.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return ee.jsx(tg.div,{...r,ref:t})});Vg.displayName="ToastTitle";var Hg=q.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return ee.jsx(tg.div,{...r,ref:t})});Hg.displayName="ToastDescription";var Kg="ToastAction",Gg=q.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?ee.jsx(Jg,{altText:n,asChild:!0,children:ee.jsx(Xg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Kg}\`. Expected non-empty \`string\`.`),null)});Gg.displayName=Kg;var Yg="ToastClose",Xg=q.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=Ug(Yg,n);return ee.jsx(Jg,{asChild:!0,children:ee.jsx(tg.button,{type:"button",...r,ref:t,onClick:Wv(e.onClick,a.onClose)})})});Xg.displayName=Yg;var Jg=q.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return ee.jsx(tg.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function Qg(e){const t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...Qg(e))}}),t}function Zg(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?ng(a,i):a.dispatchEvent(i)}var ey=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return"left"===t||"right"===t?i&&r>n:!i&&a>n};function ty(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ny(e){const t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var ry=Tg,ay=Rg,iy=Bg,oy=Vg,sy=Hg,ly=Gg,cy=Xg;function uy(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=uy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dy(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=uy(e))&&(r&&(r+=" "),r+=t);return r}const fy=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,hy=dy,py=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return hy(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(e=>{const t=null==n?void 0:n[e],r=null==i?void 0:i[e];if(null===t)return null;const o=fy(t)||fy(r);return a[e][o]}),s=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...s}[t]):{...i,...s}[t]===n})?[...e,n,r]:e},[]);return hy(e,o,l,null==n?void 0:n.class,null==n?void 0:n.className)},my=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=q.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...s},l)=>q.createElement("svg",{ref:l,...vy,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:my("lucide",a),...s},[...o.map(([e,t])=>q.createElement(e,t)),...Array.isArray(i)?i:[i]])),yy=(e,t)=>{const n=q.forwardRef(({className:n,...r},a)=>{return q.createElement(gy,{ref:a,iconNode:t,className:my(`lucide-${i=e,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...r});var i});return n.displayName=`${e}`,n},xy=yy("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),by=yy("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),jy=yy("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),wy=yy("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Ny=yy("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_y=yy("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),ky=yy("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Sy=yy("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Oy=yy("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]),Ey=yy("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Cy=yy("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Py=yy("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),Ty=yy("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ay=yy("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),My=yy("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Dy=yy("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Iy=yy("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ry=yy("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ly=yy("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Fy=yy("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),zy=yy("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),By=yy("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$y=yy("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Uy=yy("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Wy=yy("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),qy=yy("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),Vy=yy("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Hy=yy("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ky=yy("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Gy=yy("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Yy=yy("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Xy=yy("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Jy=yy("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),Qy=yy("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Zy=yy("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),ex=yy("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),tx=yy("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),nx=yy("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),rx=yy("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),ax=yy("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ix=yy("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ox=yy("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),sx=yy("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),lx=yy("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),cx=yy("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ux=yy("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),dx=yy("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),fx=yy("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),hx=yy("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),px=yy("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),mx=yy("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),vx=yy("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),gx=yy("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),yx=yy("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),xx=yy("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),bx=yy("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),jx=yy("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),wx=yy("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Nx=yy("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),_x=yy("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),kx=yy("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Sx=yy("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ox=yy("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Ex=yy("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Cx=yy("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Px=yy("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Tx=yy("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ax=yy("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Mx=yy("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dx=yy("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ix=e=>{const t=zx(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Rx(n,t)||Fx(e)},getConflictingClassGroupIds:(e,t)=>{const a=n[e]||[];return t&&r[e]?[...a,...r[e]]:a}}},Rx=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),i=a?Rx(e.slice(1),a):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return null==(n=t.validators.find(({validator:e})=>e(o)))?void 0:n.classGroupId},Lx=/^\[(.+)\]$/,Fx=e=>{if(Lx.test(e)){const t=Lx.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zx=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Wx(Object.entries(e.classGroups),n).forEach(([e,n])=>{Bx(n,r,e,t)}),r},Bx=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:$x(t,e)).classGroupId=n)}if("function"==typeof e)return Ux(e)?void Bx(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,a])=>{Bx(a,$x(t,e),n,r)})})},$x=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Ux=e=>e.isThemeGetter,Wx=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,qx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):a(e,t)}}},Vx=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,a=t[0],i=t.length,o=e=>{const n=[];let o,s=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===s){if(c===a&&(r||e.slice(d,d+i)===t)){n.push(e.slice(l,d)),l=d+i;continue}if("/"===c){o=d;continue}}"["===c?s++:"]"===c&&s--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:o&&o>l?o-l:void 0}};return n?e=>n({className:e,parseClassName:o}):o},Hx=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},Kx=/\s+/;
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Gx(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Yx(e))&&(r&&(r+=" "),r+=t);return r}const Yx=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Yx(e[r]))&&(n&&(n+=" "),n+=t);return n};function Xx(e,...t){let n,r,a,i=function(s){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:qx(e.cacheSize),parseClassName:Vx(e),...Ix(e)}))(l),r=n.cache.get,a=n.cache.set,i=o,o(s)};function o(e){const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Kx);let s="";for(let l=o.length-1;l>=0;l-=1){const e=o[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let f=Boolean(d),h=r(f?u.substring(0,d):u);if(!h){if(!f){s=e+(s.length>0?" "+s:s);continue}if(h=r(u),!h){s=e+(s.length>0?" "+s:s);continue}f=!1}const p=Hx(t).join(":"),m=c?p+"!":p,v=m+h;if(i.includes(v))continue;i.push(v);const g=a(h,f);for(let n=0;n<g.length;++n){const e=g[n];i.push(m+e)}s=e+(s.length>0?" "+s:s)}return s})(e,n);return a(e,i),i}return function(){return i(Gx.apply(null,arguments))}}const Jx=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Qx=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zx=/^\d+\/\d+$/,eb=new Set(["px","full","screen"]),tb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ab=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ib=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ob=e=>lb(e)||eb.has(e)||Zx.test(e),sb=e=>jb(e,"length",wb),lb=e=>Boolean(e)&&!Number.isNaN(Number(e)),cb=e=>jb(e,"number",lb),ub=e=>Boolean(e)&&Number.isInteger(Number(e)),db=e=>e.endsWith("%")&&lb(e.slice(0,-1)),fb=e=>Qx.test(e),hb=e=>tb.test(e),pb=new Set(["length","size","percentage"]),mb=e=>jb(e,pb,Nb),vb=e=>jb(e,"position",Nb),gb=new Set(["image","url"]),yb=e=>jb(e,gb,kb),xb=e=>jb(e,"",_b),bb=()=>!0,jb=(e,t,n)=>{const r=Qx.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},wb=e=>nb.test(e)&&!rb.test(e),Nb=()=>!1,_b=e=>ab.test(e),kb=e=>ib.test(e),Sb=Xx(()=>{const e=Jx("colors"),t=Jx("spacing"),n=Jx("blur"),r=Jx("brightness"),a=Jx("borderColor"),i=Jx("borderRadius"),o=Jx("borderSpacing"),s=Jx("borderWidth"),l=Jx("contrast"),c=Jx("grayscale"),u=Jx("hueRotate"),d=Jx("invert"),f=Jx("gap"),h=Jx("gradientColorStops"),p=Jx("gradientColorStopPositions"),m=Jx("inset"),v=Jx("margin"),g=Jx("opacity"),y=Jx("padding"),x=Jx("saturate"),b=Jx("scale"),j=Jx("sepia"),w=Jx("skew"),N=Jx("space"),_=Jx("translate"),k=()=>["auto",fb,t],S=()=>[fb,t],O=()=>["",ob,sb],E=()=>["auto",lb,fb],C=()=>["","0",fb],P=()=>[lb,fb];return{cacheSize:500,separator:":",theme:{colors:[bb],spacing:[ob,sb],blur:["none","",hb,fb],brightness:P(),borderColor:[e],borderRadius:["none","","full",hb,fb],borderSpacing:S(),borderWidth:O(),contrast:P(),grayscale:C(),hueRotate:P(),invert:C(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[db,sb],inset:k(),margin:k(),opacity:P(),padding:S(),saturate:P(),scale:P(),sepia:C(),skew:P(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",fb]}],container:["container"],columns:[{columns:[hb]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",fb]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ub,fb]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fb]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",ub,fb]}],"grid-cols":[{"grid-cols":[bb]}],"col-start-end":[{col:["auto",{span:["full",ub,fb]},fb]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[bb]}],"row-start-end":[{row:["auto",{span:[ub,fb]},fb]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fb]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fb]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fb,t]}],"min-w":[{"min-w":[fb,t,"min","max","fit"]}],"max-w":[{"max-w":[fb,t,"none","full","min","max","fit","prose",{screen:[hb]},hb]}],h:[{h:[fb,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fb,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fb,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fb,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hb,sb]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cb]}],"font-family":[{font:[bb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fb]}],"line-clamp":[{"line-clamp":["none",lb,cb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ob,fb]}],"list-image":[{"list-image":["none",fb]}],"list-style-type":[{list:["none","disc","decimal",fb]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ob,sb]}],"underline-offset":[{"underline-offset":["auto",ob,fb]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fb]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fb]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",vb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yb]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[ob,fb]}],"outline-w":[{outline:[ob,sb]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ob,sb]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hb,xb]}],"shadow-color":[{shadow:[bb]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hb,fb]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fb]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",fb]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",fb]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ub,fb]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fb]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fb]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fb]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ob,sb,cb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Ob(...e){return Sb(dy(e))}const Eb=ry,Cb=q.forwardRef(({className:e,...t},n)=>ee.jsx(ay,{ref:n,className:Ob("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Cb.displayName=ay.displayName;const Pb=py("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tb=q.forwardRef(({className:e,variant:t,...n},r)=>ee.jsx(iy,{ref:r,className:Ob(Pb({variant:t}),e),...n}));Tb.displayName=iy.displayName;q.forwardRef(({className:e,...t},n)=>ee.jsx(ly,{ref:n,className:Ob("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=ly.displayName;const Ab=q.forwardRef(({className:e,...t},n)=>ee.jsx(cy,{ref:n,className:Ob("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:ee.jsx(Mx,{className:"h-4 w-4"})}));Ab.displayName=cy.displayName;const Mb=q.forwardRef(({className:e,...t},n)=>ee.jsx(oy,{ref:n,className:Ob("text-sm font-semibold",e),...t}));Mb.displayName=oy.displayName;const Db=q.forwardRef(({className:e,...t},n)=>ee.jsx(sy,{ref:n,className:Ob("text-sm opacity-90",e),...t}));function Ib(){const{toasts:e}=Uv();return ee.jsxs(Eb,{children:[e.map(function({id:e,title:t,description:n,action:r,...a}){return ee.jsxs(Tb,{...a,children:[ee.jsxs("div",{className:"grid gap-1",children:[t&&ee.jsx(Mb,{children:t}),n&&ee.jsx(Db,{children:n})]}),r,ee.jsx(Ab,{})]},e)}),ee.jsx(Cb,{})]})}Db.displayName=sy.displayName;const Rb=py("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Lb=q.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?Xv:"button";return ee.jsx(o,{className:Ob(Rb({variant:t,size:n,className:e})),ref:i,...a})});Lb.displayName="Button";const Fb=[{name:"Dashboard",href:"/",icon:tx},{name:"Campagnes",href:"/campaigns",icon:sx},{name:"Projets",href:"/projects",icon:Jy},{name:"Analytics",href:"/analytics",icon:Cy},{name:"Email Templates",href:"/email-templates",icon:Gy},{name:"Lead Generation",href:"/lead-generation",icon:Sx},{name:"Paramètres",href:"/settings",icon:jx}];function zb({children:e,title:t}){const n=ef(),r=Jd(),{signOut:a}=Av(),[i,o]=q.useState(!1);return ee.jsxs("div",{className:"flex min-h-screen w-full bg-gray-50",children:[i&&ee.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity lg:hidden z-40",onClick:()=>o(!1)}),ee.jsx("div",{className:`\n        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 lg:flex lg:flex-col\n        ${i?"translate-x-0":"-translate-x-full"}\n      `,children:ee.jsxs("div",{className:"flex flex-col h-full",children:[ee.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[ee.jsxs("div",{className:"flex flex-col",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:ee.jsx(Dx,{className:"w-4 h-4 text-white"})}),ee.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Premun IA"})]}),ee.jsx("div",{className:"text-sm text-gray-600 ml-10",children:"by MEKNI Hamdi"})]}),ee.jsx(Lb,{variant:"ghost",size:"sm",className:"lg:hidden rounded-lg",onClick:()=>o(!1),children:ee.jsx(Mx,{className:"w-4 h-4"})})]}),ee.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:Fb.map(e=>{const t=r.pathname===e.href,a=e.icon;return ee.jsxs(Lb,{variant:t?"default":"ghost",className:`\n                    w-full justify-start space-x-3 rounded-xl transition-all duration-200\n                    ${t?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md hover:shadow-lg":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}\n                  `,onClick:()=>{n(e.href),o(!1)},children:[ee.jsx(a,{className:"w-5 h-5"}),ee.jsx("span",{className:"font-medium",children:e.name}),t&&ee.jsx(Dy,{className:"w-4 h-4 ml-auto"})]},e.name)})}),ee.jsx("div",{className:"p-4 border-t border-gray-200",children:ee.jsxs(Lb,{variant:"ghost",className:"w-full justify-start space-x-3 text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-xl",onClick:async()=>{try{await a(),n("/login")}catch(e){console.error("Error signing out:",e)}},children:[ee.jsx(ox,{className:"w-5 h-5"}),ee.jsx("span",{children:"Déconnexion"})]})})]})}),ee.jsxs("div",{className:"flex-1 flex flex-col lg:ml-0",children:[ee.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 lg:hidden",children:ee.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center h-16",children:[ee.jsxs("div",{className:"flex items-center space-x-4",children:[ee.jsx(Lb,{variant:"ghost",size:"sm",className:"lg:hidden rounded-lg",onClick:()=>o(!0),children:ee.jsx(cx,{className:"w-5 h-5"})}),ee.jsx("div",{children:ee.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t})})]}),ee.jsx("div",{className:"flex items-center space-x-4",children:ee.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:ee.jsx("span",{className:"text-xs font-semibold text-white",children:"U"})})})]})})}),ee.jsxs("main",{className:"flex-1 bg-gray-50",children:[ee.jsx("div",{className:"hidden lg:block px-4 sm:px-6 lg:px-8 py-6 border-b border-gray-200 bg-white",children:ee.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t})}),ee.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:e})]})]})]})}function Bb(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function $b(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ub(e,t){const n=Bb(e);return isNaN(t)?$b(e,NaN):t?(n.setDate(n.getDate()+t),n):n}function Wb(e,t){const n=Bb(e);if(isNaN(t))return $b(e,NaN);if(!t)return n;const r=n.getDate(),a=$b(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);return r>=a.getDate()?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const qb=6048e5;let Vb={};function Hb(){return Vb}function Kb(e,t){var n,r,a,i;const o=Hb(),s=(null==t?void 0:t.weekStartsOn)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.weekStartsOn)??o.weekStartsOn??(null==(i=null==(a=o.locale)?void 0:a.options)?void 0:i.weekStartsOn)??0,l=Bb(e),c=l.getDay(),u=(c<s?7:0)+c-s;return l.setDate(l.getDate()-u),l.setHours(0,0,0,0),l}function Gb(e){return Kb(e,{weekStartsOn:1})}function Yb(e){const t=Bb(e),n=t.getFullYear(),r=$b(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Gb(r),i=$b(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Gb(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Xb(e){const t=Bb(e);return t.setHours(0,0,0,0),t}function Jb(e){const t=Bb(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Qb(e,t){const n=Xb(e),r=Xb(t),a=+n-Jb(n),i=+r-Jb(r);return Math.round((a-i)/864e5)}function Zb(e,t){return Ub(e,7*t)}function ej(e,t){return Wb(e,12*t)}function tj(e,t){return+Xb(e)===+Xb(t)}function nj(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function rj(e,t){const n=Bb(e),r=Bb(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function aj(e){const t=Bb(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ij(e){const t=Bb(e);return t.setDate(1),t.setHours(0,0,0,0),t}function oj(e){const t=Bb(e),n=$b(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function sj(e,t){var n,r,a,i;const o=Hb(),s=(null==t?void 0:t.weekStartsOn)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.weekStartsOn)??o.weekStartsOn??(null==(i=null==(a=o.locale)?void 0:a.options)?void 0:i.weekStartsOn)??0,l=Bb(e),c=l.getDay(),u=6+(c<s?-7:0)-(c-s);return l.setDate(l.getDate()+u),l.setHours(23,59,59,999),l}function lj(e){return sj(e,{weekStartsOn:1})}const cj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function uj(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dj={date:uj({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:uj({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:uj({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},fj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function hj(e){return(t,n)=>{let r;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=(null==n?void 0:n.width)?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=(null==n?void 0:n.width)?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function pj(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,e=>e.test(o)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,e=>e.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}function mj(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;return{value:o,rest:t.slice(a.length)}}}const vj={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=cj[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:dj,formatRelative:(e,t,n,r)=>fj[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:hj({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:hj({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:hj({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:hj({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:hj({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:mj({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:pj({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:pj({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:pj({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:pj({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:pj({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function gj(e){const t=Bb(e),n=+Gb(t)-+function(e){const t=Yb(e),n=$b(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Gb(n)}(t);return Math.round(n/qb)+1}function yj(e,t){var n,r,a,i;const o=Bb(e),s=o.getFullYear(),l=Hb(),c=(null==t?void 0:t.firstWeekContainsDate)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)??l.firstWeekContainsDate??(null==(i=null==(a=l.locale)?void 0:a.options)?void 0:i.firstWeekContainsDate)??1,u=$b(e,0);u.setFullYear(s+1,0,c),u.setHours(0,0,0,0);const d=Kb(u,t),f=$b(e,0);f.setFullYear(s,0,c),f.setHours(0,0,0,0);const h=Kb(f,t);return o.getTime()>=d.getTime()?s+1:o.getTime()>=h.getTime()?s:s-1}function xj(e,t){const n=Bb(e),r=+Kb(n,t)-+function(e,t){var n,r,a,i;const o=Hb(),s=(null==t?void 0:t.firstWeekContainsDate)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??(null==(i=null==(a=o.locale)?void 0:a.options)?void 0:i.firstWeekContainsDate)??1,l=yj(e,t),c=$b(e,0);return c.setFullYear(l,0,s),c.setHours(0,0,0,0),Kb(c,t)}(n,t);return Math.round(r/qb)+1}function bj(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const jj={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return bj("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):bj(n+1,2)},d:(e,t)=>bj(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>bj(e.getHours()%12||12,t.length),H:(e,t)=>bj(e.getHours(),t.length),m:(e,t)=>bj(e.getMinutes(),t.length),s:(e,t)=>bj(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return bj(Math.trunc(r*Math.pow(10,n-3)),t.length)}},wj="midnight",Nj="noon",_j="morning",kj="afternoon",Sj="evening",Oj="night",Ej={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return jj.y(e,t)},Y:function(e,t,n,r){const a=yj(e,r),i=a>0?a:1-a;if("YY"===t){return bj(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):bj(i,t.length)},R:function(e,t){return bj(Yb(e),t.length)},u:function(e,t){return bj(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return bj(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return bj(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return jj.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return bj(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=xj(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):bj(a,t.length)},I:function(e,t,n){const r=gj(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):bj(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):jj.d(e,t)},D:function(e,t,n){const r=function(e){const t=Bb(e);return Qb(t,oj(t))+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):bj(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return bj(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return bj(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return bj(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?Nj:0===r?wj:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?Sj:r>=12?kj:r>=4?_j:Oj,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return jj.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):jj.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):bj(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):bj(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):jj.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):jj.s(e,t)},S:function(e,t){return jj.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Pj(r);case"XXXX":case"XX":return Tj(r);default:return Tj(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Pj(r);case"xxxx":case"xx":return Tj(r);default:return Tj(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cj(r,":");default:return"GMT"+Tj(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cj(r,":");default:return"GMT"+Tj(r,":")}},t:function(e,t,n){return bj(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return bj(e.getTime(),t.length)}};function Cj(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return 0===i?n+String(a):n+String(a)+t+bj(i,2)}function Pj(e,t){if(e%60==0){return(e>0?"-":"+")+bj(Math.abs(e)/60,2)}return Tj(e,t)}function Tj(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+bj(Math.trunc(r/60),2)+t+bj(r%60,2)}const Aj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Mj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Dj={p:Mj,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Aj(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",Aj(r,t)).replace("{{time}}",Mj(a,t))}},Ij=/^D+$/,Rj=/^Y+$/,Lj=["D","DD","YY","YYYY"];const Fj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bj=/^'([^]*?)'?$/,$j=/''/g,Uj=/[a-zA-Z]/;function Wj(e,t,n){var r,a,i,o,s,l,c,u;const d=Hb(),f=(null==n?void 0:n.locale)??d.locale??vj,h=(null==n?void 0:n.firstWeekContainsDate)??(null==(a=null==(r=null==n?void 0:n.locale)?void 0:r.options)?void 0:a.firstWeekContainsDate)??d.firstWeekContainsDate??(null==(o=null==(i=d.locale)?void 0:i.options)?void 0:o.firstWeekContainsDate)??1,p=(null==n?void 0:n.weekStartsOn)??(null==(l=null==(s=null==n?void 0:n.locale)?void 0:s.options)?void 0:l.weekStartsOn)??d.weekStartsOn??(null==(u=null==(c=d.locale)?void 0:c.options)?void 0:u.weekStartsOn)??0,m=Bb(e);if(!function(e){if(!nj(e)&&"number"!=typeof e)return!1;const t=Bb(e);return!isNaN(Number(t))}(m))throw new RangeError("Invalid time value");let v=t.match(zj).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Dj[t])(e,f.formatLong)}return e}).join("").match(Fj).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:qj(e)};if(Ej[t])return{isToken:!0,value:e};if(t.match(Uj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});f.localize.preprocessor&&(v=f.localize.preprocessor(m,v));const g={firstWeekContainsDate:h,weekStartsOn:p,locale:f};return v.map(r=>{if(!r.isToken)return r.value;const a=r.value;(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&function(e){return Rj.test(e)}(a)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&function(e){return Ij.test(e)}(a))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(Lj.includes(e))throw new RangeError(r)}(a,t,String(e));return(0,Ej[a[0]])(m,a,f.localize,g)}).join("")}function qj(e){const t=e.match(Bj);return t?t[1].replace($j,"'"):e}function Vj(e,t){return function(e,t,n){const r=Kb(e,n),a=Kb(t,n),i=+r-Jb(r),o=+a-Jb(a);return Math.round((i-o)/qb)}(function(e){const t=Bb(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}(e),ij(e),t)+1}function Hj(e,t){const n=Bb(e),r=Bb(t);return n.getTime()>r.getTime()}function Kj(e,t){return+Bb(e)<+Bb(t)}function Gj(e,t){const n=Bb(e),r=Bb(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Yj(e,t){return Ub(e,-t)}function Xj(e,t){const n=Bb(e),r=n.getFullYear(),a=n.getDate(),i=$b(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=function(e){const t=Bb(e),n=t.getFullYear(),r=t.getMonth(),a=$b(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}(i);return n.setMonth(t,Math.min(a,o)),n}function Jj(e,t){const n=Bb(e);return isNaN(+n)?$b(e,NaN):(n.setFullYear(t),n)}const Qj={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},Zj={date:uj({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:uj({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:uj({formats:{full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ew={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},tw=["MMM","MMMM"],nw={preprocessor:(e,t)=>{if(1===e.getDate())return t;return t.some(e=>e.isToken&&tw.includes(e.value))?t.map(e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e):t},ordinalNumber:(e,t)=>{const n=Number(e),r=null==t?void 0:t.unit;if(0===n)return"0";let a;return a=1===n?r&&["year","week","hour","minute","second"].includes(r)?"ère":"er":"ème",n+a},era:hj({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},defaultWidth:"wide"}),quarter:hj({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:hj({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},defaultWidth:"wide"}),day:hj({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:hj({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},rw={code:"fr",formatDistance:(e,t,n)=>{let r;const a=Qj[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",String(t)),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},formatLong:Zj,formatRelative:(e,t,n,r)=>ew[e],localize:nw,match:{ordinalNumber:mj({matchPattern:/^(\d+)(ième|ère|ème|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:pj({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:pj({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:pj({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:pj({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:pj({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};var aw=function(){return aw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},aw.apply(this,arguments)};function iw(e,t,n){for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function ow(e){return"multiple"===e.mode}function sw(e){return"range"===e.mode}function lw(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var cw={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};var uw=Object.freeze({__proto__:null,formatCaption:function(e,t){return Wj(e,"LLLL y",t)},formatDay:function(e,t){return Wj(e,"d",t)},formatMonthCaption:function(e,t){return Wj(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return Wj(e,"cccccc",t)},formatYearCaption:function(e,t){return Wj(e,"yyyy",t)}}),dw=Object.freeze({__proto__:null,labelDay:function(e,t,n){return Wj(e,"do MMMM (EEEE)",n)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return Wj(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}});var fw=q.createContext(void 0);function hw(e){var t,n,r=e.initialProps,a={captionLayout:"buttons",classNames:cw,formatters:uw,labels:dw,locale:vj,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},i=function(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=ij(r):t&&(i=new Date(t,0,1)),a?o=aj(a):n&&(o=new Date(n,11,31)),{fromDate:i?Xb(i):void 0,toDate:o?Xb(o):void 0}}(r),o=i.fromDate,s=i.toDate,l=null!==(t=r.captionLayout)&&void 0!==t?t:a.captionLayout;"buttons"===l||o&&s||(l="buttons"),(lw(r)||ow(r)||sw(r))&&(n=r.onSelect);var c=aw(aw(aw({},a),r),{captionLayout:l,classNames:aw(aw({},a.classNames),r.classNames),components:aw({},r.components),formatters:aw(aw({},a.formatters),r.formatters),fromDate:o,labels:aw(aw({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:aw(aw({},a.modifiers),r.modifiers),modifiersClassNames:aw(aw({},a.modifiersClassNames),r.modifiersClassNames),onSelect:n,styles:aw(aw({},a.styles),r.styles),toDate:s});return ee.jsx(fw.Provider,{value:c,children:e.children})}function pw(){var e=q.useContext(fw);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function mw(e){var t=pw(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return ee.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function vw(e){return ee.jsx("svg",aw({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:ee.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gw(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,s=e.className,l=e.style,c=pw(),u=null!==(n=null===(t=c.components)||void 0===t?void 0:t.IconDropdown)&&void 0!==n?n:vw;return ee.jsxs("div",{className:s,style:l,children:[ee.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),ee.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:a,onChange:r,children:i}),ee.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,ee.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function yw(e){var t,n=pw(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,s=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return ee.jsx(ee.Fragment,{});if(!a)return ee.jsx(ee.Fragment,{});var d=[];if(function(e,t){const n=Bb(e),r=Bb(t);return n.getFullYear()===r.getFullYear()}(r,a))for(var f=ij(r),h=r.getMonth();h<=a.getMonth();h++)d.push(Xj(f,h));else for(f=ij(new Date),h=0;h<=11;h++)d.push(Xj(f,h));var p=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:gw;return ee.jsx(p,{name:"months","aria-label":u(),className:l.dropdown_month,style:i.dropdown_month,onChange:function(t){var n=Number(t.target.value),r=Xj(ij(e.displayMonth),n);e.onChange(r)},value:e.displayMonth.getMonth(),caption:s(e.displayMonth,{locale:o}),children:d.map(function(e){return ee.jsx("option",{value:e.getMonth(),children:s(e,{locale:o})},e.getMonth())})})}function xw(e){var t,n=e.displayMonth,r=pw(),a=r.fromDate,i=r.toDate,o=r.locale,s=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,f=[];if(!a)return ee.jsx(ee.Fragment,{});if(!i)return ee.jsx(ee.Fragment,{});for(var h=a.getFullYear(),p=i.getFullYear(),m=h;m<=p;m++)f.push(Jj(oj(new Date),m));var v=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:gw;return ee.jsx(v,{name:"years","aria-label":d(),className:l.dropdown_year,style:s.dropdown_year,onChange:function(t){var r=Jj(ij(n),Number(t.target.value));e.onChange(r)},value:n.getFullYear(),caption:u(n,{locale:o}),children:f.map(function(e){return ee.jsx("option",{value:e.getFullYear(),children:u(e,{locale:o})},e.getFullYear())})})}function bw(){var e=pw(),t=function(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,s=e.numberOfMonths,l=void 0===s?1:s;return i&&rj(i,a)<0&&(a=Wb(i,-1*(l-1))),o&&rj(a,o)<0&&(a=o),ij(a)}(e),n=function(e,t){var n=q.useState(e),r=n[0];return[void 0===t?r:t,n[1]]}(t,e.month),r=n[0],a=n[1];return[r,function(t){var n;if(!e.disableNavigation){var r=ij(t);a(r),null===(n=e.onMonthChange)||void 0===n||n.call(e,r)}}]}var jw=q.createContext(void 0);function ww(e){var t=pw(),n=bw(),r=n[0],a=n[1],i=function(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=ij(e),i=rj(ij(Wb(a,r)),a),o=[],s=0;s<i;s++){var l=Wb(a,s);o.push(l)}return n&&(o=o.reverse()),o}(r,t),o=function(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=void 0===a?1:a,o=r?i:1,s=ij(e);if(!n)return Wb(s,o);if(!(rj(n,e)<i))return Wb(s,o)}}(r,t),s=function(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=r?void 0===a?1:a:1,o=ij(e);if(!n)return Wb(o,-i);if(!(rj(o,n)<=0))return Wb(o,-i)}}(r,t),l=function(e){return i.some(function(t){return Gj(e,t)})},c={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:function(e,n){l(e)||(n&&Kj(e,n)?a(Wb(e,1+-1*t.numberOfMonths)):a(e))},previousMonth:s,nextMonth:o,isDateDisplayed:l};return ee.jsx(jw.Provider,{value:c,children:e.children})}function Nw(){var e=q.useContext(jw);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function _w(e){var t,n=pw(),r=n.classNames,a=n.styles,i=n.components,o=Nw().goToMonth,s=function(t){o(Wb(t,e.displayIndex?-e.displayIndex:0))},l=null!==(t=null==i?void 0:i.CaptionLabel)&&void 0!==t?t:mw,c=ee.jsx(l,{id:e.id,displayMonth:e.displayMonth});return ee.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[ee.jsx("div",{className:r.vhidden,children:c}),ee.jsx(yw,{onChange:s,displayMonth:e.displayMonth}),ee.jsx(xw,{onChange:s,displayMonth:e.displayMonth})]})}function kw(e){return ee.jsx("svg",aw({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:ee.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Sw(e){return ee.jsx("svg",aw({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:ee.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ow=q.forwardRef(function(e,t){var n=pw(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),s=aw(aw({},a.button_reset),a.button);return e.style&&Object.assign(s,e.style),ee.jsx("button",aw({},e,{ref:t,type:"button",className:o,style:s}))});function Ew(e){var t,n,r=pw(),a=r.dir,i=r.locale,o=r.classNames,s=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,d=r.components;if(!e.nextMonth&&!e.previousMonth)return ee.jsx(ee.Fragment,{});var f=c(e.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),p=u(e.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),v=null!==(t=null==d?void 0:d.IconRight)&&void 0!==t?t:Sw,g=null!==(n=null==d?void 0:d.IconLeft)&&void 0!==n?n:kw;return ee.jsxs("div",{className:o.nav,style:s.nav,children:[!e.hidePrevious&&ee.jsx(Ow,{name:"previous-month","aria-label":f,className:h,style:s.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:"rtl"===a?ee.jsx(v,{className:o.nav_icon,style:s.nav_icon}):ee.jsx(g,{className:o.nav_icon,style:s.nav_icon})}),!e.hideNext&&ee.jsx(Ow,{name:"next-month","aria-label":p,className:m,style:s.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:"rtl"===a?ee.jsx(g,{className:o.nav_icon,style:s.nav_icon}):ee.jsx(v,{className:o.nav_icon,style:s.nav_icon})})]})}function Cw(e){var t=pw().numberOfMonths,n=Nw(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,s=o.findIndex(function(t){return Gj(e.displayMonth,t)}),l=0===s,c=s===o.length-1,u=t>1&&(l||!c),d=t>1&&(c||!l);return ee.jsx(Ew,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:d,nextMonth:a,previousMonth:r,onPreviousClick:function(){r&&i(r)},onNextClick:function(){a&&i(a)}})}function Pw(e){var t,n,r=pw(),a=r.classNames,i=r.disableNavigation,o=r.styles,s=r.captionLayout,l=r.components,c=null!==(t=null==l?void 0:l.CaptionLabel)&&void 0!==t?t:mw;return n=i?ee.jsx(c,{id:e.id,displayMonth:e.displayMonth}):"dropdown"===s?ee.jsx(_w,{displayMonth:e.displayMonth,id:e.id}):"dropdown-buttons"===s?ee.jsxs(ee.Fragment,{children:[ee.jsx(_w,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),ee.jsx(Cw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):ee.jsxs(ee.Fragment,{children:[ee.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),ee.jsx(Cw,{displayMonth:e.displayMonth,id:e.id})]}),ee.jsx("div",{className:a.caption,style:o.caption,children:n})}function Tw(e){var t=pw(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?ee.jsx("tfoot",{className:a,style:r.tfoot,children:ee.jsx("tr",{children:ee.jsx("td",{colSpan:8,children:n})})}):ee.jsx(ee.Fragment,{})}function Aw(){var e=pw(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,s=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,c=function(e,t,n){for(var r=n?Gb(new Date):Kb(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Ub(r,i);a.push(o)}return a}(a,i,o);return ee.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&ee.jsx("td",{style:n.head_cell,className:t.head_cell}),c.map(function(e,r){return ee.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(e,{locale:a}),children:s(e,{locale:a})},r)})]})}function Mw(){var e,t=pw(),n=t.classNames,r=t.styles,a=t.components,i=null!==(e=null==a?void 0:a.HeadRow)&&void 0!==e?e:Aw;return ee.jsx("thead",{style:r.head,className:n.head,children:ee.jsx(i,{})})}function Dw(e){var t=pw(),n=t.locale,r=t.formatters.formatDay;return ee.jsx(ee.Fragment,{children:r(e.date,{locale:n})})}var Iw=q.createContext(void 0);function Rw(e){if(!ow(e.initialProps)){return ee.jsx(Iw.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:e.children})}return ee.jsx(Lw,{initialProps:e.initialProps,children:e.children})}function Lw(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o={disabled:[]};r&&o.disabled.push(function(e){var t=i&&r.length>i-1,n=r.some(function(t){return tj(t,e)});return Boolean(t&&!n)});var s={selected:r,onDayClick:function(e,n,o){var s,l;if((null===(s=t.onDayClick)||void 0===s||s.call(t,e,n,o),!Boolean(n.selected&&a&&(null==r?void 0:r.length)===a))&&!Boolean(!n.selected&&i&&(null==r?void 0:r.length)===i)){var c=r?iw([],r):[];if(n.selected){var u=c.findIndex(function(t){return tj(e,t)});c.splice(u,1)}else c.push(e);null===(l=t.onSelect)||void 0===l||l.call(t,c,e,n,o)}},modifiers:o};return ee.jsx(Iw.Provider,{value:s,children:n})}function Fw(){var e=q.useContext(Iw);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var zw,Bw,$w=q.createContext(void 0);function Uw(e){if(!sw(e.initialProps)){return ee.jsx($w.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:e.children})}return ee.jsx(Ww,{initialProps:e.initialProps,children:e.children})}function Ww(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,s=t.min,l=t.max,c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(c.range_start=[i],o?(c.range_end=[o],tj(i,o)||(c.range_middle=[{after:i,before:o}])):c.range_end=[i]):o&&(c.range_start=[o],c.range_end=[o]),s&&(i&&!o&&c.disabled.push({after:Yj(i,s-1),before:Ub(i,s-1)}),i&&o&&c.disabled.push({after:i,before:Ub(i,s-1)}),!i&&o&&c.disabled.push({after:Yj(o,s-1),before:Ub(o,s-1)})),l){if(i&&!o&&(c.disabled.push({before:Ub(i,1-l)}),c.disabled.push({after:Ub(i,l-1)})),i&&o){var u=l-(Qb(o,i)+1);c.disabled.push({before:Yj(i,u)}),c.disabled.push({after:Ub(o,u)})}!i&&o&&(c.disabled.push({before:Ub(o,1-l)}),c.disabled.push({after:Ub(o,l-1)}))}return ee.jsx($w.Provider,{value:{selected:r,onDayClick:function(e,n,a){var i,o;null===(i=t.onDayClick)||void 0===i||i.call(t,e,n,a);var s=function(e,t){var n=t||{},r=n.from,a=n.to;if(r&&a){if(tj(a,e)&&tj(r,e))return;if(tj(a,e))return{from:a,to:void 0};if(tj(r,e))return;return Hj(r,e)?{from:e,to:a}:{from:r,to:e}}return a?Hj(e,a)?{from:a,to:e}:{from:e,to:a}:r?Kj(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}(e,r);null===(o=t.onSelect)||void 0===o||o.call(t,s,e,n,a)},modifiers:c},children:n})}function qw(){var e=q.useContext($w);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Vw(e){return Array.isArray(e)?iw([],e):void 0!==e?[e]:[]}(Bw=zw||(zw={})).Outside="outside",Bw.Disabled="disabled",Bw.Selected="selected",Bw.Hidden="hidden",Bw.Today="today",Bw.RangeStart="range_start",Bw.RangeEnd="range_end",Bw.RangeMiddle="range_middle";var Hw=zw.Selected,Kw=zw.Disabled,Gw=zw.Hidden,Yw=zw.Today,Xw=zw.RangeEnd,Jw=zw.RangeMiddle,Qw=zw.RangeStart,Zw=zw.Outside;var eN=q.createContext(void 0);function tN(e){var t=pw(),n=function(e,t,n){var r,a=((r={})[Hw]=Vw(e.selected),r[Kw]=Vw(e.disabled),r[Gw]=Vw(e.hidden),r[Yw]=[e.today],r[Xw]=[],r[Jw]=[],r[Qw]=[],r[Zw]=[],r);return e.fromDate&&a[Kw].push({before:e.fromDate}),e.toDate&&a[Kw].push({after:e.toDate}),ow(e)?a[Kw]=a[Kw].concat(t.modifiers[Kw]):sw(e)&&(a[Kw]=a[Kw].concat(n.modifiers[Kw]),a[Qw]=n.modifiers[Qw],a[Jw]=n.modifiers[Jw],a[Xw]=n.modifiers[Xw]),a}(t,Fw(),qw()),r=function(e){var t={};return Object.entries(e).forEach(function(e){var n=e[0],r=e[1];t[n]=Vw(r)}),t}(t.modifiers),a=aw(aw({},n),r);return ee.jsx(eN.Provider,{value:a,children:e.children})}function nN(){var e=q.useContext(eN);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function rN(e,t){return t.some(function(t){if("boolean"==typeof t)return t;if(nj(t))return tj(e,t);var n,r,a,i,o;if(function(e){return Array.isArray(e)&&e.every(nj)}(t))return t.includes(e);if(function(e){return Boolean(e&&"object"==typeof e&&"from"in e)}(t))return n=e,i=(r=t).from,o=r.to,i&&o?(Qb(o,i)<0&&(i=(a=[o,i])[0],o=a[1]),Qb(n,i)>=0&&Qb(o,n)>=0):o?tj(o,n):!!i&&tj(i,n);if(function(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}(t))return t.dayOfWeek.includes(e.getDay());if(function(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}(t)){var s=Qb(t.before,e)>0,l=Qb(t.after,e)<0;return Hj(t.before,t.after)?l&&s:s||l}return function(e){return Boolean(e&&"object"==typeof e&&"after"in e)}(t)?Qb(e,t.after)>0:function(e){return Boolean(e&&"object"==typeof e&&"before"in e)}(t)?Qb(t.before,e)>0:"function"==typeof t&&t(e)})}function aN(e,t,n){var r=Object.keys(t).reduce(function(n,r){var a=t[r];return rN(e,a)&&n.push(r),n},[]),a={};return r.forEach(function(e){return a[e]=!0}),n&&!Gj(e,n)&&(a.outside=!0),a}function iN(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,s=void 0===o?{count:0,lastFocused:e}:o,l=a.weekStartsOn,c=a.fromDate,u=a.toDate,d=a.locale,f={day:Ub,week:Zb,month:Wb,year:ej,startOfWeek:function(e){return a.ISOWeek?Gb(e):Kb(e,{locale:d,weekStartsOn:l})},endOfWeek:function(e){return a.ISOWeek?lj(e):sj(e,{locale:d,weekStartsOn:l})}}[n](e,"after"===r?1:-1);"before"===r&&c?f=function(e){let t;return e.forEach(function(e){const n=Bb(e);(void 0===t||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}([c,f]):"after"===r&&u&&(f=function(e){let t;return e.forEach(e=>{const n=Bb(e);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}([u,f]));var h=!0;if(i){var p=aN(f,i);h=!p.disabled&&!p.hidden}return h?f:s.count>365?s.lastFocused:iN(f,{moveBy:n,direction:r,context:a,modifiers:i,retry:aw(aw({},s),{count:s.count+1})})}var oN=q.createContext(void 0);function sN(e){var t=Nw(),n=nN(),r=q.useState(),a=r[0],i=r[1],o=q.useState(),s=o[0],l=o[1],c=function(e,t){for(var n,r,a=ij(e[0]),i=aj(e[e.length-1]),o=a;o<=i;){var s=aN(o,t);if(s.disabled||s.hidden)o=Ub(o,1);else{if(s.selected)return o;s.today&&!r&&(r=o),n||(n=o),o=Ub(o,1)}}return r||n}(t.displayMonths,n),u=(null!=a?a:s&&t.isDateDisplayed(s))?s:c,d=function(e){i(e)},f=pw(),h=function(e,r){if(a){var i=iN(a,{moveBy:e,direction:r,context:f,modifiers:n});tj(a,i)||(t.goToDate(i,a),d(i))}},p={focusedDay:a,focusTarget:u,blur:function(){l(a),i(void 0)},focus:d,focusDayAfter:function(){return h("day","after")},focusDayBefore:function(){return h("day","before")},focusWeekAfter:function(){return h("week","after")},focusWeekBefore:function(){return h("week","before")},focusMonthBefore:function(){return h("month","before")},focusMonthAfter:function(){return h("month","after")},focusYearBefore:function(){return h("year","before")},focusYearAfter:function(){return h("year","after")},focusStartOfWeek:function(){return h("startOfWeek","before")},focusEndOfWeek:function(){return h("endOfWeek","after")}};return ee.jsx(oN.Provider,{value:p,children:e.children})}function lN(){var e=q.useContext(oN);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}var cN=q.createContext(void 0);function uN(e){if(!lw(e.initialProps)){return ee.jsx(cN.Provider,{value:{selected:void 0},children:e.children})}return ee.jsx(dN,{initialProps:e.initialProps,children:e.children})}function dN(e){var t=e.initialProps,n=e.children,r={selected:t.selected,onDayClick:function(e,n,r){var a,i,o;null===(a=t.onDayClick)||void 0===a||a.call(t,e,n,r),!n.selected||t.required?null===(o=t.onSelect)||void 0===o||o.call(t,e,e,n,r):null===(i=t.onSelect)||void 0===i||i.call(t,void 0,e,n,r)}};return ee.jsx(cN.Provider,{value:r,children:n})}function fN(){var e=q.useContext(cN);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function hN(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(t){var r=e.modifiersClassNames[t];if(r)n.push(r);else if(function(e){return Object.values(zw).includes(e)}(t)){var a=e.classNames["day_".concat(t)];a&&n.push(a)}}),n}function pN(e,t,n){var r,a,i,o=pw(),s=lN(),l=function(e,t){return aN(e,nN(),t)}(e,t),c=function(e,t){var n=pw(),r=fN(),a=Fw(),i=qw(),o=lN(),s=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,u=o.focusWeekBefore,d=o.blur,f=o.focus,h=o.focusMonthBefore,p=o.focusMonthAfter,m=o.focusYearBefore,v=o.focusYearAfter,g=o.focusStartOfWeek,y=o.focusEndOfWeek;return{onClick:function(o){var s,l,c,u;lw(n)?null===(s=r.onDayClick)||void 0===s||s.call(r,e,t,o):ow(n)?null===(l=a.onDayClick)||void 0===l||l.call(a,e,t,o):sw(n)?null===(c=i.onDayClick)||void 0===c||c.call(i,e,t,o):null===(u=n.onDayClick)||void 0===u||u.call(n,e,t,o)},onFocus:function(r){var a;f(e),null===(a=n.onDayFocus)||void 0===a||a.call(n,e,t,r)},onBlur:function(r){var a;d(),null===(a=n.onDayBlur)||void 0===a||a.call(n,e,t,r)},onKeyDown:function(r){var a;switch(r.key){case"ArrowLeft":r.preventDefault(),r.stopPropagation(),"rtl"===n.dir?s():l();break;case"ArrowRight":r.preventDefault(),r.stopPropagation(),"rtl"===n.dir?l():s();break;case"ArrowDown":r.preventDefault(),r.stopPropagation(),c();break;case"ArrowUp":r.preventDefault(),r.stopPropagation(),u();break;case"PageUp":r.preventDefault(),r.stopPropagation(),r.shiftKey?m():h();break;case"PageDown":r.preventDefault(),r.stopPropagation(),r.shiftKey?v():p();break;case"Home":r.preventDefault(),r.stopPropagation(),g();break;case"End":r.preventDefault(),r.stopPropagation(),y()}null===(a=n.onDayKeyDown)||void 0===a||a.call(n,e,t,r)},onKeyUp:function(r){var a;null===(a=n.onDayKeyUp)||void 0===a||a.call(n,e,t,r)},onMouseEnter:function(r){var a;null===(a=n.onDayMouseEnter)||void 0===a||a.call(n,e,t,r)},onMouseLeave:function(r){var a;null===(a=n.onDayMouseLeave)||void 0===a||a.call(n,e,t,r)},onPointerEnter:function(r){var a;null===(a=n.onDayPointerEnter)||void 0===a||a.call(n,e,t,r)},onPointerLeave:function(r){var a;null===(a=n.onDayPointerLeave)||void 0===a||a.call(n,e,t,r)},onTouchCancel:function(r){var a;null===(a=n.onDayTouchCancel)||void 0===a||a.call(n,e,t,r)},onTouchEnd:function(r){var a;null===(a=n.onDayTouchEnd)||void 0===a||a.call(n,e,t,r)},onTouchMove:function(r){var a;null===(a=n.onDayTouchMove)||void 0===a||a.call(n,e,t,r)},onTouchStart:function(r){var a;null===(a=n.onDayTouchStart)||void 0===a||a.call(n,e,t,r)}}}(e,l),u=function(){var e=pw(),t=fN(),n=Fw(),r=qw();return lw(e)?t.selected:ow(e)?n.selected:sw(e)?r.selected:void 0}(),d=Boolean(o.onDayClick||"default"!==o.mode);q.useEffect(function(){var t;l.outside||s.focusedDay&&d&&tj(s.focusedDay,e)&&(null===(t=n.current)||void 0===t||t.focus())},[s.focusedDay,e,n,d,l.outside]);var f=hN(o,l).join(" "),h=function(e,t){var n=aw({},e.styles.day);return Object.keys(t).forEach(function(t){var r;n=aw(aw({},n),null===(r=e.modifiersStyles)||void 0===r?void 0:r[t])}),n}(o,l),p=Boolean(l.outside&&!o.showOutsideDays||l.hidden),m=null!==(i=null===(a=o.components)||void 0===a?void 0:a.DayContent)&&void 0!==i?i:Dw,v={style:h,className:f,children:ee.jsx(m,{date:e,displayMonth:t,activeModifiers:l}),role:"gridcell"},g=s.focusTarget&&tj(s.focusTarget,e)&&!l.outside,y=s.focusedDay&&tj(s.focusedDay,e),x=aw(aw(aw({},v),((r={disabled:l.disabled,role:"gridcell"})["aria-selected"]=l.selected,r.tabIndex=y||g?0:-1,r)),c);return{isButton:d,isHidden:p,activeModifiers:l,selectedDays:u,buttonProps:x,divProps:v}}function mN(e){var t=q.useRef(null),n=pN(e.date,e.displayMonth,t);return n.isHidden?ee.jsx("div",{role:"gridcell"}):n.isButton?ee.jsx(Ow,aw({name:"day",ref:t},n.buttonProps)):ee.jsx("div",aw({},n.divProps))}function vN(e){var t=e.number,n=e.dates,r=pw(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,s=r.locale,l=r.labels.labelWeekNumber,c=(0,r.formatters.formatWeekNumber)(Number(t),{locale:s});if(!a)return ee.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:c});var u=l(Number(t),{locale:s});return ee.jsx(Ow,{name:"week-number","aria-label":u,className:o.weeknumber,style:i.weeknumber,onClick:function(e){a(t,n,e)},children:c})}function gN(e){var t,n,r,a=pw(),i=a.styles,o=a.classNames,s=a.showWeekNumber,l=a.components,c=null!==(t=null==l?void 0:l.Day)&&void 0!==t?t:mN,u=null!==(n=null==l?void 0:l.WeekNumber)&&void 0!==n?n:vN;return s&&(r=ee.jsx("td",{className:o.cell,style:i.cell,children:ee.jsx(u,{number:e.weekNumber,dates:e.dates})})),ee.jsxs("tr",{className:o.row,style:i.row,children:[r,e.dates.map(function(t){return ee.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:ee.jsx(c,{displayMonth:e.displayMonth,date:t})},function(e){return Math.trunc(+Bb(e)/1e3)}(t))})]})}function yN(e,t,n){for(var r=(null==n?void 0:n.ISOWeek)?lj(t):sj(t,n),a=(null==n?void 0:n.ISOWeek)?Gb(e):Kb(e,n),i=Qb(r,a),o=[],s=0;s<=i;s++)o.push(Ub(a,s));return o.reduce(function(e,t){var r=(null==n?void 0:n.ISOWeek)?gj(t):xj(t,n),a=e.find(function(e){return e.weekNumber===r});return a?(a.dates.push(t),e):(e.push({weekNumber:r,dates:[t]}),e)},[])}function xN(e){var t,n,r,a=pw(),i=a.locale,o=a.classNames,s=a.styles,l=a.hideHead,c=a.fixedWeeks,u=a.components,d=a.weekStartsOn,f=a.firstWeekContainsDate,h=a.ISOWeek,p=function(e,t){var n=yN(ij(e),aj(e),t);if(null==t?void 0:t.useFixedWeeks){var r=Vj(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=Zb(i,6-r),s=yN(Zb(i,1),o,t);n.push.apply(n,s)}}return n}(e.displayMonth,{useFixedWeeks:Boolean(c),ISOWeek:h,locale:i,weekStartsOn:d,firstWeekContainsDate:f}),m=null!==(t=null==u?void 0:u.Head)&&void 0!==t?t:Mw,v=null!==(n=null==u?void 0:u.Row)&&void 0!==n?n:gN,g=null!==(r=null==u?void 0:u.Footer)&&void 0!==r?r:Tw;return ee.jsxs("table",{id:e.id,className:o.table,style:s.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&ee.jsx(m,{}),ee.jsx("tbody",{className:o.tbody,style:s.tbody,children:p.map(function(t){return ee.jsx(v,{displayMonth:e.displayMonth,dates:t.dates,weekNumber:t.weekNumber},t.weekNumber)})}),ee.jsx(g,{displayMonth:e.displayMonth})]})}var bN="undefined"!=typeof window&&window.document&&window.document.createElement?q.useLayoutEffect:q.useEffect,jN=!1,wN=0;function NN(){return"react-day-picker-".concat(++wN)}function _N(e){var t,n,r=pw(),a=r.dir,i=r.classNames,o=r.styles,s=r.components,l=Nw().displayMonths,c=function(e){var t,n=null!=e?e:jN?NN():null,r=q.useState(n),a=r[0],i=r[1];return bN(function(){null===a&&i(NN())},[]),q.useEffect(function(){!1===jN&&(jN=!0)},[]),null!==(t=null!=e?e:a)&&void 0!==t?t:void 0}(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,d=[i.month],f=o.month,h=0===e.displayIndex,p=e.displayIndex===l.length-1,m=!h&&!p;"rtl"===a&&(p=(t=[h,p])[0],h=t[1]),h&&(d.push(i.caption_start),f=aw(aw({},f),o.caption_start)),p&&(d.push(i.caption_end),f=aw(aw({},f),o.caption_end)),m&&(d.push(i.caption_between),f=aw(aw({},f),o.caption_between));var v=null!==(n=null==s?void 0:s.Caption)&&void 0!==n?n:Pw;return ee.jsxs("div",{className:d.join(" "),style:f,children:[ee.jsx(v,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),ee.jsx(xN,{id:u,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function kN(e){var t=pw(),n=t.classNames,r=t.styles;return ee.jsx("div",{className:n.months,style:r.months,children:e.children})}function SN(e){var t,n,r=e.initialProps,a=pw(),i=lN(),o=Nw(),s=q.useState(!1),l=s[0],c=s[1];q.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var d=aw(aw({},a.styles.root),a.style),f=Object.keys(r).filter(function(e){return e.startsWith("data-")}).reduce(function(e,t){var n;return aw(aw({},e),((n={})[t]=r[t],n))},{}),h=null!==(n=null===(t=r.components)||void 0===t?void 0:t.Months)&&void 0!==n?n:kN;return ee.jsx("div",aw({className:u.join(" "),style:d,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:ee.jsx(h,{children:o.displayMonths.map(function(e,t){return ee.jsx(_N,{displayIndex:t,displayMonth:e},t)})})}))}function ON(e){var t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["children"]);return ee.jsx(hw,{initialProps:n,children:ee.jsx(ww,{children:ee.jsx(uN,{initialProps:n,children:ee.jsx(Rw,{initialProps:n,children:ee.jsx(Uw,{initialProps:n,children:ee.jsx(tN,{children:ee.jsx(sN,{children:t})})})})})})})}function EN(e){return ee.jsx(ON,aw({},e,{children:ee.jsx(SN,{initialProps:e})}))}function CN({className:e,classNames:t,showOutsideDays:n=!0,...r}){return ee.jsx(EN,{showOutsideDays:n,className:Ob("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ob(Rb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ob(Rb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},...r})}CN.displayName="Calendar";var PN=0;function TN(){q.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??AN()),document.body.insertAdjacentElement("beforeend",e[1]??AN()),PN++,()=>{1===PN&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),PN--}},[])}function AN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var MN="focusScope.autoFocusOnMount",DN="focusScope.autoFocusOnUnmount",IN={bubbles:!1,cancelable:!0},RN=q.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[s,l]=q.useState(null),c=rg(a),u=rg(i),d=q.useRef(null),f=Hv(t,e=>l(e)),h=q.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;q.useEffect(()=>{if(r){let e=function(e){if(h.paused||!s)return;const t=e.target;s.contains(t)?d.current=t:BN(d.current,{select:!0})},t=function(e){if(h.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||BN(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&BN(s)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,s,h.paused]),q.useEffect(()=>{if(s){$N.add(h);const t=document.activeElement;if(!s.contains(t)){const n=new CustomEvent(MN,IN);s.addEventListener(MN,c),s.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(BN(r,{select:t}),document.activeElement!==n)return}((e=LN(s),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&BN(s))}return()=>{s.removeEventListener(MN,c),setTimeout(()=>{const e=new CustomEvent(DN,IN);s.addEventListener(DN,u),s.dispatchEvent(e),e.defaultPrevented||BN(t??document.body,{select:!0}),s.removeEventListener(DN,u),$N.remove(h)},0)}}var e},[s,c,u,h]);const p=q.useCallback(e=>{if(!n&&!r)return;if(h.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){const t=e.currentTarget,[r,i]=function(e){const t=LN(e),n=FN(t,e),r=FN(t.reverse(),e);return[n,r]}(t);r&&i?e.shiftKey||a!==i?e.shiftKey&&a===r&&(e.preventDefault(),n&&BN(i,{select:!0})):(e.preventDefault(),n&&BN(r,{select:!0})):a===t&&e.preventDefault()}},[n,r,h.paused]);return ee.jsx(tg.div,{tabIndex:-1,...o,ref:f,onKeyDown:p})});function LN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function FN(e,t){for(const n of e)if(!zN(n,{upTo:t}))return n}function zN(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function BN(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}RN.displayName="FocusScope";var $N=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=UN(e,t),e.unshift(t)},remove(t){var n;e=UN(e,t),null==(n=e[0])||n.resume()}}}();function UN(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var WN=H[" useId ".trim().toString()]||(()=>{}),qN=0;function VN(e){const[t,n]=q.useState(WN());return mg(()=>{e||n(e=>e??String(qN++))},[e]),e||(t?`radix-${t}`:"")}const HN=["top","right","bottom","left"],KN=Math.min,GN=Math.max,YN=Math.round,XN=Math.floor,JN=e=>({x:e,y:e}),QN={left:"right",right:"left",bottom:"top",top:"bottom"},ZN={start:"end",end:"start"};function e_(e,t,n){return GN(e,KN(t,n))}function t_(e,t){return"function"==typeof e?e(t):e}function n_(e){return e.split("-")[0]}function r_(e){return e.split("-")[1]}function a_(e){return"x"===e?"y":"x"}function i_(e){return"y"===e?"height":"width"}const o_=new Set(["top","bottom"]);function s_(e){return o_.has(n_(e))?"y":"x"}function l_(e){return a_(s_(e))}function c_(e){return e.replace(/start|end/g,e=>ZN[e])}const u_=["left","right"],d_=["right","left"],f_=["top","bottom"],h_=["bottom","top"];function p_(e,t,n,r){const a=r_(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?d_:u_:t?u_:d_;case"left":case"right":return t?f_:h_;default:return[]}}(n_(e),"start"===n,r);return a&&(i=i.map(e=>e+"-"+a),t&&(i=i.concat(i.map(c_)))),i}function m_(e){return e.replace(/left|right|bottom|top/g,e=>QN[e])}function v_(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function g_(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function y_(e,t,n){let{reference:r,floating:a}=e;const i=s_(t),o=l_(t),s=i_(o),l=n_(t),c="y"===i,u=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,f=r[s]/2-a[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-a.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-a.width,y:d};break;default:h={x:r.x,y:r.y}}switch(r_(t)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1)}return h}async function x_(e,t){var n;void 0===t&&(t={});const{x:r,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=t_(t,e),p=v_(h),m=s[f?"floating"===d?"reference":"floating":d],v=g_(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),g="floating"===d?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),x=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=g_(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:g,offsetParent:y,strategy:l}):g);return{top:(v.top-b.top+p.top)/x.y,bottom:(b.bottom-v.bottom+p.bottom)/x.y,left:(v.left-b.left+p.left)/x.x,right:(b.right-v.right+p.right)/x.x}}function b_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function j_(e){return HN.some(t=>e[t]>=0)}const w_=new Set(["left","top"]);function N_(){return"undefined"!=typeof window}function __(e){return O_(e)?(e.nodeName||"").toLowerCase():"#document"}function k_(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function S_(e){var t;return null==(t=(O_(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function O_(e){return!!N_()&&(e instanceof Node||e instanceof k_(e).Node)}function E_(e){return!!N_()&&(e instanceof Element||e instanceof k_(e).Element)}function C_(e){return!!N_()&&(e instanceof HTMLElement||e instanceof k_(e).HTMLElement)}function P_(e){return!(!N_()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof k_(e).ShadowRoot)}const T_=new Set(["inline","contents"]);function A_(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=q_(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!T_.has(a)}const M_=new Set(["table","td","th"]);function D_(e){return M_.has(__(e))}const I_=[":popover-open",":modal"];function R_(e){return I_.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const L_=["transform","translate","scale","rotate","perspective"],F_=["transform","translate","scale","rotate","perspective","filter"],z_=["paint","layout","strict","content"];function B_(e){const t=$_(),n=E_(e)?q_(e):e;return L_.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||F_.some(e=>(n.willChange||"").includes(e))||z_.some(e=>(n.contain||"").includes(e))}function $_(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const U_=new Set(["html","body","#document"]);function W_(e){return U_.has(__(e))}function q_(e){return k_(e).getComputedStyle(e)}function V_(e){return E_(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function H_(e){if("html"===__(e))return e;const t=e.assignedSlot||e.parentNode||P_(e)&&e.host||S_(e);return P_(t)?t.host:t}function K_(e){const t=H_(e);return W_(t)?e.ownerDocument?e.ownerDocument.body:e.body:C_(t)&&A_(t)?t:K_(t)}function G_(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const a=K_(e),i=a===(null==(r=e.ownerDocument)?void 0:r.body),o=k_(a);if(i){const e=Y_(o);return t.concat(o,o.visualViewport||[],A_(a)?a:[],e&&n?G_(e):[])}return t.concat(a,G_(a,[],n))}function Y_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function X_(e){const t=q_(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=C_(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,s=YN(n)!==i||YN(r)!==o;return s&&(n=i,r=o),{width:n,height:r,$:s}}function J_(e){return E_(e)?e:e.contextElement}function Q_(e){const t=J_(e);if(!C_(t))return JN(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=X_(t);let o=(i?YN(n.width):n.width)/r,s=(i?YN(n.height):n.height)/a;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const Z_=JN(0);function ek(e){const t=k_(e);return $_()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Z_}function tk(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const a=e.getBoundingClientRect(),i=J_(e);let o=JN(1);t&&(r?E_(r)&&(o=Q_(r)):o=Q_(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==k_(e))&&t}(i,n,r)?ek(i):JN(0);let l=(a.left+s.x)/o.x,c=(a.top+s.y)/o.y,u=a.width/o.x,d=a.height/o.y;if(i){const e=k_(i),t=r&&E_(r)?k_(r):r;let n=e,a=Y_(n);for(;a&&r&&t!==n;){const e=Q_(a),t=a.getBoundingClientRect(),r=q_(a),i=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=o,n=k_(a),a=Y_(n)}}return g_({width:u,height:d,x:l,y:c})}function nk(e,t){const n=V_(e).scrollLeft;return t?t.left+n:tk(S_(e)).left+n}function rk(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:nk(e,r)),y:r.top+t.scrollTop}}const ak=new Set(["absolute","fixed"]);function ik(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=k_(e),r=S_(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const e=$_();(!e||e&&"fixed"===t)&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=S_(e),n=V_(e),r=e.ownerDocument.body,a=GN(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=GN(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nk(e);const s=-n.scrollTop;return"rtl"===q_(r).direction&&(o+=GN(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:s}}(S_(e));else if(E_(t))r=function(e,t){const n=tk(e,!0,"fixed"===t),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=C_(e)?Q_(e):JN(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:a*i.x,y:r*i.y}}(t,n);else{const n=ek(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return g_(r)}function ok(e,t){const n=H_(e);return!(n===t||!E_(n)||W_(n))&&("fixed"===q_(n).position||ok(n,t))}function sk(e,t,n){const r=C_(t),a=S_(t),i="fixed"===n,o=tk(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=JN(0);function c(){l.x=nk(a)}if(r||!r&&!i)if(("body"!==__(t)||A_(a))&&(s=V_(t)),r){const e=tk(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else a&&c();i&&!r&&a&&c();const u=!a||r||i?JN(0):rk(a,s);return{x:o.left+s.scrollLeft-l.x-u.x,y:o.top+s.scrollTop-l.y-u.y,width:o.width,height:o.height}}function lk(e){return"static"===q_(e).position}function ck(e,t){if(!C_(e)||"fixed"===q_(e).position)return null;if(t)return t(e);let n=e.offsetParent;return S_(e)===n&&(n=n.ownerDocument.body),n}function uk(e,t){const n=k_(e);if(R_(e))return n;if(!C_(e)){let t=H_(e);for(;t&&!W_(t);){if(E_(t)&&!lk(t))return t;t=H_(t)}return n}let r=ck(e,t);for(;r&&D_(r)&&lk(r);)r=ck(r,t);return r&&W_(r)&&lk(r)&&!B_(r)?n:r||function(e){let t=H_(e);for(;C_(t)&&!W_(t);){if(B_(t))return t;if(R_(t))return null;t=H_(t)}return null}(e)||n}const dk={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i="fixed"===a,o=S_(r),s=!!t&&R_(t.floating);if(r===o||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=JN(1);const u=JN(0),d=C_(r);if((d||!d&&!i)&&(("body"!==__(r)||A_(o))&&(l=V_(r)),C_(r))){const e=tk(r);c=Q_(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!o||d||i?JN(0):rk(o,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:S_,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const i=[..."clippingAncestors"===n?R_(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=G_(e,[],!1).filter(e=>E_(e)&&"body"!==__(e)),a=null;const i="fixed"===q_(e).position;let o=i?H_(e):e;for(;E_(o)&&!W_(o);){const t=q_(o),n=B_(o);n||"fixed"!==t.position||(a=null),(i?!n&&!a:!n&&"static"===t.position&&a&&ak.has(a.position)||A_(o)&&!n&&ok(e,o))?r=r.filter(e=>e!==o):a=t,o=H_(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=i[0],s=i.reduce((e,n)=>{const r=ik(t,n,a);return e.top=GN(r.top,e.top),e.right=KN(r.right,e.right),e.bottom=KN(r.bottom,e.bottom),e.left=GN(r.left,e.left),e},ik(t,o,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:uk,getElementRects:async function(e){const t=this.getOffsetParent||uk,n=this.getDimensions,r=await n(e.floating);return{reference:sk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=X_(e);return{width:t,height:n}},getScale:Q_,isElement:E_,isRTL:function(e){return"rtl"===q_(e).direction}};function fk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hk(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=J_(e),u=a||i?[...c?G_(c):[],...G_(t)]:[];u.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});const d=c&&s?function(e,t){let n,r=null;const a=S_(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(s||t(),!f||!h)return;const p={rootMargin:-XN(d)+"px "+-XN(a.clientWidth-(u+f))+"px "+-XN(a.clientHeight-(d+h))+"px "+-XN(u)+"px",threshold:GN(0,KN(1,l))||1};let m=!0;function v(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||fk(c,e.getBoundingClientRect())||o(),m=!1}try{r=new IntersectionObserver(v,{...p,root:a.ownerDocument})}catch(g){r=new IntersectionObserver(v,p)}r.observe(e)}(!0),i}(c,n):null;let f,h=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let m=l?tk(e):null;return l&&function t(){const r=tk(e);m&&!fk(m,r)&&n();m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{a&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(f)}}const pk=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:a}=e,i=await(null==r.isRTL?void 0:r.isRTL(a.floating)),o=n_(n),s=r_(n),l="y"===s_(n),c=w_.has(o)?-1:1,u=i&&l?-1:1,d=t_(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof p&&(h="end"===s?-1*p:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}(t,e);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},mk=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=t_(e,t),c={x:n,y:r},u=await x_(t,l),d=s_(n_(a)),f=a_(d);let h=c[f],p=c[d];if(i){const e="y"===f?"bottom":"right";h=e_(h+u["y"===f?"top":"left"],h,h-u[e])}if(o){const e="y"===d?"bottom":"right";p=e_(p+u["y"===d?"top":"left"],p,p-u[e])}const m=s.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[d]:o}}}}}},vk=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...v}=t_(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const g=n_(a),y=s_(s),x=n_(s)===s,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),j=f||(x||!m?[m_(s)]:function(e){const t=m_(e);return[c_(e),t,c_(t)]}(s)),w="none"!==p;!f&&w&&j.push(...p_(s,m,p,b));const N=[s,...j],_=await x_(t,v),k=[];let S=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&k.push(_[g]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=r_(e),a=l_(e),i=i_(a);let o="x"===a?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=m_(o)),[o,m_(o)]}(a,o,b);k.push(_[e[0]],_[e[1]])}if(S=[...S,{placement:a,overflows:k}],!k.every(e=>e<=0)){var O,E;const e=((null==(O=i.flip)?void 0:O.index)||0)+1,t=N[e];if(t){if(!("alignment"===d&&y!==s_(t))||S.every(e=>e.overflows[0]>0&&s_(e.placement)===y))return{data:{index:e,overflows:S},reset:{placement:t}}}let n=null==(E=S.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!n)switch(h){case"bestFit":{var C;const e=null==(C=S.filter(e=>{if(w){const t=s_(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:C[0];e&&(n=e);break}case"initialPlacement":n=s}if(a!==n)return{reset:{placement:n}}}return{}}}},gk=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:s}=t,{apply:l=()=>{},...c}=t_(e,t),u=await x_(t,c),d=n_(a),f=r_(a),h="y"===s_(a),{width:p,height:m}=i.floating;let v,g;"top"===d||"bottom"===d?(v=d,g=f===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(g=d,v="end"===f?"top":"bottom");const y=m-u.top-u.bottom,x=p-u.left-u.right,b=KN(m-u[v],y),j=KN(p-u[g],x),w=!t.middlewareData.shift;let N=b,_=j;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(_=x),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(N=y),w&&!f){const e=GN(u.left,0),t=GN(u.right,0),n=GN(u.top,0),r=GN(u.bottom,0);h?_=p-2*(0!==e||0!==t?e+t:GN(u.left,u.right)):N=m-2*(0!==n||0!==r?n+r:GN(u.top,u.bottom))}await l({...t,availableWidth:_,availableHeight:N});const k=await o.getDimensions(s.floating);return p!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}},yk=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=t_(e,t);switch(r){case"referenceHidden":{const e=b_(await x_(t,{...a,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:j_(e)}}}case"escaped":{const e=b_(await x_(t,{...a,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:j_(e)}}}default:return{}}}}},xk=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=t_(e,t)||{};if(null==c)return{};const d=v_(u),f={x:n,y:r},h=l_(a),p=i_(h),m=await o.getDimensions(c),v="y"===h,g=v?"top":"left",y=v?"bottom":"right",x=v?"clientHeight":"clientWidth",b=i.reference[p]+i.reference[h]-f[h]-i.floating[p],j=f[h]-i.reference[h],w=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let N=w?w[x]:0;N&&await(null==o.isElement?void 0:o.isElement(w))||(N=s.floating[x]||i.floating[p]);const _=b/2-j/2,k=N/2-m[p]/2-1,S=KN(d[g],k),O=KN(d[y],k),E=S,C=N-m[p]-O,P=N/2-m[p]/2+_,T=e_(E,P,C),A=!l.arrow&&null!=r_(a)&&P!==T&&i.reference[p]/2-(P<E?S:O)-m[p]/2<0,M=A?P<E?P-E:P-C:0;return{[h]:f[h]+M,data:{[h]:T,centerOffset:P-T-M,...A&&{alignmentOffset:M}},reset:A}}}),bk=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=t_(e,t),u={x:n,y:r},d=s_(a),f=a_(d);let h=u[f],p=u[d];const m=t_(s,t),v="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+v.mainAxis,n=i.reference[f]+i.reference[e]-v.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var g,y;const e="y"===f?"width":"height",t=w_.has(n_(a)),n=i.reference[d]-i.floating[e]+(t&&(null==(g=o.offset)?void 0:g[d])||0)+(t?0:v.crossAxis),r=i.reference[d]+i.reference[e]+(t?0:(null==(y=o.offset)?void 0:y[d])||0)-(t?v.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[f]:h,[d]:p}}}},jk=(e,t,n)=>{const r=new Map,a={platform:dk,...n},i={...a.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,s=i.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:d}=y_(c,r,l),f=r,h={},p=0;for(let m=0;m<s.length;m++){const{name:n,fn:i}=s[m],{x:v,y:g,data:y,reset:x}=await i({x:u,y:d,initialPlacement:r,placement:f,strategy:a,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=v?v:u,d=null!=g?g:d,h={...h,[n]:{...h[n],...y}},x&&p<=50&&(p++,"object"==typeof x&&(x.placement&&(f=x.placement),x.rects&&(c=!0===x.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):x.rects),({x:u,y:d}=y_(c,f,l))),m=-1)}return{x:u,y:d,placement:f,strategy:a,middlewareData:h}})(e,t,{...a,platform:i})};var wk="undefined"!=typeof document?q.useLayoutEffect:function(){};function Nk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Nk(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){const n=a[r];if(("_owner"!==n||!e.$$typeof)&&!Nk(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function _k(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kk(e,t){const n=_k(e);return Math.round(t*n)/n}function Sk(e){const t=q.useRef(e);return wk(()=>{t.current=e}),t}const Ok=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(a=n,{}.hasOwnProperty.call(a,"current"))?null!=n.current?xk({element:n.current,padding:r}).fn(t):{}:n?xk({element:n,padding:r}).fn(t):{};var a}}),Ek=(e,t)=>({...pk(e),options:[e,t]}),Ck=(e,t)=>({...mk(e),options:[e,t]}),Pk=(e,t)=>({...bk(e),options:[e,t]}),Tk=(e,t)=>({...vk(e),options:[e,t]}),Ak=(e,t)=>({...gk(e),options:[e,t]}),Mk=(e,t)=>({...yk(e),options:[e,t]}),Dk=(e,t)=>({...Ok(e),options:[e,t]});var Ik=q.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return ee.jsx(tg.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:ee.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ik.displayName="Arrow";var Rk=Ik;function Lk(e){const[t,n]=q.useState(void 0);return mg(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let a,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,i=t.blockSize}else a=e.offsetWidth,i=e.offsetHeight;n({width:a,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}var Fk="Popper",[zk,Bk]=Kv(Fk),[$k,Uk]=zk(Fk),Wk=e=>{const{__scopePopper:t,children:n}=e,[r,a]=q.useState(null);return ee.jsx($k,{scope:t,anchor:r,onAnchorChange:a,children:n})};Wk.displayName=Fk;var qk="PopperAnchor",Vk=q.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=Uk(qk,n),o=q.useRef(null),s=Hv(t,o);return q.useEffect(()=>{i.onAnchorChange((null==r?void 0:r.current)||o.current)}),r?null:ee.jsx(tg.div,{...a,ref:s})});Vk.displayName=qk;var Hk="PopperContent",[Kk,Gk]=zk(Hk),Yk=q.forwardRef((e,t)=>{var n,r,a,i,o,s;const{__scopePopper:l,side:c="bottom",sideOffset:u=0,align:d="center",alignOffset:f=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:b,...j}=e,w=Uk(Hk,l),[N,_]=q.useState(null),k=Hv(t,e=>_(e)),[S,O]=q.useState(null),E=Lk(S),C=(null==E?void 0:E.width)??0,P=(null==E?void 0:E.height)??0,T=c+("center"!==d?"-"+d:""),A="number"==typeof v?v:{top:0,right:0,bottom:0,left:0,...v},M=Array.isArray(m)?m:[m],D=M.length>0,I={padding:A,boundary:M.filter(Zk),altBoundary:D},{refs:R,floatingStyles:L,placement:F,isPositioned:z,middlewareData:B}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=q.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=q.useState(r);Nk(f,r)||h(r);const[p,m]=q.useState(null),[v,g]=q.useState(null),y=q.useCallback(e=>{e!==w.current&&(w.current=e,m(e))},[]),x=q.useCallback(e=>{e!==N.current&&(N.current=e,g(e))},[]),b=i||p,j=o||v,w=q.useRef(null),N=q.useRef(null),_=q.useRef(u),k=null!=l,S=Sk(l),O=Sk(a),E=Sk(c),C=q.useCallback(()=>{if(!w.current||!N.current)return;const e={placement:t,strategy:n,middleware:f};O.current&&(e.platform=O.current),jk(w.current,N.current,e).then(e=>{const t={...e,isPositioned:!1!==E.current};P.current&&!Nk(_.current,t)&&(_.current=t,ld.flushSync(()=>{d(t)}))})},[f,t,n,O,E]);wk(()=>{!1===c&&_.current.isPositioned&&(_.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[c]);const P=q.useRef(!1);wk(()=>(P.current=!0,()=>{P.current=!1}),[]),wk(()=>{if(b&&(w.current=b),j&&(N.current=j),b&&j){if(S.current)return S.current(b,j,C);C()}},[b,j,C,S,k]);const T=q.useMemo(()=>({reference:w,floating:N,setReference:y,setFloating:x}),[y,x]),A=q.useMemo(()=>({reference:b,floating:j}),[b,j]),M=q.useMemo(()=>{const e={position:n,left:0,top:0};if(!A.floating)return e;const t=kk(A.floating,u.x),r=kk(A.floating,u.y);return s?{...e,transform:"translate("+t+"px, "+r+"px)",..._k(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,s,A.floating,u.x,u.y]);return q.useMemo(()=>({...u,update:C,refs:T,elements:A,floatingStyles:M}),[u,C,T,A,M])}({strategy:"fixed",placement:T,whileElementsMounted:(...e)=>hk(...e,{animationFrame:"always"===x}),elements:{reference:w.anchor},middleware:[Ek({mainAxis:u+P,alignmentAxis:f}),p&&Ck({mainAxis:!0,crossAxis:!1,limiter:"partial"===g?Pk():void 0,...I}),p&&Tk({...I}),Ak({...I,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:a,height:i}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${n}px`),o.setProperty("--radix-popper-available-height",`${r}px`),o.setProperty("--radix-popper-anchor-width",`${a}px`),o.setProperty("--radix-popper-anchor-height",`${i}px`)}}),S&&Dk({element:S,padding:h}),eS({arrowWidth:C,arrowHeight:P}),y&&Mk({strategy:"referenceHidden",...I})]}),[$,U]=tS(F),W=rg(b);mg(()=>{z&&(null==W||W())},[z,W]);const V=null==(n=B.arrow)?void 0:n.x,H=null==(r=B.arrow)?void 0:r.y,K=0!==(null==(a=B.arrow)?void 0:a.centerOffset),[G,Y]=q.useState();return mg(()=>{N&&Y(window.getComputedStyle(N).zIndex)},[N]),ee.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[null==(i=B.transformOrigin)?void 0:i.x,null==(o=B.transformOrigin)?void 0:o.y].join(" "),...(null==(s=B.hide)?void 0:s.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:ee.jsx(Kk,{scope:l,placedSide:$,onArrowChange:O,arrowX:V,arrowY:H,shouldHideArrow:K,children:ee.jsx(tg.div,{"data-side":$,"data-align":U,...j,ref:k,style:{...j.style,animation:z?void 0:"none"}})})})});Yk.displayName=Hk;var Xk="PopperArrow",Jk={top:"bottom",right:"left",bottom:"top",left:"right"},Qk=q.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,a=Gk(Xk,n),i=Jk[a.placedSide];return ee.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:ee.jsx(Rk,{...r,ref:t,style:{...r.style,display:"block"}})})});function Zk(e){return null!==e}Qk.displayName=Xk;var eS=e=>({name:"transformOrigin",options:e,fn(t){var n,r,a;const{placement:i,rects:o,middlewareData:s}=t,l=0!==(null==(n=s.arrow)?void 0:n.centerOffset),c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[d,f]=tS(i),h={start:"0%",center:"50%",end:"100%"}[f],p=((null==(r=s.arrow)?void 0:r.x)??0)+c/2,m=((null==(a=s.arrow)?void 0:a.y)??0)+u/2;let v="",g="";return"bottom"===d?(v=l?h:`${p}px`,g=-u+"px"):"top"===d?(v=l?h:`${p}px`,g=`${o.floating.height+u}px`):"right"===d?(v=-u+"px",g=l?h:`${m}px`):"left"===d&&(v=`${o.floating.width+u}px`,g=l?h:`${m}px`),{data:{x:v,y:g}}}});function tS(e){const[t,n="center"]=e.split("-");return[t,n]}var nS=Wk,rS=Vk,aS=Yk,iS=Qk,oS=new WeakMap,sS=new WeakMap,lS={},cS=0,uS=function(e){return e&&(e.host||uS(e.parentNode))},dS=function(e,t,n,r){var a=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=uS(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);lS[n]||(lS[n]=new WeakMap);var i=lS[n],o=[],s=new Set,l=new Set(a),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};a.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),a=null!==t&&"false"!==t,l=(oS.get(e)||0)+1,c=(i.get(e)||0)+1;oS.set(e,l),i.set(e,c),o.push(e),1===l&&a&&sS.set(e,!0),1===c&&e.setAttribute(n,"true"),a||e.setAttribute(r,"true")}catch(Fte){console.error("aria-hidden: cannot operate on ",e,Fte)}})};return u(t),s.clear(),cS++,function(){o.forEach(function(e){var t=oS.get(e)-1,a=i.get(e)-1;oS.set(e,t),i.set(e,a),t||(sS.has(e)||e.removeAttribute(r),sS.delete(e)),a||e.removeAttribute(n)}),--cS||(oS=new WeakMap,oS=new WeakMap,sS=new WeakMap,lS={})}},fS=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),dS(r,a,n,"aria-hidden")):function(){return null}},hS=function(){return hS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},hS.apply(this,arguments)};function pS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}"function"==typeof SuppressedError&&SuppressedError;var mS="right-scroll-bar-position",vS="width-before-scroll-bar";function gS(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var yS="undefined"!=typeof window?q.useLayoutEffect:q.useEffect,xS=new WeakMap;function bS(e,t){var n,r,a,i=(n=null,r=function(t){return e.forEach(function(e){return gS(e,t)})},(a=q.useState(function(){return{value:n,callback:r,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}})[0]).callback=r,a.facade);return yS(function(){var t=xS.get(i);if(t){var n=new Set(t),r=new Set(e),a=i.current;n.forEach(function(e){r.has(e)||gS(e,null)}),r.forEach(function(e){n.has(e)||gS(e,a)})}xS.set(i,e)},[e]),i}function jS(e){return e}var wS=function(e){var t=e.sideCar,n=pS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return q.createElement(r,hS({},n))};wS.isSideCarExport=!0;var NS=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=jS);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=hS({async:!0,ssr:!1},e),t}(),_S=function(){},kS=q.forwardRef(function(e,t){var n=q.useRef(null),r=q.useState({onScrollCapture:_S,onWheelCapture:_S,onTouchMoveCapture:_S}),a=r[0],i=r[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,p=e.noIsolation,m=e.inert,v=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,x=e.gapMode,b=pS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,w=bS([n,t]),N=hS(hS({},b),a);return q.createElement(q.Fragment,null,u&&q.createElement(j,{sideCar:NS,removeScrollBar:c,shards:d,noRelative:h,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:x}),o?q.cloneElement(q.Children.only(s),hS(hS({},N),{ref:w})):q.createElement(y,hS({},N,{className:l,ref:w}),s))});kS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},kS.classNames={fullWidth:vS,zeroRight:mS};function SS(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var OS=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=SS())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ES=function(){var e,t=(e=OS(),function(t,n){q.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},CS={left:0,top:0,right:0,gap:0},PS=function(e){return parseInt(e||"",10)||0},TS=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return CS;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[PS(n),PS(r),PS(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},AS=ES(),MS="data-scroll-locked",DS=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(MS,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(mS," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(vS," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(mS," .").concat(mS," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(vS," .").concat(vS," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(MS,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},IS=function(){var e=parseInt(document.body.getAttribute(MS)||"0",10);return isFinite(e)?e:0},RS=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;q.useEffect(function(){return document.body.setAttribute(MS,(IS()+1).toString()),function(){var e=IS()-1;e<=0?document.body.removeAttribute(MS):document.body.setAttribute(MS,e.toString())}},[]);var i=q.useMemo(function(){return TS(a)},[a]);return q.createElement(AS,{styles:DS(i,!t,a,n?"":"!important")})},LS=!1;if("undefined"!=typeof window)try{var FS=Object.defineProperty({},"passive",{get:function(){return LS=!0,!0}});window.addEventListener("test",FS,FS),window.removeEventListener("test",FS,FS)}catch(zte){LS=!1}var zS=!!LS&&{passive:!1},BS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},$S=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),US(e,r)){var a=WS(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},US=function(e,t){return"v"===e?function(e){return BS(e,"overflowY")}(t):function(e){return BS(e,"overflowX")}(t)},WS=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},qS=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VS=function(e){return[e.deltaX,e.deltaY]},HS=function(e){return e&&"current"in e?e.current:e},KS=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},GS=0,YS=[];function XS(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JS=(QS=function(e){var t=q.useRef([]),n=q.useRef([0,0]),r=q.useRef(),a=q.useState(GS++)[0],i=q.useState(ES)[0],o=q.useRef(e);q.useEffect(function(){o.current=e},[e]),q.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(HS),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=q.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var a,i=qS(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-i[0],c="deltaY"in e?e.deltaY:s[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=$S(d,u);if(!f)return!0;if(f?a=d:(a="v"===d?"h":"v",f=$S(d,u)),!f)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=a),!a)return!0;var h=r.current||a;return function(e,t,n,r,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*r,s=n.target,l=t.contains(s),c=!1,u=o>0,d=0,f=0;do{if(!s)break;var h=WS(e,s),p=h[0],m=h[1]-h[2]-i*p;(p||m)&&US(e,s)&&(d+=m,f+=p);var v=s.parentNode;s=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return u&&(Math.abs(d)<1||!a)?c=!0:u||!(Math.abs(f)<1)&&a||(c=!0),c}(h,t,e,"h"===h?l:c,!0)},[]),l=q.useCallback(function(e){var n=e;if(YS.length&&YS[YS.length-1]===i){var r="deltaY"in n?VS(n):qS(n),a=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,a=r,t[0]===a[0]&&t[1]===a[1]);var t,a})[0];if(a&&a.should)n.cancelable&&n.preventDefault();else if(!a){var l=(o.current.shards||[]).map(HS).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?s(n,l[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=q.useCallback(function(e,n,r,a){var i={name:e,delta:n,target:r,should:a,shadowParent:XS(r)};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(e){return e!==i})},1)},[]),u=q.useCallback(function(e){n.current=qS(e),r.current=void 0},[]),d=q.useCallback(function(t){c(t.type,VS(t),t.target,s(t,e.lockRef.current))},[]),f=q.useCallback(function(t){c(t.type,qS(t),t.target,s(t,e.lockRef.current))},[]);q.useEffect(function(){return YS.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,zS),document.addEventListener("touchmove",l,zS),document.addEventListener("touchstart",u,zS),function(){YS=YS.filter(function(e){return e!==i}),document.removeEventListener("wheel",l,zS),document.removeEventListener("touchmove",l,zS),document.removeEventListener("touchstart",u,zS)}},[]);var h=e.removeScrollBar,p=e.inert;return q.createElement(q.Fragment,null,p?q.createElement(i,{styles:KS(a)}):null,h?q.createElement(RS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},NS.useMedium(QS),wS);var QS,ZS=q.forwardRef(function(e,t){return q.createElement(kS,hS({},e,{ref:t,sideCar:JS}))});ZS.classNames=kS.classNames;var eO="Popover",[tO,nO]=Kv(eO,[Bk]),rO=Bk(),[aO,iO]=tO(eO),oO=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,s=rO(t),l=q.useRef(null),[c,u]=q.useState(!1),[d,f]=bg({prop:r,defaultProp:a??!1,onChange:i,caller:eO});return ee.jsx(nS,{...s,children:ee.jsx(aO,{scope:t,contentId:VN(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:q.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:c,onCustomAnchorAdd:q.useCallback(()=>u(!0),[]),onCustomAnchorRemove:q.useCallback(()=>u(!1),[]),modal:o,children:n})})};oO.displayName=eO;var sO="PopoverAnchor";q.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=iO(sO,n),i=rO(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=a;return q.useEffect(()=>(o(),()=>s()),[o,s]),ee.jsx(rS,{...i,...r,ref:t})}).displayName=sO;var lO="PopoverTrigger",cO=q.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=iO(lO,n),i=rO(n),o=Hv(t,a.triggerRef),s=ee.jsx(tg.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jO(a.open),...r,ref:o,onClick:Wv(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?s:ee.jsx(rS,{asChild:!0,...i,children:s})});cO.displayName=lO;var uO="PopoverPortal",[dO,fO]=tO(uO,{forceMount:void 0}),hO=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=iO(uO,t);return ee.jsx(dO,{scope:t,forceMount:n,children:ee.jsx(gg,{present:n||i.open,children:ee.jsx(vg,{asChild:!0,container:a,children:r})})})};hO.displayName=uO;var pO="PopoverContent",mO=q.forwardRef((e,t)=>{const n=fO(pO,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=iO(pO,e.__scopePopover);return ee.jsx(gg,{present:r||i.open,children:i.modal?ee.jsx(gO,{...a,ref:t}):ee.jsx(yO,{...a,ref:t})})});mO.displayName=pO;var vO=Yv("PopoverContent.RemoveScroll"),gO=q.forwardRef((e,t)=>{const n=iO(pO,e.__scopePopover),r=q.useRef(null),a=Hv(t,r),i=q.useRef(!1);return q.useEffect(()=>{const e=r.current;if(e)return fS(e)},[]),ee.jsx(ZS,{as:vO,allowPinchZoom:!0,children:ee.jsx(xO,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wv(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),i.current||null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:Wv(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;i.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:Wv(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),yO=q.forwardRef((e,t)=>{const n=iO(pO,e.__scopePopover),r=q.useRef(!1),a=q.useRef(!1);return ee.jsx(xO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,o;null==(i=e.onCloseAutoFocus)||i.call(e,t),t.defaultPrevented||(r.current||null==(o=n.triggerRef.current)||o.focus(),t.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:t=>{var i,o;null==(i=e.onInteractOutside)||i.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const s=t.target;(null==(o=n.triggerRef.current)?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),xO=q.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,f=iO(pO,n),h=rO(n);return TN(),ee.jsx(RN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:ee.jsx(cg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:ee.jsx(aS,{"data-state":jO(f.open),role:"dialog",id:f.contentId,...h,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bO="PopoverClose";q.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=iO(bO,n);return ee.jsx(tg.button,{type:"button",...r,ref:t,onClick:Wv(e.onClick,()=>a.onOpenChange(!1))})}).displayName=bO;function jO(e){return e?"open":"closed"}q.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=rO(n);return ee.jsx(iS,{...a,...r,ref:t})}).displayName="PopoverArrow";var wO=hO,NO=mO;const _O=oO,kO=cO,SO=q.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>ee.jsx(wO,{children:ee.jsx(NO,{ref:a,align:t,sideOffset:n,className:Ob("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));function OO({date:e,onSelect:t,className:n}){return ee.jsx("div",{className:Ob("grid gap-2",n),children:ee.jsxs(_O,{children:[ee.jsx(kO,{asChild:!0,children:ee.jsxs(Lb,{id:"date",variant:"outline",className:Ob("w-[300px] justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[ee.jsx(Ey,{className:"mr-2 h-4 w-4"}),(null==e?void 0:e.from)?e.to?ee.jsxs(ee.Fragment,{children:[Wj(e.from,"dd MMM yyyy",{locale:rw})," - ",Wj(e.to,"dd MMM yyyy",{locale:rw})]}):Wj(e.from,"dd MMM yyyy",{locale:rw}):ee.jsx("span",{children:"Sélectionner une période"})]})}),ee.jsx(SO,{className:"w-auto p-0",align:"start",children:ee.jsx(CN,{initialFocus:!0,mode:"range",defaultMonth:null==e?void 0:e.from,selected:e,onSelect:t,numberOfMonths:2,locale:rw})})]})})}SO.displayName=NO.displayName;var EO=q.createContext(void 0);function CO(e){const t=q.useContext(EO);return e||t||"ltr"}var PO="rovingFocusGroup.onEntryFocus",TO={bubbles:!1,cancelable:!0},AO="RovingFocusGroup",[MO,DO,IO]=eg(AO),[RO,LO]=Kv(AO,[IO]),[FO,zO]=RO(AO),BO=q.forwardRef((e,t)=>ee.jsx(MO.Provider,{scope:e.__scopeRovingFocusGroup,children:ee.jsx(MO.Slot,{scope:e.__scopeRovingFocusGroup,children:ee.jsx($O,{...e,ref:t})})}));BO.displayName=AO;var $O=q.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,f=q.useRef(null),h=Hv(t,f),p=CO(i),[m,v]=bg({prop:o,defaultProp:s??null,onChange:l,caller:AO}),[g,y]=q.useState(!1),x=rg(c),b=DO(n),j=q.useRef(!1),[w,N]=q.useState(0);return q.useEffect(()=>{const e=f.current;if(e)return e.addEventListener(PO,x),()=>e.removeEventListener(PO,x)},[x]),ee.jsx(FO,{scope:n,orientation:r,dir:p,loop:a,currentTabStopId:m,onItemFocus:q.useCallback(e=>v(e),[v]),onItemShiftTab:q.useCallback(()=>y(!0),[]),onFocusableItemAdd:q.useCallback(()=>N(e=>e+1),[]),onFocusableItemRemove:q.useCallback(()=>N(e=>e-1),[]),children:ee.jsx(tg.div,{tabIndex:g||0===w?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:Wv(e.onMouseDown,()=>{j.current=!0}),onFocus:Wv(e.onFocus,e=>{const t=!j.current;if(e.target===e.currentTarget&&t&&!g){const t=new CustomEvent(PO,TO);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=b().filter(e=>e.focusable);VO([e.find(e=>e.active),e.find(e=>e.id===m),...e].filter(Boolean).map(e=>e.ref.current),u)}}j.current=!1}),onBlur:Wv(e.onBlur,()=>y(!1))})})}),UO="RovingFocusGroupItem",WO=q.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...s}=e,l=VN(),c=i||l,u=zO(UO,n),d=u.currentTabStopId===c,f=DO(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:m}=u;return q.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),ee.jsx(MO.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:ee.jsx(tg.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:Wv(e.onMouseDown,e=>{r?u.onItemFocus(c):e.preventDefault()}),onFocus:Wv(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Wv(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:qO[r]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();const i=a.indexOf(e.currentTarget);a=u.loop?(r=i+1,(n=a).map((e,t)=>n[(r+t)%n.length])):a.slice(i+1)}setTimeout(()=>VO(a))}var n,r}),children:"function"==typeof o?o({isCurrentTabStop:d,hasTabStop:null!=m}):o})})});WO.displayName=UO;var qO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VO(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var HO=BO,KO=WO,GO="Tabs",[YO,XO]=Kv(GO,[LO]),JO=LO(),[QO,ZO]=YO(GO),eE=q.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=CO(s),[d,f]=bg({prop:r,onChange:a,defaultProp:i??"",caller:GO});return ee.jsx(QO,{scope:n,baseId:VN(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:ee.jsx(tg.div,{dir:u,"data-orientation":o,...c,ref:t})})});eE.displayName=GO;var tE="TabsList",nE=q.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=ZO(tE,n),o=JO(n);return ee.jsx(HO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:ee.jsx(tg.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});nE.displayName=tE;var rE="TabsTrigger",aE=q.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=ZO(rE,n),s=JO(n),l=sE(o.baseId,r),c=lE(o.baseId,r),u=r===o.value;return ee.jsx(KO,{asChild:!0,...s,focusable:!a,active:u,children:ee.jsx(tg.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...i,ref:t,onMouseDown:Wv(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:Wv(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:Wv(e.onFocus,()=>{const e="manual"!==o.activationMode;u||a||!e||o.onValueChange(r)})})})});aE.displayName=rE;var iE="TabsContent",oE=q.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,s=ZO(iE,n),l=sE(s.baseId,r),c=lE(s.baseId,r),u=r===s.value,d=q.useRef(u);return q.useEffect(()=>{const e=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(e)},[]),ee.jsx(gg,{present:a||u,children:({present:n})=>ee.jsx(tg.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:n&&i})})});function sE(e,t){return`${e}-trigger-${t}`}function lE(e,t){return`${e}-content-${t}`}oE.displayName=iE;var cE=nE,uE=aE,dE=oE;const fE=eE,hE=q.forwardRef(({className:e,...t},n)=>ee.jsx(cE,{ref:n,className:Ob("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));hE.displayName=cE.displayName;const pE=q.forwardRef(({className:e,...t},n)=>ee.jsx(uE,{ref:n,className:Ob("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));pE.displayName=uE.displayName;const mE=q.forwardRef(({className:e,...t},n)=>ee.jsx(dE,{ref:n,className:Ob("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mE.displayName=dE.displayName;const vE=q.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:Ob("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));vE.displayName="Card";const gE=q.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:Ob("flex flex-col space-y-1.5 p-6",e),...t}));gE.displayName="CardHeader";const yE=q.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:Ob("text-2xl font-semibold leading-none tracking-tight",e),...t}));yE.displayName="CardTitle";const xE=q.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:Ob("text-sm text-muted-foreground",e),...t}));xE.displayName="CardDescription";const bE=q.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:Ob("p-6 pt-0",e),...t}));bE.displayName="CardContent";function jE(e,[t,n]){return Math.min(n,Math.max(t,e))}function wE(e){const t=q.useRef({value:e,previous:e});return q.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}q.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:Ob("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";var NE=[" ","Enter","ArrowUp","ArrowDown"],_E=[" ","Enter"],kE="Select",[SE,OE,EE]=eg(kE),[CE,PE]=Kv(kE,[EE,Bk]),TE=Bk(),[AE,ME]=CE(kE),[DE,IE]=CE(kE),RE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:h,form:p}=e,m=TE(t),[v,g]=q.useState(null),[y,x]=q.useState(null),[b,j]=q.useState(!1),w=CO(c),[N,_]=bg({prop:r,defaultProp:a??!1,onChange:i,caller:kE}),[k,S]=bg({prop:o,defaultProp:s,onChange:l,caller:kE}),O=q.useRef(null),E=!v||(p||!!v.closest("form")),[C,P]=q.useState(new Set),T=Array.from(C).map(e=>e.props.value).join(";");return ee.jsx(nS,{...m,children:ee.jsxs(AE,{required:h,scope:t,trigger:v,onTriggerChange:g,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:j,contentId:VN(),value:k,onValueChange:S,open:N,onOpenChange:_,dir:w,triggerPointerDownPosRef:O,disabled:f,children:[ee.jsx(SE.Provider,{scope:t,children:ee.jsx(DE,{scope:e.__scopeSelect,onNativeOptionAdd:q.useCallback(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:q.useCallback(e=>{P(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),E?ee.jsxs(wC,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:e=>S(e.target.value),disabled:f,form:p,children:[void 0===k?ee.jsx("option",{value:""}):null,Array.from(C)]},T):null]})})};RE.displayName=kE;var LE="SelectTrigger",FE=q.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=TE(n),o=ME(LE,n),s=o.disabled||r,l=Hv(t,o.onTriggerChange),c=OE(n),u=q.useRef("touch"),[d,f,h]=_C(e=>{const t=c().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=kC(t,e,n);void 0!==r&&o.onValueChange(r.value)}),p=e=>{s||(o.onOpenChange(!0),h()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return ee.jsx(rS,{asChild:!0,...i,children:ee.jsx(tg.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":NC(o.value)?"":void 0,...a,ref:l,onClick:Wv(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&p(e)}),onPointerDown:Wv(a.onPointerDown,e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(p(e),e.preventDefault())}),onKeyDown:Wv(a.onKeyDown,e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||NE.includes(e.key)&&(p(),e.preventDefault())})})})});FE.displayName=LE;var zE="SelectValue",BE=q.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...s}=e,l=ME(zE,n),{onValueNodeHasChildrenChange:c}=l,u=void 0!==i,d=Hv(t,l.onValueNodeChange);return mg(()=>{c(u)},[c,u]),ee.jsx(tg.span,{...s,ref:d,style:{pointerEvents:"none"},children:NC(l.value)?ee.jsx(ee.Fragment,{children:o}):i})});BE.displayName=zE;var $E=q.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return ee.jsx(tg.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});$E.displayName="SelectIcon";var UE=e=>ee.jsx(vg,{asChild:!0,...e});UE.displayName="SelectPortal";var WE="SelectContent",qE=q.forwardRef((e,t)=>{const n=ME(WE,e.__scopeSelect),[r,a]=q.useState();if(mg(()=>{a(new DocumentFragment)},[]),!n.open){const t=r;return t?ld.createPortal(ee.jsx(HE,{scope:e.__scopeSelect,children:ee.jsx(SE.Slot,{scope:e.__scopeSelect,children:ee.jsx("div",{children:e.children})})}),t):null}return ee.jsx(YE,{...e,ref:t})});qE.displayName=WE;var VE=10,[HE,KE]=CE(WE),GE=Yv("SelectContent.RemoveScroll"),YE=q.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:m,avoidCollisions:v,...g}=e,y=ME(WE,n),[x,b]=q.useState(null),[j,w]=q.useState(null),N=Hv(t,e=>b(e)),[_,k]=q.useState(null),[S,O]=q.useState(null),E=OE(n),[C,P]=q.useState(!1),T=q.useRef(!1);q.useEffect(()=>{if(x)return fS(x)},[x]),TN();const A=q.useCallback(e=>{const[t,...n]=E().map(e=>e.ref.current),[r]=n.slice(-1),a=document.activeElement;for(const i of e){if(i===a)return;if(null==i||i.scrollIntoView({block:"nearest"}),i===t&&j&&(j.scrollTop=0),i===r&&j&&(j.scrollTop=j.scrollHeight),null==i||i.focus(),document.activeElement!==a)return}},[E,j]),M=q.useCallback(()=>A([_,x]),[A,_,x]);q.useEffect(()=>{C&&M()},[C,M]);const{onOpenChange:D,triggerPointerDownPosRef:I}=y;q.useEffect(()=>{if(x){let e={x:0,y:0};const t=t=>{var n,r;e={x:Math.abs(Math.round(t.pageX)-((null==(n=I.current)?void 0:n.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(r=I.current)?void 0:r.y)??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():x.contains(n.target)||D(!1),document.removeEventListener("pointermove",t),I.current=null};return null!==I.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[x,D,I]),q.useEffect(()=>{const e=()=>D(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[D]);const[R,L]=_C(e=>{const t=E().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=kC(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),F=q.useCallback((e,t,n)=>{const r=!T.current&&!n;(void 0!==y.value&&y.value===t||r)&&(k(e),r&&(T.current=!0))},[y.value]),z=q.useCallback(()=>null==x?void 0:x.focus(),[x]),B=q.useCallback((e,t,n)=>{const r=!T.current&&!n;(void 0!==y.value&&y.value===t||r)&&O(e)},[y.value]),$="popper"===r?JE:XE,U=$===JE?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:m,avoidCollisions:v}:{};return ee.jsx(HE,{scope:n,content:x,viewport:j,onViewportChange:w,itemRefCallback:F,selectedItem:_,onItemLeave:z,itemTextRefCallback:B,focusSelectedItem:M,selectedItemText:S,position:r,isPositioned:C,searchRef:R,children:ee.jsx(ZS,{as:GE,allowPinchZoom:!0,children:ee.jsx(RN,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Wv(a,e=>{var t;null==(t=y.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:ee.jsx(cg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:ee.jsx($,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...g,...U,onPlaced:()=>P(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Wv(g.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=E().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>A(t)),e.preventDefault()}})})})})})})});YE.displayName="SelectContentImpl";var XE=q.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=ME(WE,n),o=KE(WE,n),[s,l]=q.useState(null),[c,u]=q.useState(null),d=Hv(t,e=>u(e)),f=OE(n),h=q.useRef(!1),p=q.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:g,focusSelectedItem:y}=o,x=q.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&c&&m&&v&&g){const e=i.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=i.valueNode.getBoundingClientRect(),a=g.getBoundingClientRect();if("rtl"!==i.dir){const r=a.left-t.left,i=n.left-r,o=e.left-i,l=e.width+o,c=Math.max(l,t.width),u=window.innerWidth-VE,d=jE(i,[VE,Math.max(VE,u-c)]);s.style.minWidth=l+"px",s.style.left=d+"px"}else{const r=t.right-a.right,i=window.innerWidth-n.right-r,o=window.innerWidth-e.right-i,l=e.width+o,c=Math.max(l,t.width),u=window.innerWidth-VE,d=jE(i,[VE,Math.max(VE,u-c)]);s.style.minWidth=l+"px",s.style.right=d+"px"}const o=f(),l=window.innerHeight-2*VE,u=m.scrollHeight,d=window.getComputedStyle(c),p=parseInt(d.borderTopWidth,10),y=parseInt(d.paddingTop,10),x=parseInt(d.borderBottomWidth,10),b=p+y+u+parseInt(d.paddingBottom,10)+x,j=Math.min(5*v.offsetHeight,b),w=window.getComputedStyle(m),N=parseInt(w.paddingTop,10),_=parseInt(w.paddingBottom,10),k=e.top+e.height/2-VE,S=l-k,O=v.offsetHeight/2,E=p+y+(v.offsetTop+O),C=b-E;if(E<=k){const e=o.length>0&&v===o[o.length-1].ref.current;s.style.bottom="0px";const t=c.clientHeight-m.offsetTop-m.offsetHeight,n=E+Math.max(S,O+(e?_:0)+t+x);s.style.height=n+"px"}else{const e=o.length>0&&v===o[0].ref.current;s.style.top="0px";const t=Math.max(k,p+m.offsetTop+(e?N:0)+O)+C;s.style.height=t+"px",m.scrollTop=E-k+m.offsetTop}s.style.margin=`${VE}px 0`,s.style.minHeight=j+"px",s.style.maxHeight=l+"px",null==r||r(),requestAnimationFrame(()=>h.current=!0)}},[f,i.trigger,i.valueNode,s,c,m,v,g,i.dir,r]);mg(()=>x(),[x]);const[b,j]=q.useState();mg(()=>{c&&j(window.getComputedStyle(c).zIndex)},[c]);const w=q.useCallback(e=>{e&&!0===p.current&&(x(),null==y||y(),p.current=!1)},[x,y]);return ee.jsx(QE,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:w,children:ee.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:ee.jsx(tg.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});XE.displayName="SelectItemAlignedPosition";var JE=q.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=VE,...i}=e,o=TE(n);return ee.jsx(aS,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});JE.displayName="SelectPopperPosition";var[QE,ZE]=CE(WE,{}),eC="SelectViewport",tC=q.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=KE(eC,n),o=ZE(eC,n),s=Hv(t,i.onViewportChange),l=q.useRef(0);return ee.jsxs(ee.Fragment,{children:[ee.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),ee.jsx(SE.Slot,{scope:n,children:ee.jsx(tg.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Wv(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if((null==r?void 0:r.current)&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*VE,a=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),o=Math.max(a,i);if(o<r){const a=o+e,i=Math.min(r,a),s=a-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop})})})]})});tC.displayName=eC;var nC="SelectGroup",[rC,aC]=CE(nC);q.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=VN();return ee.jsx(rC,{scope:n,id:a,children:ee.jsx(tg.div,{role:"group","aria-labelledby":a,...r,ref:t})})}).displayName=nC;var iC="SelectLabel",oC=q.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=aC(iC,n);return ee.jsx(tg.div,{id:a.id,...r,ref:t})});oC.displayName=iC;var sC="SelectItem",[lC,cC]=CE(sC),uC=q.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,s=ME(sC,n),l=KE(sC,n),c=s.value===r,[u,d]=q.useState(i??""),[f,h]=q.useState(!1),p=Hv(t,e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,r,a)}),m=VN(),v=q.useRef("touch"),g=()=>{a||(s.onValueChange(r),s.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return ee.jsx(lC,{scope:n,value:r,disabled:a,textId:m,isSelected:c,onItemTextChange:q.useCallback(e=>{d(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:ee.jsx(SE.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:ee.jsx(tg.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:Wv(o.onFocus,()=>h(!0)),onBlur:Wv(o.onBlur,()=>h(!1)),onClick:Wv(o.onClick,()=>{"mouse"!==v.current&&g()}),onPointerUp:Wv(o.onPointerUp,()=>{"mouse"===v.current&&g()}),onPointerDown:Wv(o.onPointerDown,e=>{v.current=e.pointerType}),onPointerMove:Wv(o.onPointerMove,e=>{var t;v.current=e.pointerType,a?null==(t=l.onItemLeave)||t.call(l):"mouse"===v.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wv(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))}),onKeyDown:Wv(o.onKeyDown,e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(_E.includes(e.key)&&g()," "===e.key&&e.preventDefault())})})})})});uC.displayName=sC;var dC="SelectItemText",fC=q.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=ME(dC,n),s=KE(dC,n),l=cC(dC,n),c=IE(dC,n),[u,d]=q.useState(null),f=Hv(t,e=>d(e),l.onItemTextChange,e=>{var t;return null==(t=s.itemTextRefCallback)?void 0:t.call(s,e,l.value,l.disabled)}),h=null==u?void 0:u.textContent,p=q.useMemo(()=>ee.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=c;return mg(()=>(m(p),()=>v(p)),[m,v,p]),ee.jsxs(ee.Fragment,{children:[ee.jsx(tg.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ld.createPortal(i.children,o.valueNode):null]})});fC.displayName=dC;var hC="SelectItemIndicator",pC=q.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return cC(hC,n).isSelected?ee.jsx(tg.span,{"aria-hidden":!0,...r,ref:t}):null});pC.displayName=hC;var mC="SelectScrollUpButton",vC=q.forwardRef((e,t)=>{const n=KE(mC,e.__scopeSelect),r=ZE(mC,e.__scopeSelect),[a,i]=q.useState(!1),o=Hv(t,r.onScrollButtonChange);return mg(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),a?ee.jsx(xC,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});vC.displayName=mC;var gC="SelectScrollDownButton",yC=q.forwardRef((e,t)=>{const n=KE(gC,e.__scopeSelect),r=ZE(gC,e.__scopeSelect),[a,i]=q.useState(!1),o=Hv(t,r.onScrollButtonChange);return mg(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;i(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),a?ee.jsx(xC,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});yC.displayName=gC;var xC=q.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=KE("SelectScrollButton",n),o=q.useRef(null),s=OE(n),l=q.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return q.useEffect(()=>()=>l(),[l]),mg(()=>{var e;const t=s().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[s]),ee.jsx(tg.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Wv(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:Wv(a.onPointerMove,()=>{var e;null==(e=i.onItemLeave)||e.call(i),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:Wv(a.onPointerLeave,()=>{l()})})}),bC=q.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ee.jsx(tg.div,{"aria-hidden":!0,...r,ref:t})});bC.displayName="SelectSeparator";var jC="SelectArrow";q.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=TE(n),i=ME(jC,n),o=KE(jC,n);return i.open&&"popper"===o.position?ee.jsx(iS,{...a,...r,ref:t}):null}).displayName=jC;var wC=q.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=q.useRef(null),i=Hv(r,a),o=wE(t);return q.useEffect(()=>{const e=a.current;if(!e)return;const n=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(o!==t&&r){const n=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[o,t]),ee.jsx(tg.select,{...n,style:{...jg,...n.style},ref:i,defaultValue:t})});function NC(e){return""===e||void 0===e}function _C(e){const t=rg(e),n=q.useRef(""),r=q.useRef(0),a=q.useCallback(e=>{const a=n.current+e;t(a),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(a)},[t]),i=q.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return q.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function kC(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=(o=e,s=Math.max(a,0),o.map((e,t)=>o[(s+t)%o.length]));var o,s;1===r.length&&(i=i.filter(e=>e!==n));const l=i.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}wC.displayName="SelectBubbleInput";var SC=FE,OC=$E,EC=UE,CC=qE,PC=tC,TC=oC,AC=uC,MC=fC,DC=pC,IC=vC,RC=yC,LC=bC;const FC=RE,zC=BE,BC=q.forwardRef(({className:e,children:t,...n},r)=>ee.jsxs(SC,{ref:r,className:Ob("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,ee.jsx(OC,{asChild:!0,children:ee.jsx(Ay,{className:"h-4 w-4 opacity-50"})})]}));BC.displayName=SC.displayName;const $C=q.forwardRef(({className:e,...t},n)=>ee.jsx(IC,{ref:n,className:Ob("flex cursor-default items-center justify-center py-1",e),...t,children:ee.jsx(Iy,{className:"h-4 w-4"})}));$C.displayName=IC.displayName;const UC=q.forwardRef(({className:e,...t},n)=>ee.jsx(RC,{ref:n,className:Ob("flex cursor-default items-center justify-center py-1",e),...t,children:ee.jsx(Ay,{className:"h-4 w-4"})}));UC.displayName=RC.displayName;const WC=q.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>ee.jsx(EC,{children:ee.jsxs(CC,{ref:a,className:Ob("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[ee.jsx($C,{}),ee.jsx(PC,{className:Ob("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),ee.jsx(UC,{})]})}));WC.displayName=CC.displayName;q.forwardRef(({className:e,...t},n)=>ee.jsx(TC,{ref:n,className:Ob("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=TC.displayName;const qC=q.forwardRef(({className:e,children:t,...n},r)=>ee.jsxs(AC,{ref:r,className:Ob("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[ee.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:ee.jsx(DC,{children:ee.jsx(Ty,{className:"h-4 w-4"})})}),ee.jsx(MC,{children:t})]}));qC.displayName=AC.displayName;q.forwardRef(({className:e,...t},n)=>ee.jsx(LC,{ref:n,className:Ob("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=LC.displayName;var VC=Array.isArray,HC="object"==typeof r&&r&&r.Object===Object&&r,KC=HC,GC="object"==typeof self&&self&&self.Object===Object&&self,YC=KC||GC||Function("return this")(),XC=YC.Symbol,JC=XC,QC=Object.prototype,ZC=QC.hasOwnProperty,eP=QC.toString,tP=JC?JC.toStringTag:void 0;var nP=function(e){var t=ZC.call(e,tP),n=e[tP];try{e[tP]=void 0;var r=!0}catch(Fte){}var a=eP.call(e);return r&&(t?e[tP]=n:delete e[tP]),a},rP=Object.prototype.toString;var aP=nP,iP=function(e){return rP.call(e)},oP=XC?XC.toStringTag:void 0;var sP=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":oP&&oP in Object(e)?aP(e):iP(e)};var lP=function(e){return null!=e&&"object"==typeof e},cP=sP,uP=lP;var dP=function(e){return"symbol"==typeof e||uP(e)&&"[object Symbol]"==cP(e)},fP=VC,hP=dP,pP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mP=/^\w*$/;var vP=function(e,t){if(fP(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!hP(e))||(mP.test(e)||!pP.test(e)||null!=t&&e in Object(t))};var gP=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const yP=a(gP);var xP=sP,bP=gP;var jP=function(e){if(!bP(e))return!1;var t=xP(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const wP=a(jP);var NP,_P=YC["__core-js_shared__"],kP=(NP=/[^.]+$/.exec(_P&&_P.keys&&_P.keys.IE_PROTO||""))?"Symbol(src)_1."+NP:"";var SP=function(e){return!!kP&&kP in e},OP=Function.prototype.toString;var EP=function(e){if(null!=e){try{return OP.call(e)}catch(Fte){}try{return e+""}catch(Fte){}}return""},CP=jP,PP=SP,TP=gP,AP=EP,MP=/^\[object .+?Constructor\]$/,DP=Function.prototype,IP=Object.prototype,RP=DP.toString,LP=IP.hasOwnProperty,FP=RegExp("^"+RP.call(LP).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var zP=function(e){return!(!TP(e)||PP(e))&&(CP(e)?FP:MP).test(AP(e))},BP=function(e,t){return null==e?void 0:e[t]};var $P=function(e,t){var n=BP(e,t);return zP(n)?n:void 0},UP=$P(Object,"create"),WP=UP;var qP=function(){this.__data__=WP?WP(null):{},this.size=0};var VP=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},HP=UP,KP=Object.prototype.hasOwnProperty;var GP=function(e){var t=this.__data__;if(HP){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return KP.call(t,e)?t[e]:void 0},YP=UP,XP=Object.prototype.hasOwnProperty;var JP=UP;var QP=qP,ZP=VP,eT=GP,tT=function(e){var t=this.__data__;return YP?void 0!==t[e]:XP.call(t,e)},nT=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=JP&&void 0===t?"__lodash_hash_undefined__":t,this};function rT(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rT.prototype.clear=QP,rT.prototype.delete=ZP,rT.prototype.get=eT,rT.prototype.has=tT,rT.prototype.set=nT;var aT=rT;var iT=function(){this.__data__=[],this.size=0};var oT=function(e,t){return e===t||e!=e&&t!=t},sT=oT;var lT=function(e,t){for(var n=e.length;n--;)if(sT(e[n][0],t))return n;return-1},cT=lT,uT=Array.prototype.splice;var dT=lT;var fT=lT;var hT=lT;var pT=iT,mT=function(e){var t=this.__data__,n=cT(t,e);return!(n<0)&&(n==t.length-1?t.pop():uT.call(t,n,1),--this.size,!0)},vT=function(e){var t=this.__data__,n=dT(t,e);return n<0?void 0:t[n][1]},gT=function(e){return fT(this.__data__,e)>-1},yT=function(e,t){var n=this.__data__,r=hT(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function xT(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xT.prototype.clear=pT,xT.prototype.delete=mT,xT.prototype.get=vT,xT.prototype.has=gT,xT.prototype.set=yT;var bT=xT,jT=$P(YC,"Map"),wT=aT,NT=bT,_T=jT;var kT=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ST=function(e,t){var n=e.__data__;return kT(t)?n["string"==typeof t?"string":"hash"]:n.map},OT=ST;var ET=ST;var CT=ST;var PT=ST;var TT=function(){this.size=0,this.__data__={hash:new wT,map:new(_T||NT),string:new wT}},AT=function(e){var t=OT(this,e).delete(e);return this.size-=t?1:0,t},MT=function(e){return ET(this,e).get(e)},DT=function(e){return CT(this,e).has(e)},IT=function(e,t){var n=PT(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function RT(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}RT.prototype.clear=TT,RT.prototype.delete=AT,RT.prototype.get=MT,RT.prototype.has=DT,RT.prototype.set=IT;var LT=RT,FT=LT;function zT(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(zT.Cache||FT),n}zT.Cache=FT;var BT=zT;const $T=a(BT);var UT=BT;var WT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qT=/\\(\\)?/g,VT=function(e){var t=UT(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(WT,function(e,n,r,a){t.push(r?a.replace(qT,"$1"):n||e)}),t});var HT=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a},KT=HT,GT=VC,YT=dP,XT=XC?XC.prototype:void 0,JT=XT?XT.toString:void 0;var QT=function e(t){if("string"==typeof t)return t;if(GT(t))return KT(t,e)+"";if(YT(t))return JT?JT.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},ZT=QT;var eA=function(e){return null==e?"":ZT(e)},tA=VC,nA=vP,rA=VT,aA=eA;var iA=function(e,t){return tA(e)?e:nA(e,t)?[e]:rA(aA(e))},oA=dP;var sA=function(e){if("string"==typeof e||oA(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},lA=iA,cA=sA;var uA=function(e,t){for(var n=0,r=(t=lA(t,e)).length;null!=e&&n<r;)e=e[cA(t[n++])];return n&&n==r?e:void 0},dA=uA;var fA=function(e,t,n){var r=null==e?void 0:dA(e,t);return void 0===r?n:r};const hA=a(fA);const pA=a(function(e){return null==e});var mA=sP,vA=VC,gA=lP;const yA=a(function(e){return"string"==typeof e||!vA(e)&&gA(e)&&"[object String]"==mA(e)});var xA,bA={exports:{}},jA={},wA=Symbol.for("react.element"),NA=Symbol.for("react.portal"),_A=Symbol.for("react.fragment"),kA=Symbol.for("react.strict_mode"),SA=Symbol.for("react.profiler"),OA=Symbol.for("react.provider"),EA=Symbol.for("react.context"),CA=Symbol.for("react.server_context"),PA=Symbol.for("react.forward_ref"),TA=Symbol.for("react.suspense"),AA=Symbol.for("react.suspense_list"),MA=Symbol.for("react.memo"),DA=Symbol.for("react.lazy"),IA=Symbol.for("react.offscreen");function RA(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case wA:switch(e=e.type){case _A:case SA:case kA:case TA:case AA:return e;default:switch(e=e&&e.$$typeof){case CA:case EA:case PA:case DA:case MA:case OA:return e;default:return t}}case NA:return t}}}xA=Symbol.for("react.module.reference"),jA.ContextConsumer=EA,jA.ContextProvider=OA,jA.Element=wA,jA.ForwardRef=PA,jA.Fragment=_A,jA.Lazy=DA,jA.Memo=MA,jA.Portal=NA,jA.Profiler=SA,jA.StrictMode=kA,jA.Suspense=TA,jA.SuspenseList=AA,jA.isAsyncMode=function(){return!1},jA.isConcurrentMode=function(){return!1},jA.isContextConsumer=function(e){return RA(e)===EA},jA.isContextProvider=function(e){return RA(e)===OA},jA.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===wA},jA.isForwardRef=function(e){return RA(e)===PA},jA.isFragment=function(e){return RA(e)===_A},jA.isLazy=function(e){return RA(e)===DA},jA.isMemo=function(e){return RA(e)===MA},jA.isPortal=function(e){return RA(e)===NA},jA.isProfiler=function(e){return RA(e)===SA},jA.isStrictMode=function(e){return RA(e)===kA},jA.isSuspense=function(e){return RA(e)===TA},jA.isSuspenseList=function(e){return RA(e)===AA},jA.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===_A||e===SA||e===kA||e===TA||e===AA||e===IA||"object"==typeof e&&null!==e&&(e.$$typeof===DA||e.$$typeof===MA||e.$$typeof===OA||e.$$typeof===EA||e.$$typeof===PA||e.$$typeof===xA||void 0!==e.getModuleId)},jA.typeOf=RA,bA.exports=jA;var LA=bA.exports,FA=sP,zA=lP;var BA=function(e){return"number"==typeof e||zA(e)&&"[object Number]"==FA(e)};const $A=a(BA);var UA=BA;const WA=a(function(e){return UA(e)&&e!=+e});var qA=function(e){return 0===e?0:e>0?1:-1},VA=function(e){return yA(e)&&e.indexOf("%")===e.length-1},HA=function(e){return $A(e)&&!WA(e)},KA=function(e){return HA(e)||yA(e)},GA=0,YA=function(e){var t=++GA;return"".concat(e||"").concat(t)},XA=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!HA(e)&&!yA(e))return r;if(VA(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return WA(n)&&(n=r),a&&n>t&&(n=t),n},JA=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},QA=function(e,t){return HA(e)&&HA(t)?function(n){return e+n*(t-e)}:function(){return t}};function ZA(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):hA(e,t))===n}):null}var eM=function(e,t){return HA(e)&&HA(t)?e-t:yA(e)&&yA(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function tM(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function nM(e){return(nM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aM=["points","pathLength"],iM={svg:["viewBox","children"],polygon:aM,polyline:aM},oM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sM=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(q.isValidElement(e)&&(n=e.props),!yP(n))return null;var r={};return Object.keys(n).forEach(function(e){oM.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},lM=function(e,t,n){if(!yP(e)||"object"!==nM(e))return null;var r=null;return Object.keys(e).forEach(function(a){var i=e[a];oM.includes(a)&&"function"==typeof i&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))}),r},cM=["children"],uM=["children"];function dM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fM(e){return(fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pM=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},mM=null,vM=null,gM=function e(t){if(t===mM&&Array.isArray(vM))return vM;var n=[];return q.Children.forEach(t,function(t){pA(t)||(LA.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))}),vM=n,mM=t,n};function yM(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return pM(e)}):[pM(t)],gM(e).forEach(function(e){var t=hA(e,"type.displayName")||hA(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function xM(e,t){var n=yM(e,t);return n&&n[0]}var bM=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!HA(n)||n<=0||!HA(r)||r<=0)},jM=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wM=function(e){return e&&"object"===fM(e)&&"clipDot"in e},NM=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(q.isValidElement(e)&&(r=e.props),!yP(r))return null;var a={};return Object.keys(r).forEach(function(e){var i;(function(e,t,n,r){var a,i=null!==(a=null==iM?void 0:iM[r])&&void 0!==a?a:[];return t.startsWith("data-")||!wP(e)&&(r&&i.includes(t)||rM.includes(t))||n&&oM.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(a[e]=r[e])}),a},_M=function e(t,n){if(t===n)return!0;var r=q.Children.count(t);if(r!==q.Children.count(n))return!1;if(0===r)return!0;if(1===r)return kM(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!kM(i,o))return!1}return!0},kM=function(e,t){if(pA(e)&&pA(t))return!0;if(!pA(e)&&!pA(t)){var n=e.props||{},r=n.children,a=dM(n,cM),i=t.props||{},o=i.children,s=dM(i,uM);return r&&o?tM(a,s)&&_M(r,o):!r&&!o&&tM(a,s)}return!1},SM=function(e,t){var n=[],r={};return gM(e).forEach(function(e,a){if(function(e){return e&&e.type&&yA(e.type)&&jM.indexOf(e.type)>=0}(e))n.push(e);else if(e){var i=pM(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!r[i])){var c=s(e,i,a);n.push(c),r[i]=!0}}}),n},OM=["children","width","height","viewBox","className","style","title","desc"];function EM(){return EM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EM.apply(this,arguments)}function CM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function PM(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,c=CM(e,OM),u=a||{width:n,height:r,x:0,y:0},d=dy("recharts-surface",i);return V.createElement("svg",EM({},NM(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),V.createElement("title",null,s),V.createElement("desc",null,l),t)}var TM=["children","className"];function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AM.apply(this,arguments)}function MM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var DM=V.forwardRef(function(e,t){var n=e.children,r=e.className,a=MM(e,TM),i=dy("recharts-layer",r);return V.createElement("g",AM({className:i},NM(a,!0),{ref:t}),n)}),IM=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]};var RM=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i},LM=RM;var FM=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:LM(e,t,n)},zM=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var BM=function(e){return zM.test(e)};var $M=function(e){return e.split("")},UM="\\ud800-\\udfff",WM="["+UM+"]",qM="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",VM="\\ud83c[\\udffb-\\udfff]",HM="[^"+UM+"]",KM="(?:\\ud83c[\\udde6-\\uddff]){2}",GM="[\\ud800-\\udbff][\\udc00-\\udfff]",YM="(?:"+qM+"|"+VM+")"+"?",XM="[\\ufe0e\\ufe0f]?",JM=XM+YM+("(?:\\u200d(?:"+[HM,KM,GM].join("|")+")"+XM+YM+")*"),QM="(?:"+[HM+qM+"?",qM,KM,GM,WM].join("|")+")",ZM=RegExp(VM+"(?="+VM+")|"+QM+JM,"g");var eD=$M,tD=BM,nD=function(e){return e.match(ZM)||[]};var rD=FM,aD=BM,iD=function(e){return tD(e)?nD(e):eD(e)},oD=eA;const sD=a(function(e){return function(t){t=oD(t);var n=aD(t)?iD(t):void 0,r=n?n[0]:t.charAt(0),a=n?rD(n,1).join(""):t.slice(1);return r[e]()+a}}("toUpperCase"));function lD(e){return function(){return e}}const cD=Math.cos,uD=Math.sin,dD=Math.sqrt,fD=Math.PI,hD=2*fD,pD=Math.PI,mD=2*pD,vD=1e-6,gD=mD-vD;function yD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class xD{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?yD:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yD;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=n-e,l=r-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>vD)if(Math.abs(u*s-l*c)>vD&&a){let f=n-i,h=r-o,p=s*s+l*l,m=f*f+h*h,v=Math.sqrt(p),g=Math.sqrt(d),y=a*Math.tan((pD-Math.acos((p+d-m)/(2*v*g)))/2),x=y/g,b=y/v;Math.abs(x-1)>vD&&this._append`L${e+x*c},${t+x*u}`,this._append`A${a},${a},0,0,${+(u*f>c*h)},${this._x1=e+b*s},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^i,d=i?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>vD||Math.abs(this._y1-c)>vD)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%mD+mD),d>gD?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>vD&&this._append`A${n},${n},0,${+(d>=pD)},${u},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function bD(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new xD(t)}function jD(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function wD(e){this._context=e}function ND(e){return new wD(e)}function _D(e){return e[0]}function kD(e){return e[1]}function SD(e,t){var n=lD(!0),r=null,a=ND,i=null,o=bD(s);function s(s){var l,c,u,d=(s=jD(s)).length,f=!1;for(null==r&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"==typeof e?e:void 0===e?_D:lD(e),t="function"==typeof t?t:void 0===t?kD:lD(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:lD(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:lD(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:lD(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),s):r},s}function OD(e,t,n){var r=null,a=lD(!0),i=null,o=ND,s=null,l=bD(c);function c(c){var u,d,f,h,p,m=(c=jD(c)).length,v=!1,g=new Array(m),y=new Array(m);for(null==i&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&a(h=c[u],u,c))===v)if(v=!v)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(g[f],y[f]);s.lineEnd(),s.areaEnd()}v&&(g[u]=+e(h,u,c),y[u]=+t(h,u,c),s.point(r?+r(h,u,c):g[u],n?+n(h,u,c):y[u]))}if(p)return s=null,p+""||null}function u(){return SD().defined(a).curve(o).context(i)}return e="function"==typeof e?e:void 0===e?_D:lD(+e),t="function"==typeof t?t:lD(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?kD:lD(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:lD(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:lD(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:lD(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:lD(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:lD(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:lD(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:lD(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}wD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class ED{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const CD={draw(e,t){const n=dD(t/fD);e.moveTo(n,0),e.arc(0,0,n,0,hD)}},PD={draw(e,t){const n=dD(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},TD=dD(1/3),AD=2*TD,MD={draw(e,t){const n=dD(t/AD),r=n*TD;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},DD={draw(e,t){const n=dD(t),r=-n/2;e.rect(r,r,n,n)}},ID=uD(fD/10)/uD(7*fD/10),RD=uD(hD/10)*ID,LD=-cD(hD/10)*ID,FD={draw(e,t){const n=dD(.8908130915292852*t),r=RD*n,a=LD*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=hD*i/5,o=cD(t),s=uD(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*a,s*r+o*a)}e.closePath()}},zD=dD(3),BD={draw(e,t){const n=-dD(t/(3*zD));e.moveTo(0,2*n),e.lineTo(-zD*n,-n),e.lineTo(zD*n,-n),e.closePath()}},$D=-.5,UD=dD(3)/2,WD=1/dD(12),qD=3*(WD/2+1),VD={draw(e,t){const n=dD(t/qD),r=n/2,a=n*WD,i=r,o=n*WD+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo($D*r-UD*a,UD*r+$D*a),e.lineTo($D*i-UD*o,UD*i+$D*o),e.lineTo($D*s-UD*l,UD*s+$D*l),e.lineTo($D*r+UD*a,$D*a-UD*r),e.lineTo($D*i+UD*o,$D*o-UD*i),e.lineTo($D*s+UD*l,$D*l-UD*s),e.closePath()}};function HD(){}function KD(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function GD(e){this._context=e}function YD(e){this._context=e}function XD(e){this._context=e}function JD(e){this._context=e}function QD(e){return e<0?-1:1}function ZD(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(QD(i)+QD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function eI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tI(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function nI(e){this._context=e}function rI(e){this._context=new aI(e)}function aI(e){this._context=e}function iI(e){this._context=e}function oI(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function sI(e,t){this._context=e,this._t=t}function lI(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function cI(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function uI(e,t){return e[t]}function dI(e){const t=[];return t.key=e,t}function fI(e){return(fI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}GD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:KD(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:KD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},YD.prototype={areaStart:HD,areaEnd:HD,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:KD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},XD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:KD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},JD.prototype={areaStart:HD,areaEnd:HD,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tI(this,this._t0,eI(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tI(this,eI(this,n=ZD(this,e,t)),n);break;default:tI(this,this._t0,n=ZD(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(rI.prototype=Object.create(nI.prototype)).point=function(e,t){nI.prototype.point.call(this,t,e)},aI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},iI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=oI(e),a=oI(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},sI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var hI=["type","size","sizeType"];function pI(){return pI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pI.apply(this,arguments)}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(t){gI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gI(e,t,n){var r;return r=function(e,t){if("object"!=fI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fI(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xI={symbolCircle:CD,symbolCross:PD,symbolDiamond:MD,symbolSquare:DD,symbolStar:FD,symbolTriangle:BD,symbolWye:VD},bI=Math.PI/180,jI=function(e){var t,n,r=e.type,a=void 0===r?"circle":r,i=e.size,o=void 0===i?64:i,s=e.sizeType,l=void 0===s?"area":s,c=vI(vI({},yI(e,hI)),{},{type:a,size:o,sizeType:l}),u=c.className,d=c.cx,f=c.cy,h=NM(c,!0);return d===+d&&f===+f&&o===+o?V.createElement("path",pI({},h,{className:dy("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:(t=function(e){var t="symbol".concat(sD(e));return xI[t]||CD}(a),n=function(e,t){let n=null,r=bD(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"==typeof e?e:lD(e||CD),t="function"==typeof t?t:lD(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:lD(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:lD(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*bI;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,l,a)),n())})):null};function wI(e){return(wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NI(){return NI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NI.apply(this,arguments)}function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kI(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TI(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SI(e,t,n){return t=EI(t),function(e,t){if(t&&("object"===wI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OI()?Reflect.construct(t,n||[],EI(e).constructor):t.apply(e,n))}function OI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(OI=function(){return!!e})()}function EI(e){return(EI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CI(e,t){return(CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function PI(e,t,n){return(t=TI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TI(e){var t=function(e,t){if("object"!=wI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wI(t)?t:t+""}jI.registerSymbol=function(e,t){xI["symbol".concat(sD(e))]=t};var AI=32,MI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),SI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CI(e,t)}(e,q.PureComponent),kI(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=AI/6,a=AI/3,i=e.inactive?t:e.color;if("plainline"===e.type)return V.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:AI,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return V.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(AI,"M").concat(2*a,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return V.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(AI,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(V.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(t){PI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete o.legendIcon,V.cloneElement(e.legendIcon,o)}return V.createElement(jI,{fill:i,cx:n,cy:n,size:AI,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,a=t.layout,i=t.formatter,o=t.inactiveColor,s={x:0,y:0,width:AI,height:AI},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var a=t.formatter||i,u=dy(PI(PI({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=wP(t.value)?null:t.value;IM(!wP(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?o:t.color;return V.createElement("li",NI({className:u,style:l,key:"legend-item-".concat(n)},lM(e.props,t,n)),V.createElement(PM,{width:r,height:r,viewBox:s,style:c},e.renderIcon(t)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},a?a(d,t,n):d))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}();PI(MI,"displayName","Legend"),PI(MI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DI=bT;var II=bT,RI=jT,LI=LT;var FI=bT,zI=function(){this.__data__=new DI,this.size=0},BI=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$I=function(e){return this.__data__.get(e)},UI=function(e){return this.__data__.has(e)},WI=function(e,t){var n=this.__data__;if(n instanceof II){var r=n.__data__;if(!RI||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new LI(r)}return n.set(e,t),this.size=n.size,this};function qI(e){var t=this.__data__=new FI(e);this.size=t.size}qI.prototype.clear=zI,qI.prototype.delete=BI,qI.prototype.get=$I,qI.prototype.has=UI,qI.prototype.set=WI;var VI=qI;var HI=LT,KI=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},GI=function(e){return this.__data__.has(e)};function YI(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new HI;++t<n;)this.add(e[t])}YI.prototype.add=YI.prototype.push=KI,YI.prototype.has=GI;var XI=YI;var JI=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var QI=function(e,t){return e.has(t)},ZI=XI,eR=JI,tR=QI;var nR=function(e,t,n,r,a,i){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,f=!0,h=2&n?new ZI:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var v=o?r(m,p,d,t,e,i):r(p,m,d,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!eR(t,function(e,t){if(!tR(h,t)&&(p===e||a(p,e,n,r,i)))return h.push(t)})){f=!1;break}}else if(p!==m&&!a(p,m,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},rR=YC.Uint8Array;var aR=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},iR=rR,oR=oT,sR=nR,lR=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},cR=aR,uR=XC?XC.prototype:void 0,dR=uR?uR.valueOf:void 0;var fR=function(e,t,n,r,a,i,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new iR(e),new iR(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return oR(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=lR;case"[object Set]":var l=1&r;if(s||(s=cR),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=sR(s(e),s(t),r,a,i,o);return o.delete(e),u;case"[object Symbol]":if(dR)return dR.call(e)==dR.call(t)}return!1};var hR=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e},pR=hR,mR=VC;var vR=function(e,t,n){var r=t(e);return mR(e)?r:pR(r,n(e))};var gR=function(){return[]},yR=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i},xR=gR,bR=Object.prototype.propertyIsEnumerable,jR=Object.getOwnPropertySymbols,wR=jR?function(e){return null==e?[]:(e=Object(e),yR(jR(e),function(t){return bR.call(e,t)}))}:xR;var NR=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},_R=sP,kR=lP;var SR,OR,ER,CR,PR,TR,AR,MR,DR=function(e){return kR(e)&&"[object Arguments]"==_R(e)},IR=lP,RR=Object.prototype,LR=RR.hasOwnProperty,FR=RR.propertyIsEnumerable,zR=DR(function(){return arguments}())?DR:function(e){return IR(e)&&LR.call(e,"callee")&&!FR.call(e,"callee")},BR={exports:{}};SR=BR,ER=YC,CR=function(){return!1},PR=(OR=BR.exports)&&!OR.nodeType&&OR,TR=PR&&SR&&!SR.nodeType&&SR,AR=TR&&TR.exports===PR?ER.Buffer:void 0,MR=(AR?AR.isBuffer:void 0)||CR,SR.exports=MR;var $R=BR.exports,UR=/^(?:0|[1-9]\d*)$/;var WR=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&UR.test(e))&&e>-1&&e%1==0&&e<t};var qR=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},VR=sP,HR=qR,KR=lP,GR={};GR["[object Float32Array]"]=GR["[object Float64Array]"]=GR["[object Int8Array]"]=GR["[object Int16Array]"]=GR["[object Int32Array]"]=GR["[object Uint8Array]"]=GR["[object Uint8ClampedArray]"]=GR["[object Uint16Array]"]=GR["[object Uint32Array]"]=!0,GR["[object Arguments]"]=GR["[object Array]"]=GR["[object ArrayBuffer]"]=GR["[object Boolean]"]=GR["[object DataView]"]=GR["[object Date]"]=GR["[object Error]"]=GR["[object Function]"]=GR["[object Map]"]=GR["[object Number]"]=GR["[object Object]"]=GR["[object RegExp]"]=GR["[object Set]"]=GR["[object String]"]=GR["[object WeakMap]"]=!1;var YR=function(e){return KR(e)&&HR(e.length)&&!!GR[VR(e)]};var XR=function(e){return function(t){return e(t)}},JR={exports:{}};!function(e,t){var n=HC,r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r&&n.process,o=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(Fte){}}();e.exports=o}(JR,JR.exports);var QR=JR.exports,ZR=YR,eL=XR,tL=QR&&QR.isTypedArray,nL=tL?eL(tL):ZR,rL=NR,aL=zR,iL=VC,oL=$R,sL=WR,lL=nL,cL=Object.prototype.hasOwnProperty;var uL=function(e,t){var n=iL(e),r=!n&&aL(e),a=!n&&!r&&oL(e),i=!n&&!r&&!a&&lL(e),o=n||r||a||i,s=o?rL(e.length,String):[],l=s.length;for(var c in e)!t&&!cL.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||sL(c,l))||s.push(c);return s},dL=Object.prototype;var fL=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||dL)};var hL=function(e,t){return function(n){return e(t(n))}},pL=hL(Object.keys,Object),mL=fL,vL=pL,gL=Object.prototype.hasOwnProperty;var yL=jP,xL=qR;var bL=function(e){return null!=e&&xL(e.length)&&!yL(e)},jL=uL,wL=function(e){if(!mL(e))return vL(e);var t=[];for(var n in Object(e))gL.call(e,n)&&"constructor"!=n&&t.push(n);return t},NL=bL;var _L=function(e){return NL(e)?jL(e):wL(e)},kL=vR,SL=wR,OL=_L;var EL=function(e){return kL(e,OL,SL)},CL=EL,PL=Object.prototype.hasOwnProperty;var TL=function(e,t,n,r,a,i){var o=1&n,s=CL(e),l=s.length;if(l!=CL(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:PL.call(t,u)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=o;++c<l;){var m=e[u=s[c]],v=t[u];if(r)var g=o?r(v,m,u,t,e,i):r(m,v,u,e,t,i);if(!(void 0===g?m===v||a(m,v,n,r,i):g)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var y=e.constructor,x=t.constructor;y==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(h=!1)}return i.delete(e),i.delete(t),h},AL=$P(YC,"DataView"),ML=$P(YC,"Promise"),DL=$P(YC,"Set"),IL=AL,RL=jT,LL=ML,FL=DL,zL=$P(YC,"WeakMap"),BL=sP,$L=EP,UL="[object Map]",WL="[object Promise]",qL="[object Set]",VL="[object WeakMap]",HL="[object DataView]",KL=$L(IL),GL=$L(RL),YL=$L(LL),XL=$L(FL),JL=$L(zL),QL=BL;(IL&&QL(new IL(new ArrayBuffer(1)))!=HL||RL&&QL(new RL)!=UL||LL&&QL(LL.resolve())!=WL||FL&&QL(new FL)!=qL||zL&&QL(new zL)!=VL)&&(QL=function(e){var t=BL(e),n="[object Object]"==t?e.constructor:void 0,r=n?$L(n):"";if(r)switch(r){case KL:return HL;case GL:return UL;case YL:return WL;case XL:return qL;case JL:return VL}return t});var ZL=QL,eF=VI,tF=nR,nF=fR,rF=TL,aF=ZL,iF=VC,oF=$R,sF=nL,lF="[object Arguments]",cF="[object Array]",uF="[object Object]",dF=Object.prototype.hasOwnProperty;var fF=function(e,t,n,r,a,i){var o=iF(e),s=iF(t),l=o?cF:aF(e),c=s?cF:aF(t),u=(l=l==lF?uF:l)==uF,d=(c=c==lF?uF:c)==uF,f=l==c;if(f&&oF(e)){if(!oF(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new eF),o||sF(e)?tF(e,t,n,r,a,i):nF(e,t,l,n,r,a,i);if(!(1&n)){var h=u&&dF.call(e,"__wrapped__"),p=d&&dF.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,v=p?t.value():t;return i||(i=new eF),a(m,v,n,r,i)}}return!!f&&(i||(i=new eF),rF(e,t,n,r,a,i))},hF=lP;var pF=function e(t,n,r,a,i){return t===n||(null==t||null==n||!hF(t)&&!hF(n)?t!=t&&n!=n:fF(t,n,r,a,e,i))},mF=VI,vF=pF;var gF=gP;var yF=function(e){return e==e&&!gF(e)},xF=yF,bF=_L;var jF=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},wF=function(e,t,n,r){var a=n.length,i=a,o=!r;if(null==e)return!i;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){var l=(s=n[a])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new mF;if(r)var f=r(c,u,l,e,t,d);if(!(void 0===f?vF(u,c,3,r,d):f))return!1}}return!0},NF=function(e){for(var t=bF(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,xF(a)]}return t},_F=jF;var kF=iA,SF=zR,OF=VC,EF=WR,CF=qR,PF=sA;var TF=function(e,t){return null!=e&&t in Object(e)},AF=function(e,t,n){for(var r=-1,a=(t=kF(t,e)).length,i=!1;++r<a;){var o=PF(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&CF(a)&&EF(o,a)&&(OF(e)||SF(e))};var MF=pF,DF=fA,IF=function(e,t){return null!=e&&AF(e,t,TF)},RF=vP,LF=yF,FF=jF,zF=sA;var BF=function(e){return e};var $F=uA;var UF=function(e){return function(t){return null==t?void 0:t[e]}},WF=function(e){return function(t){return $F(t,e)}},qF=vP,VF=sA;var HF=function(e){var t=NF(e);return 1==t.length&&t[0][2]?_F(t[0][0],t[0][1]):function(n){return n===e||wF(n,e,t)}},KF=function(e,t){return RF(e)&&LF(t)?FF(zF(e),t):function(n){var r=DF(n,e);return void 0===r&&r===t?IF(n,e):MF(t,r,3)}},GF=BF,YF=VC,XF=function(e){return qF(e)?UF(VF(e)):WF(e)};var JF=function(e){return"function"==typeof e?e:null==e?GF:"object"==typeof e?YF(e)?KF(e[0],e[1]):HF(e):XF(e)};var QF=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1};var ZF=QF,ez=function(e){return e!=e},tz=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1};var nz=function(e,t,n){return t==t?tz(e,t,n):ZF(e,ez,n)};var rz=function(e,t){return!!(null==e?0:e.length)&&nz(e,t,0)>-1};var az=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1};var iz=DL,oz=function(){},sz=iz&&1/aR(new iz([,-0]))[1]==1/0?function(e){return new iz(e)}:oz,lz=XI,cz=rz,uz=az,dz=QI,fz=sz,hz=aR;var pz=JF,mz=function(e,t,n){var r=-1,a=cz,i=e.length,o=!0,s=[],l=s;if(n)o=!1,a=uz;else if(i>=200){var c=t?null:fz(e);if(c)return hz(c);o=!1,a=dz,l=new lz}else l=t?[]:s;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s};const vz=a(function(e,t){return e&&e.length?mz(e,pz(t)):[]});function gz(e,t,n){return!0===t?vz(e,n):wP(t)?vz(e,t):e}function yz(e){return(yz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var xz=["ref"];function bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bz(Object(n),!0).forEach(function(t){Oz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ez(r.key),r)}}function Nz(e,t,n){return t=kz(t),function(e,t){if(t&&("object"===yz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_z()?Reflect.construct(t,n||[],kz(e).constructor):t.apply(e,n))}function _z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_z=function(){return!!e})()}function kz(e){return(kz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sz(e,t){return(Sz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Oz(e,t,n){return(t=Ez(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ez(e){var t=function(e,t){if("object"!=yz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yz(t)?t:t+""}function Cz(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pz(e){return e.value}var Tz=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Oz(t=Nz(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sz(e,t)}(e,q.PureComponent),t=e,r=[{key:"getWithHeight",value:function(e,t){var n=jz(jz({},this.defaultProps),e.props).layout;return"vertical"===n&&HA(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?jz({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,i=r.align,o=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),jz(jz({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,a=t.height,i=t.wrapperStyle,o=t.payloadUniqBy,s=t.payload,l=jz(jz({position:"absolute",width:r||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return V.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if("function"==typeof e)return V.createElement(e,t);t.ref;var n=Cz(t,xz);return V.createElement(MI,n)}(n,jz(jz({},this.props),{},{payload:gz(s,o,Pz)})))}}])&&wz(t.prototype,n),r&&wz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Oz(Tz,"displayName","Legend"),Oz(Tz,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Az=zR,Mz=VC,Dz=XC?XC.isConcatSpreadable:void 0;var Iz=hR,Rz=function(e){return Mz(e)||Az(e)||!!(Dz&&e&&e[Dz])};var Lz=function e(t,n,r,a,i){var o=-1,s=t.length;for(r||(r=Rz),i||(i=[]);++o<s;){var l=t[o];n>0&&r(l)?n>1?e(l,n-1,r,a,i):Iz(i,l):a||(i[i.length]=l)}return i};var Fz=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(i[l],l,i))break}return t}}(),zz=_L;var Bz=function(e,t){return e&&Fz(e,t,zz)},$z=bL;var Uz=function(e,t){return function(n,r){if(null==n)return n;if(!$z(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}(Bz),Wz=Uz,qz=bL;var Vz=function(e,t){var n=-1,r=qz(e)?Array(e.length):[];return Wz(e,function(e,a,i){r[++n]=t(e,a,i)}),r};var Hz=dP;var Kz=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,a=e==e,i=Hz(e),o=void 0!==t,s=null===t,l=t==t,c=Hz(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!a)return 1;if(!r&&!i&&!c&&e<t||c&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!l)return-1}return 0};var Gz=HT,Yz=uA,Xz=JF,Jz=Vz,Qz=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},Zz=XR,eB=function(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,s=n.length;++r<o;){var l=Kz(a[r],i[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},tB=BF,nB=VC;var rB=function(e,t,n){t=t.length?Gz(t,function(e){return nB(e)?function(t){return Yz(t,1===e.length?e[0]:e)}:e}):[tB];var r=-1;t=Gz(t,Zz(Xz));var a=Jz(e,function(e,n,a){return{criteria:Gz(t,function(t){return t(e)}),index:++r,value:e}});return Qz(a,function(e,t){return eB(e,t,n)})};var aB=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},iB=Math.max;var oB=function(e,t,n){return t=iB(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=iB(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),aB(e,this,s)}};var sB=function(e){return function(){return e}},lB=$P,cB=function(){try{var e=lB(Object,"defineProperty");return e({},"",{}),e}catch(Fte){}}(),uB=sB,dB=cB,fB=dB?function(e,t){return dB(e,"toString",{configurable:!0,enumerable:!1,value:uB(t),writable:!0})}:BF,hB=Date.now;var pB=function(e){var t=0,n=0;return function(){var r=hB(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(fB),mB=BF,vB=oB,gB=pB;var yB=oT,xB=bL,bB=WR,jB=gP;var wB=function(e,t,n){if(!jB(n))return!1;var r=typeof t;return!!("number"==r?xB(n)&&bB(t,n.length):"string"==r&&t in n)&&yB(n[t],e)},NB=Lz,_B=rB,kB=wB;const SB=a(function(e,t){return gB(vB(e,t,mB),e+"")}(function(e,t){if(null==e)return[];var n=t.length;return n>1&&kB(e,t[0],t[1])?t=[]:n>2&&kB(t[0],t[1],t[2])&&(t=[t[0]]),_B(e,NB(t,1),[])}));function OB(e){return(OB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EB(){return EB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EB.apply(this,arguments)}function CB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TB(Object(n),!0).forEach(function(t){MB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function MB(e,t,n){var r;return r=function(e,t){if("object"!=OB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==OB(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DB(e){return Array.isArray(e)&&KA(e[0])&&KA(e[1])?e.join(" ~ "):e}var IB=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,a=void 0===r?{}:r,i=e.itemStyle,o=void 0===i?{}:i,s=e.labelStyle,l=void 0===s?{}:s,c=e.payload,u=e.formatter,d=e.itemSorter,f=e.wrapperClassName,h=e.labelClassName,p=e.label,m=e.labelFormatter,v=e.accessibilityLayer,g=void 0!==v&&v,y=AB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=AB({margin:0},l),b=!pA(p),j=b?p:"",w=dy("recharts-default-tooltip",f),N=dy("recharts-tooltip-label",h);b&&m&&null!=c&&(j=m(p,c));var _=g?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",EB({className:w,style:y},_),V.createElement("p",{className:N,style:x},V.isValidElement(j)?j:"".concat(j)),function(){if(c&&c.length){var e=(d?SB(c,d):c).map(function(e,t){if("none"===e.type)return null;var r=AB({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),a=e.formatter||u||DB,i=e.value,s=e.name,l=i,d=s;if(a&&null!=l&&null!=d){var f=a(i,s,e,t,c);if(Array.isArray(f)){var h=CB(f,2);l=h[0],d=h[1]}else l=f}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},KA(d)?V.createElement("span",{className:"recharts-tooltip-item-name"},d):null,KA(d)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},l),V.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function RB(e){return(RB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LB(e,t,n){var r;return r=function(e,t){if("object"!=RB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==RB(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FB="recharts-tooltip-wrapper",zB={visibility:"hidden"};function BB(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return dy(FB,LB(LB(LB(LB({},"".concat(FB,"-right"),HA(n)&&t&&HA(t.x)&&n>=t.x),"".concat(FB,"-left"),HA(n)&&t&&HA(t.x)&&n<t.x),"".concat(FB,"-bottom"),HA(r)&&t&&HA(t.y)&&r>=t.y),"".concat(FB,"-top"),HA(r)&&t&&HA(t.y)&&r<t.y))}function $B(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&HA(i[r]))return i[r];var u=n[r]-s-a,d=n[r]+a;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function UB(e){return(UB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WB(Object(n),!0).forEach(function(t){XB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VB(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JB(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HB(e,t,n){return t=GB(t),function(e,t){if(t&&("object"===UB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KB()?Reflect.construct(t,n||[],GB(e).constructor):t.apply(e,n))}function KB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(KB=function(){return!!e})()}function GB(e){return(GB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YB(e,t){return(YB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function XB(e,t,n){return(t=JB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JB(e){var t=function(e,t){if("object"!=UB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UB(t)?t:t+""}var QB=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return XB(t=HB(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),XB(t,"handleKeyDown",function(e){var n,r,a,i;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(i=t.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YB(e,t)}(e,q.PureComponent),VB(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,o=t.children,s=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,d=t.position,f=t.reverseDirection,h=t.useTranslate3d,p=t.viewBox,m=t.wrapperStyle,v=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=$B({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=$B({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):zB,cssClasses:BB({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:p}),g=v.cssClasses,y=v.cssProperties,x=qB(qB({transition:c&&n?"transform ".concat(a,"ms ").concat(i):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return V.createElement("div",{tabIndex:-1,className:g,style:x,ref:function(t){e.wrapperNode=t}},o)}}])}(),ZB={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return ZB[e]},set:function(e,t){if("string"==typeof e)ZB[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){ZB[t]=e[t]})}}};function e$(e){return(e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t$(Object(n),!0).forEach(function(t){l$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r$(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c$(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$(e,t,n){return t=o$(t),function(e,t){if(t&&("object"===e$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i$()?Reflect.construct(t,n||[],o$(e).constructor):t.apply(e,n))}function i$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(i$=function(){return!!e})()}function o$(e){return(o$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s$(e,t){return(s$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l$(e,t,n){return(t=c$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c$(e){var t=function(e,t){if("object"!=e$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e$(t)?t:t+""}function u$(e){return e.dataKey}var d$=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a$(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s$(e,t)}(e,q.PureComponent),r$(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,o=t.content,s=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,d=t.payload,f=t.payloadUniqBy,h=t.position,p=t.reverseDirection,m=t.useTranslate3d,v=t.viewBox,g=t.wrapperStyle,y=null!=d?d:[];l&&y.length&&(y=gz(d.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,u$));var x=y.length>0;return V.createElement(QB,{allowEscapeViewBox:r,animationDuration:a,animationEasing:i,isAnimationActive:c,active:n,coordinate:s,hasPayload:x,offset:u,position:h,reverseDirection:p,useTranslate3d:m,viewBox:v,wrapperStyle:g},function(e,t){return V.isValidElement(e)?V.cloneElement(e,t):"function"==typeof e?V.createElement(e,t):V.createElement(IB,t)}(o,n$(n$({},this.props),{},{payload:y})))}}])}();l$(d$,"displayName","Tooltip"),l$(d$,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ZB.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var f$=YC,h$=/\s/;var p$=function(e){for(var t=e.length;t--&&h$.test(e.charAt(t)););return t},m$=/^\s+/;var v$=function(e){return e?e.slice(0,p$(e)+1).replace(m$,""):e},g$=gP,y$=dP,x$=/^[-+]0x[0-9a-f]+$/i,b$=/^0b[01]+$/i,j$=/^0o[0-7]+$/i,w$=parseInt;var N$=function(e){if("number"==typeof e)return e;if(y$(e))return NaN;if(g$(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=v$(e);var n=b$.test(e);return n||j$.test(e)?w$(e.slice(2),n?2:8):x$.test(e)?NaN:+e},_$=gP,k$=function(){return f$.Date.now()},S$=N$,O$=Math.max,E$=Math.min;var C$=function(e,t,n){var r,a,i,o,s,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,i=a;return r=a=void 0,c=t,o=e.apply(i,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function m(){var e=k$();if(p(e))return v(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?E$(n,i-(e-c)):n}(e))}function v(e){return s=void 0,f&&r?h(e):(r=a=void 0,o)}function g(){var e=k$(),n=p(e);if(r=arguments,a=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?h(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),h(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=S$(t)||0,_$(n)&&(u=!!n.leading,i=(d="maxWait"in n)?O$(S$(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=a=s=void 0},g.flush=function(){return void 0===s?o:v(k$())},g},P$=C$,T$=gP;var A$=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return T$(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),P$(e,t,{leading:r,maxWait:t,trailing:a})};const M$=a(A$);function D$(e){return(D$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I$(Object(n),!0).forEach(function(t){L$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L$(e,t,n){var r;return r=function(e,t){if("object"!=D$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==D$(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B$=q.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=void 0===r?{width:-1,height:-1}:r,i=e.width,o=void 0===i?"100%":i,s=e.height,l=void 0===s?"100%":s,c=e.minWidth,u=void 0===c?0:c,d=e.minHeight,f=e.maxHeight,h=e.children,p=e.debounce,m=void 0===p?0:p,v=e.id,g=e.className,y=e.onResize,x=e.style,b=void 0===x?{}:x,j=q.useRef(null),w=q.useRef();w.current=y,q.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return j.current},configurable:!0})});var N=F$(q.useState({containerWidth:a.width,containerHeight:a.height}),2),_=N[0],k=N[1],S=q.useCallback(function(e,t){k(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);q.useEffect(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;S(r,a),null===(t=w.current)||void 0===t||t.call(w,r,a)};m>0&&(e=M$(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,a=n.height;return S(r,a),t.observe(j.current),function(){t.disconnect()}},[S,m]);var O=q.useMemo(function(){var e=_.containerWidth,t=_.containerHeight;if(e<0||t<0)return null;IM(VA(o)||VA(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,l),IM(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=VA(o)?e:o,a=VA(l)?t:l;n&&n>0&&(r?a=r/n:a&&(r=a*n),f&&a>f&&(a=f)),IM(r>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,a,o,l,u,d,n);var i=!Array.isArray(h)&&pM(h.type).endsWith("Chart");return V.Children.map(h,function(e){return V.isValidElement(e)?q.cloneElement(e,R$({width:r,height:a},i?{style:R$({height:"100%",width:"100%",maxHeight:a,maxWidth:r},e.props.style)}:{})):e})},[n,h,l,f,d,u,_,o]);return V.createElement("div",{id:v?"".concat(v):void 0,className:dy("recharts-responsive-container",g),style:R$(R$({},b),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:j},O)}),$$=function(e){return null};function U$(e){return(U$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W$(Object(n),!0).forEach(function(t){V$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V$(e,t,n){var r;return r=function(e,t){if("object"!=U$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==U$(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$$.displayName="Cell";var H$={widthCache:{},cacheCount:0},K$={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},G$="recharts_measurement_span";var Y$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||ZB.isSsr)return{width:0,height:0};var n,r=(n=q$({},t),Object.keys(n).forEach(function(e){n[e]||delete n[e]}),n),a=JSON.stringify({text:e,copyStyle:r});if(H$.widthCache[a])return H$.widthCache[a];try{var i=document.getElementById(G$);i||((i=document.createElement("span")).setAttribute("id",G$),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=q$(q$({},K$),r);Object.assign(i.style,o),i.textContent="".concat(e);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return H$.widthCache[a]=l,++H$.cacheCount>2e3&&(H$.cacheCount=0,H$.widthCache={}),l}catch(Fte){return{width:0,height:0}}};function X$(e){return(X$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eU(r.key),r)}}function eU(e){var t=function(e,t){if("object"!=X$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=X$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==X$(t)?t:t+""}var tU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},oU=Object.keys(iU),sU="NaN";var lU=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||rU.test(n)||(this.num=NaN,this.unit=""),oU.includes(n)&&(this.num=function(e,t){return e*iU[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=J$(null!==(n=aU.exec(t))&&void 0!==n?n:[],3),a=r[1],i=r[2];return new e(parseFloat(a),null!=i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Z$(t.prototype,n),r&&Z$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function cU(e){if(e.includes(sU))return sU;for(var t=e;t.includes("*")||t.includes("/");){var n,r=J$(null!==(n=tU.exec(t))&&void 0!==n?n:[],4),a=r[1],i=r[2],o=r[3],s=lU.parse(null!=a?a:""),l=lU.parse(null!=o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return sU;t=t.replace(tU,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=J$(null!==(u=nU.exec(t))&&void 0!==u?u:[],4),f=d[1],h=d[2],p=d[3],m=lU.parse(null!=f?f:""),v=lU.parse(null!=p?p:""),g="+"===h?m.add(v):m.subtract(v);if(g.isNaN())return sU;t=t.replace(nU,g.toString())}return t}var uU=/\(([^()]*)\)/;function dU(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=J$(uU.exec(t),2)[1];t=t.replace(uU,cU(n))}return t}(t),t=cU(t)}function fU(e){var t=function(e){try{return dU(e)}catch(Fte){return sU}}(e.slice(5,-1));return t===sU?"":t}var hU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pU=["dx","dy","angle","className","breakAll"];function mU(){return mU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mU.apply(this,arguments)}function vU(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xU=/[ \f\n\r\t\v\u2028\u2029]+/,bU=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return pA(t)||(a=n?t.toString().split(""):t.toString().split(xU)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Y$(e,r).width}}),spaceWidth:n?0:Y$(" ",r).width}}catch(Fte){return null}},jU=function(e){return[{words:pA(e)?[]:e.toString().split(xU)}]},wU=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||n)&&!ZB.isSsr){var s=bU({breakAll:i,children:r,style:a});return s?function(e,t,n,r,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=HA(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==r||a||s.width+o+n<Number(r)))s.words.push(i),s.width+=o+n;else{var l={words:[i],width:o};e.push(l)}return e},[])},f=d(t);if(!c)return f;for(var h,p=function(e){var t=u.slice(0,e),n=bU({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,a=d(n),o=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[o,a]},m=0,v=u.length-1,g=0;m<=v&&g<=u.length-1;){var y=Math.floor((m+v)/2),x=gU(p(y-1),2),b=x[0],j=x[1],w=gU(p(y),1)[0];if(b||w||(m=y+1),b&&w&&(v=y-1),!b&&w){h=j;break}g++}return h||f}({breakAll:i,children:r,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,n):jU(r)}return jU(r)},NU="#808080",_U=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.lineHeight,o=void 0===i?"1em":i,s=e.capHeight,l=void 0===s?"0.71em":s,c=e.scaleToFit,u=void 0!==c&&c,d=e.textAnchor,f=void 0===d?"start":d,h=e.verticalAnchor,p=void 0===h?"end":h,m=e.fill,v=void 0===m?NU:m,g=vU(e,hU),y=q.useMemo(function(){return wU({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),x=g.dx,b=g.dy,j=g.angle,w=g.className,N=g.breakAll,_=vU(g,pU);if(!KA(n)||!KA(a))return null;var k,S=n+(HA(x)?x:0),O=a+(HA(b)?b:0);switch(p){case"start":k=fU("calc(".concat(l,")"));break;case"middle":k=fU("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:k=fU("calc(".concat(y.length-1," * -").concat(o,")"))}var E=[];if(u){var C=y[0].width,P=g.width;E.push("scale(".concat((HA(P)?P/C:1)/C,")"))}return j&&E.push("rotate(".concat(j,", ").concat(S,", ").concat(O,")")),E.length&&(_.transform=E.join(" ")),V.createElement("text",mU({},NM(_,!0),{x:S,y:O,className:dy("recharts-text",w),textAnchor:f,fill:v.includes("url")?NU:v}),y.map(function(e,t){var n=e.words.join(N?"":" ");return V.createElement("tspan",{x:S,dy:0===t?k:o,key:"".concat(n,"-").concat(t)},n)}))};function kU(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SU(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OU(e){let t,n,r;function a(e,r,a=0,i=e.length){if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=kU,n=(t,n)=>kU(e(t),n),r=(t,n)=>e(t)-n):(t=e===kU||e===SU?e:EU,n=e,r=e),{left:a,center:function(e,t,n=0,i=e.length){const o=a(e,t,n,i-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r,a=0,i=e.length){if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function EU(){return 0}function CU(e){return null===e?NaN:+e}const PU=OU(kU).right;OU(CU).center;class TU extends Map{constructor(e,t=MU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(AU(this,e))}has(e){return super.has(AU(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function AU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function MU(e){return null!==e&&"object"==typeof e?e.valueOf():e}function DU(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const IU=Math.sqrt(50),RU=Math.sqrt(10),LU=Math.sqrt(2);function FU(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=IU?10:i>=RU?5:i>=LU?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?FU(e,t,2*n):[s,l,c]}function zU(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,o]=r?FU(t,e,n):FU(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function BU(e,t,n){return FU(e=+e,t=+t,n=+n)[2]}function $U(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?BU(t,e,n):BU(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function UU(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function WU(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function qU(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?DU:function(e=kU){if(e===kU)return DU;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(a);r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);qU(e,t,Math.max(n,Math.floor(t-o*l/i+c)),Math.min(r,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=n,s=r;for(VU(e,n,t),a(e[r],i)>0&&VU(e,n,r);o<s;){for(VU(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?VU(e,n,s):(++s,VU(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function VU(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function HU(e,t,n=CU){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}}function KU(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function GU(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const YU=Symbol("implicit");function XU(){var e=new TU,t=[],n=[],r=YU;function a(a){let i=e.get(a);if(void 0===i){if(r!==YU)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new TU;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return XU(t,n).unknown(r)},KU.apply(a,arguments),a}function JU(){var e,t,n=XU().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<i,f=d?o:i,h=d?i:o;e=(h-f)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),f+=(h-f-e*(n-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return f+e*t});return a(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},n.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return JU(r(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},KU.apply(d(),arguments)}function QU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QU(t())},e}function ZU(){return QU(JU.apply(null,arguments).paddingInner(1))}function eW(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tW(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nW(){}var rW=.7,aW=1/rW,iW="\\s*([+-]?\\d+)\\s*",oW="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sW="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lW=/^#([0-9a-f]{3,8})$/,cW=new RegExp(`^rgb\\(${iW},${iW},${iW}\\)$`),uW=new RegExp(`^rgb\\(${sW},${sW},${sW}\\)$`),dW=new RegExp(`^rgba\\(${iW},${iW},${iW},${oW}\\)$`),fW=new RegExp(`^rgba\\(${sW},${sW},${sW},${oW}\\)$`),hW=new RegExp(`^hsl\\(${oW},${sW},${sW}\\)$`),pW=new RegExp(`^hsla\\(${oW},${sW},${sW},${oW}\\)$`),mW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vW(){return this.rgb().formatHex()}function gW(){return this.rgb().formatRgb()}function yW(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?xW(t):3===n?new wW(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?bW(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?bW(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=cW.exec(e))?new wW(t[1],t[2],t[3],1):(t=uW.exec(e))?new wW(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=dW.exec(e))?bW(t[1],t[2],t[3],t[4]):(t=fW.exec(e))?bW(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=hW.exec(e))?EW(t[1],t[2]/100,t[3]/100,1):(t=pW.exec(e))?EW(t[1],t[2]/100,t[3]/100,t[4]):mW.hasOwnProperty(e)?xW(mW[e]):"transparent"===e?new wW(NaN,NaN,NaN,0):null}function xW(e){return new wW(e>>16&255,e>>8&255,255&e,1)}function bW(e,t,n,r){return r<=0&&(e=t=n=NaN),new wW(e,t,n,r)}function jW(e,t,n,r){return 1===arguments.length?((a=e)instanceof nW||(a=yW(a)),a?new wW((a=a.rgb()).r,a.g,a.b,a.opacity):new wW):new wW(e,t,n,null==r?1:r);var a}function wW(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function NW(){return`#${OW(this.r)}${OW(this.g)}${OW(this.b)}`}function _W(){const e=kW(this.opacity);return`${1===e?"rgb(":"rgba("}${SW(this.r)}, ${SW(this.g)}, ${SW(this.b)}${1===e?")":`, ${e})`}`}function kW(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function SW(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function OW(e){return((e=SW(e))<16?"0":"")+e.toString(16)}function EW(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new PW(e,t,n,r)}function CW(e){if(e instanceof PW)return new PW(e.h,e.s,e.l,e.opacity);if(e instanceof nW||(e=yW(e)),!e)return new PW;if(e instanceof PW)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new PW(o,s,l,e.opacity)}function PW(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function TW(e){return(e=(e||0)%360)<0?e+360:e}function AW(e){return Math.max(0,Math.min(1,e||0))}function MW(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}eW(nW,yW,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vW,formatHex:vW,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return CW(this).formatHsl()},formatRgb:gW,toString:gW}),eW(wW,jW,tW(nW,{brighter(e){return e=null==e?aW:Math.pow(aW,e),new wW(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?rW:Math.pow(rW,e),new wW(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wW(SW(this.r),SW(this.g),SW(this.b),kW(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NW,formatHex:NW,formatHex8:function(){return`#${OW(this.r)}${OW(this.g)}${OW(this.b)}${OW(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:_W,toString:_W})),eW(PW,function(e,t,n,r){return 1===arguments.length?CW(e):new PW(e,t,n,null==r?1:r)},tW(nW,{brighter(e){return e=null==e?aW:Math.pow(aW,e),new PW(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?rW:Math.pow(rW,e),new PW(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new wW(MW(e>=240?e-240:e+120,a,r),MW(e,a,r),MW(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new PW(TW(this.h),AW(this.s),AW(this.l),kW(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kW(this.opacity);return`${1===e?"hsl(":"hsla("}${TW(this.h)}, ${100*AW(this.s)}%, ${100*AW(this.l)}%${1===e?")":`, ${e})`}`}}));const DW=e=>()=>e;function IW(e){return 1===(e=+e)?RW:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):DW(isNaN(t)?n:t)}}function RW(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):DW(isNaN(e)?t:e)}const LW=function e(t){var n=IW(t);function r(e,t){var r=n((e=jW(e)).r,(t=jW(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=RW(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function FW(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function zW(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=HW(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function BW(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $W(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function UW(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=HW(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var WW=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qW=new RegExp(WW.source,"g");function VW(e,t){var n,r,a,i=WW.lastIndex=qW.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=WW.exec(e))&&(r=qW.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:$W(n,r)})),i=qW.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function HW(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?DW(t):("number"===a?$W:"string"===a?(n=yW(t))?(t=n,LW):VW:t instanceof yW?LW:t instanceof Date?BW:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?zW:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?UW:$W:FW))(e,t)}function KW(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function GW(e){return+e}var YW=[0,1];function XW(e){return e}function JW(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function QW(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=JW(a,r),i=n(o,i)):(r=JW(r,a),i=n(i,o)),function(e){return i(r(e))}}function ZW(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=JW(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=PU(e,t,1,r)-1;return i[n](a[n](t))}}function eq(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tq(){var e,t,n,r,a,i,o=YW,s=YW,l=HW,c=XW;function u(){var e=Math.min(o.length,s.length);return c!==XW&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?ZW:QW,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(s,o.map(e),$W)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,GW),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=KW,u()},d.clamp=function(e){return arguments.length?(c=!!e||XW,u()):c!==XW},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function nq(){return tq()(XW,XW)}function rq(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function aq(e){return(e=rq(Math.abs(e)))?e[1]:NaN}var iq,oq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sq(e){if(!(t=oq.exec(e)))throw new Error("invalid format: "+e);var t;return new lq({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function lq(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function cq(e,t){var n=rq(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}sq.prototype=lq.prototype,lq.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const uq={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cq(100*e,t),r:cq,s:function(e,t){var n=rq(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(iq=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+rq(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dq(e){return e}var fq,hq,pq,mq=Array.prototype.map,vq=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gq(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?dq:(t=mq.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?dq:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(mq.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=sq(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):uq[y]||(void 0===v&&(v=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var x="$"===f?a:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?i:/[%p]/.test(y)?l:"",j=uq[y],w=/[defgprs%]/.test(y);function N(e){var a,i,l,f=x,N=b;if("c"===y)N=j(e)+N,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),_&&0===+e&&"+"!==d&&(_=!1),f=(_?"("===d?d:c:"-"===d||"("===d?"":d)+f,N=("s"===y?vq[8+iq/3]:"")+N+(_&&"("===d?")":""),w)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!h&&(e=r(e,1/0));var k=f.length+e.length+N.length,S=k<p?new Array(p-k+1).join(t):"";switch(m&&h&&(e=r(S+e,S.length?p-N.length:1/0),S=""),n){case"<":e=f+e+N+S;break;case"=":e=f+S+e+N;break;case"^":e=S.slice(0,k=S.length>>1)+f+e+N+S.slice(k);break;default:e=S+f+e+N}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var n=d(((e=sq(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(aq(t)/3))),a=Math.pow(10,-r),i=vq[8+r/3];return function(e){return n(a*e)+i}}}}function yq(e,t,n,r){var a,i=$U(e,t,n);switch((r=sq(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(aq(t)/3)))-aq(Math.abs(e)))}(i,o))||(r.precision=a),pq(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,aq(t)-aq(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-aq(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return hq(r)}function xq(e){var t=e.domain;return e.ticks=function(e){var n=t();return zU(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return yq(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=BU(l,c,n))===r)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function bq(){var e=nq();return e.copy=function(){return eq(e,bq())},KU.apply(e,arguments),xq(e)}function jq(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function wq(e){return Math.log(e)}function Nq(e){return Math.exp(e)}function _q(e){return-Math.log(-e)}function kq(e){return-Math.exp(-e)}function Sq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Oq(e){return(t,n)=>-e(-t,n)}function Eq(e){const t=e(wq,Nq),n=t.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?Sq:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=Oq(r),a=Oq(a),e(_q,kq)):e(wq,Nq),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),f=r(s);const h=null==e?10:+e;let p=[];if(!(i%1)&&f-d<h){if(d=Math.floor(d),f=Math.ceil(f),o>0){for(;d<=f;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=f;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<h&&(p=zU(o,s,h))}else p=zU(d,f,Math.min(f-d,h)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!=typeof n&&(i%1||null!=(n=sq(n)).precision||(n.trim=!0),n=hq(n)),e===1/0)return n;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=o?n(e):""}},t.nice=()=>n(jq(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function Cq(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Pq(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tq(e){var t=1,n=e(Cq(t),Pq(t));return n.constant=function(n){return arguments.length?e(Cq(t=+n),Pq(t)):t},xq(n)}function Aq(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Mq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dq(e){return e<0?-e*e:e*e}function Iq(e){var t=e(XW,XW),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(XW,XW):.5===n?e(Mq,Dq):e(Aq(n),Aq(1/n)):n},xq(t)}function Rq(){var e=Iq(tq());return e.copy=function(){return eq(e,Rq()).exponent(e.exponent())},KU.apply(e,arguments),e}function Lq(e){return Math.sign(e)*e*e}fq=gq({thousands:",",grouping:[3],currency:["$",""]}),hq=fq.format,pq=fq.formatPrefix;const Fq=new Date,zq=new Date;function Bq(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o},a.filter=n=>Bq(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(Fq.setTime(+t),zq.setTime(+r),e(Fq),e(zq),Math.floor(n(Fq,zq))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const $q=Bq(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$q.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Bq(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$q:null),$q.range;const Uq=1e3,Wq=6e4,qq=36e5,Vq=864e5,Hq=6048e5,Kq=2592e6,Gq=31536e6,Yq=Bq(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uq)},(e,t)=>(t-e)/Uq,e=>e.getUTCSeconds());Yq.range;const Xq=Bq(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uq)},(e,t)=>{e.setTime(+e+t*Wq)},(e,t)=>(t-e)/Wq,e=>e.getMinutes());Xq.range;const Jq=Bq(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wq)},(e,t)=>(t-e)/Wq,e=>e.getUTCMinutes());Jq.range;const Qq=Bq(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uq-e.getMinutes()*Wq)},(e,t)=>{e.setTime(+e+t*qq)},(e,t)=>(t-e)/qq,e=>e.getHours());Qq.range;const Zq=Bq(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qq)},(e,t)=>(t-e)/qq,e=>e.getUTCHours());Zq.range;const eV=Bq(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wq)/Vq,e=>e.getDate()-1);eV.range;const tV=Bq(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vq,e=>e.getUTCDate()-1);tV.range;const nV=Bq(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vq,e=>Math.floor(e/Vq));function rV(e){return Bq(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wq)/Hq)}nV.range;const aV=rV(0),iV=rV(1),oV=rV(2),sV=rV(3),lV=rV(4),cV=rV(5),uV=rV(6);function dV(e){return Bq(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Hq)}aV.range,iV.range,oV.range,sV.range,lV.range,cV.range,uV.range;const fV=dV(0),hV=dV(1),pV=dV(2),mV=dV(3),vV=dV(4),gV=dV(5),yV=dV(6);fV.range,hV.range,pV.range,mV.range,vV.range,gV.range,yV.range;const xV=Bq(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());xV.range;const bV=Bq(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());bV.range;const jV=Bq(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jV.every=e=>isFinite(e=Math.floor(e))&&e>0?Bq(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,jV.range;const wV=Bq(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function NV(e,t,n,r,a,i){const o=[[Yq,1,Uq],[Yq,5,5e3],[Yq,15,15e3],[Yq,30,3e4],[i,1,Wq],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,qq],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Vq],[r,2,1728e5],[n,1,Hq],[t,1,Kq],[t,3,7776e6],[e,1,Gq]];function s(t,n,r){const a=Math.abs(n-t)/r,i=OU(([,,e])=>e).right(o,a);if(i===o.length)return e.every($U(t/Gq,n/Gq,r));if(0===i)return $q.every(Math.max($U(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"==typeof n.range?n:s(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},s]}wV.every=e=>isFinite(e=Math.floor(e))&&e>0?Bq(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,wV.range;const[_V,kV]=NV(wV,bV,fV,nV,Zq,Jq),[SV,OV]=NV(jV,xV,aV,eV,Qq,Xq);function EV(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function CV(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function PV(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var TV,AV,MV,DV={"-":"",_:" ",0:"0"},IV=/^\s*\d+/,RV=/^%/,LV=/[\\^$*+?|[\]().{}]/g;function FV(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function zV(e){return e.replace(LV,"\\$&")}function BV(e){return new RegExp("^(?:"+e.map(zV).join("|")+")","i")}function $V(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function UV(e,t,n){var r=IV.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function WV(e,t,n){var r=IV.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qV(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function VV(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function HV(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function KV(e,t,n){var r=IV.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function GV(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function YV(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XV(e,t,n){var r=IV.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function JV(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QV(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ZV(e,t,n){var r=IV.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function eH(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tH(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nH(e,t,n){var r=IV.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rH(e,t,n){var r=IV.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function aH(e,t,n){var r=IV.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iH(e,t,n){var r=RV.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function oH(e,t,n){var r=IV.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sH(e,t,n){var r=IV.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lH(e,t){return FV(e.getDate(),t,2)}function cH(e,t){return FV(e.getHours(),t,2)}function uH(e,t){return FV(e.getHours()%12||12,t,2)}function dH(e,t){return FV(1+eV.count(jV(e),e),t,3)}function fH(e,t){return FV(e.getMilliseconds(),t,3)}function hH(e,t){return fH(e,t)+"000"}function pH(e,t){return FV(e.getMonth()+1,t,2)}function mH(e,t){return FV(e.getMinutes(),t,2)}function vH(e,t){return FV(e.getSeconds(),t,2)}function gH(e){var t=e.getDay();return 0===t?7:t}function yH(e,t){return FV(aV.count(jV(e)-1,e),t,2)}function xH(e){var t=e.getDay();return t>=4||0===t?lV(e):lV.ceil(e)}function bH(e,t){return e=xH(e),FV(lV.count(jV(e),e)+(4===jV(e).getDay()),t,2)}function jH(e){return e.getDay()}function wH(e,t){return FV(iV.count(jV(e)-1,e),t,2)}function NH(e,t){return FV(e.getFullYear()%100,t,2)}function _H(e,t){return FV((e=xH(e)).getFullYear()%100,t,2)}function kH(e,t){return FV(e.getFullYear()%1e4,t,4)}function SH(e,t){var n=e.getDay();return FV((e=n>=4||0===n?lV(e):lV.ceil(e)).getFullYear()%1e4,t,4)}function OH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+FV(t/60|0,"0",2)+FV(t%60,"0",2)}function EH(e,t){return FV(e.getUTCDate(),t,2)}function CH(e,t){return FV(e.getUTCHours(),t,2)}function PH(e,t){return FV(e.getUTCHours()%12||12,t,2)}function TH(e,t){return FV(1+tV.count(wV(e),e),t,3)}function AH(e,t){return FV(e.getUTCMilliseconds(),t,3)}function MH(e,t){return AH(e,t)+"000"}function DH(e,t){return FV(e.getUTCMonth()+1,t,2)}function IH(e,t){return FV(e.getUTCMinutes(),t,2)}function RH(e,t){return FV(e.getUTCSeconds(),t,2)}function LH(e){var t=e.getUTCDay();return 0===t?7:t}function FH(e,t){return FV(fV.count(wV(e)-1,e),t,2)}function zH(e){var t=e.getUTCDay();return t>=4||0===t?vV(e):vV.ceil(e)}function BH(e,t){return e=zH(e),FV(vV.count(wV(e),e)+(4===wV(e).getUTCDay()),t,2)}function $H(e){return e.getUTCDay()}function UH(e,t){return FV(hV.count(wV(e)-1,e),t,2)}function WH(e,t){return FV(e.getUTCFullYear()%100,t,2)}function qH(e,t){return FV((e=zH(e)).getUTCFullYear()%100,t,2)}function VH(e,t){return FV(e.getUTCFullYear()%1e4,t,4)}function HH(e,t){var n=e.getUTCDay();return FV((e=n>=4||0===n?vV(e):vV.ceil(e)).getUTCFullYear()%1e4,t,4)}function KH(){return"+0000"}function GH(){return"%"}function YH(e){return+e}function XH(e){return Math.floor(+e/1e3)}function JH(e){return new Date(e)}function QH(e){return e instanceof Date?+e:+new Date(+e)}function ZH(e,t,n,r,a,i,o,s,l,c){var u=nq(),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),v=c("%I %p"),g=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function j(e){return(l(e)<e?h:s(e)<e?p:o(e)<e?m:i(e)<e?v:r(e)<e?a(e)<e?g:y:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,QH)):f().map(JH)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(jq(n,e)):u},u.copy=function(){return eq(u,ZH(e,t,n,r,a,i,o,s,l,c))},u}function eK(){var e,t,n,r,a,i=0,o=1,s=XW,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(HW),c.rangeRound=u(KW),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),c}}function tK(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nK(){var e=Iq(eK());return e.copy=function(){return tK(e,nK()).exponent(e.exponent())},GU.apply(e,arguments)}function rK(){var e,t,n,r,a,i,o,s=0,l=.5,c=1,u=1,d=XW,f=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:a),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=HW);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),h):[d(0),d(.5),d(1)]}}return h.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(HW),h.rangeRound=p(KW),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return i=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,h}}function aK(){var e=Iq(rK());return e.copy=function(){return tK(e,aK()).exponent(e.exponent())},GU.apply(e,arguments)}!function(e){TV=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=BV(a),u=$V(a),d=BV(i),f=$V(i),h=BV(o),p=$V(o),m=BV(s),v=$V(s),g=BV(l),y=$V(l),x={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:lH,e:lH,f:hH,g:_H,G:SH,H:cH,I:uH,j:dH,L:fH,m:pH,M:mH,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:YH,s:XH,S:vH,u:gH,U:yH,V:bH,w:jH,W:wH,x:null,X:null,y:NH,Y:kH,Z:OH,"%":GH},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:EH,e:EH,f:MH,g:qH,G:HH,H:CH,I:PH,j:TH,L:AH,m:DH,M:IH,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:YH,s:XH,S:RH,u:LH,U:FH,V:BH,w:$H,W:UH,x:null,X:null,y:WH,Y:VH,Z:KH,"%":GH},j={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return _(e,t,n,r)},d:QV,e:QV,f:aH,g:GV,G:KV,H:eH,I:eH,j:ZV,L:rH,m:JV,M:tH,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:XV,Q:oH,s:sH,S:nH,u:WV,U:qV,V:VV,w:UV,W:HV,x:function(e,t,r){return _(e,n,t,r)},X:function(e,t,n){return _(e,r,t,n)},y:GV,Y:KV,Z:YV,"%":iH};function w(e,t){return function(n){var r,a,i,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=DV[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(n){var r,a,i=PV(1900,void 0,1);if(_(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=CV(PV(i.y,0,1))).getUTCDay(),r=a>4||0===a?hV.ceil(r):hV(r),r=tV.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=EV(PV(i.y,0,1))).getDay(),r=a>4||0===a?iV.ceil(r):iV(r),r=eV.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?CV(PV(i.y,0,1)).getUTCDay():EV(PV(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,CV(i)):EV(i)}}function _(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=j[a in DV?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),{format:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),AV=TV.format,TV.parse,MV=TV.utcFormat,TV.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const iK=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:JU,scaleDiverging:function e(){var t=xq(rK()(XW));return t.copy=function(){return tK(t,e())},GU.apply(t,arguments)},scaleDivergingLog:function e(){var t=Eq(rK()).domain([.1,1,10]);return t.copy=function(){return tK(t,e()).base(t.base())},GU.apply(t,arguments)},scaleDivergingPow:aK,scaleDivergingSqrt:function(){return aK.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Tq(rK());return t.copy=function(){return tK(t,e()).constant(t.constant())},GU.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,GW),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,GW):[0,1],xq(r)},scaleImplicit:YU,scaleLinear:bq,scaleLog:function e(){const t=Eq(tq()).domain([1,10]);return t.copy=()=>eq(t,e()).base(t.base()),KU.apply(t,arguments),t},scaleOrdinal:XU,scalePoint:ZU,scalePow:Rq,scaleQuantile:function e(){var t,n=[],r=[],a=[];function i(){var e=0,t=Math.max(1,r.length);for(a=new Array(t-1);++e<t;)a[e-1]=HU(n,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:r[PU(a,e)]}return o.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(kU),i()},o.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return a.slice()},o.copy=function(){return e().domain(n).range(r).unknown(t)},KU.apply(o,arguments)},scaleQuantize:function e(){var t,n=0,r=1,a=1,i=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[PU(i,e,0,a)]:t}function l(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*r-(e-a)*n)/(a+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(a=(o=Array.from(e)).length-1,l()):o.slice()},s.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,i[0]]:t>=a?[i[a-1],r]:[i[t-1],i[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return e().domain([n,r]).range(o).unknown(t)},KU.apply(xq(s),arguments)},scaleRadial:function e(){var t,n=nq(),r=[0,1],a=!1;function i(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:a?Math.round(r):r}return i.invert=function(e){return n.invert(Lq(e))},i.domain=function(e){return arguments.length?(n.domain(e),i):n.domain()},i.range=function(e){return arguments.length?(n.range((r=Array.from(e,GW)).map(Lq)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(a=!!e,i):a},i.clamp=function(e){return arguments.length?(n.clamp(e),i):n.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(n.domain(),r).round(a).clamp(n.clamp()).unknown(t)},KU.apply(i,arguments),xq(i)},scaleSequential:function e(){var t=xq(eK()(XW));return t.copy=function(){return tK(t,e())},GU.apply(t,arguments)},scaleSequentialLog:function e(){var t=Eq(eK()).domain([1,10]);return t.copy=function(){return tK(t,e()).base(t.base())},GU.apply(t,arguments)},scaleSequentialPow:nK,scaleSequentialQuantile:function e(){var t=[],n=XW;function r(e){if(null!=e&&!isNaN(e=+e))return n((PU(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(kU),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return WU(e);if(t>=1)return UU(e);var n,r=(n-1)*t,a=Math.floor(r),i=UU(qU(e,a).subarray(0,a+1));return i+(WU(e.subarray(a+1))-i)*(r-a)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},GU.apply(r,arguments)},scaleSequentialSqrt:function(){return nK.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Tq(eK());return t.copy=function(){return tK(t,e()).constant(t.constant())},GU.apply(t,arguments)},scaleSqrt:function(){return Rq.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=Tq(tq());return t.copy=function(){return eq(t,e()).constant(t.constant())},KU.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],a=1;function i(e){return null!=e&&e<=e?r[PU(n,e,0,a)]:t}return i.domain=function(e){return arguments.length?(n=Array.from(e),a=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(n).range(r).unknown(t)},KU.apply(i,arguments)},scaleTime:function(){return KU.apply(ZH(SV,OV,jV,xV,aV,eV,Qq,Xq,Yq,AV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return KU.apply(ZH(_V,kV,wV,bV,fV,tV,Zq,Jq,Yq,MV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:yq},Symbol.toStringTag,{value:"Module"}));var oK=dP;var sK=function(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(null!=o&&(void 0===s?o==o&&!oK(o):n(o,s)))var s=o,l=i}return l};var lK=function(e,t){return e>t},cK=sK,uK=lK,dK=BF;const fK=a(function(e){return e&&e.length?cK(e,dK,uK):void 0});var hK=function(e,t){return e<t},pK=sK,mK=hK,vK=BF;const gK=a(function(e){return e&&e.length?pK(e,vK,mK):void 0});var yK=HT,xK=JF,bK=Vz,jK=VC;var wK=Lz,NK=function(e,t){return(jK(e)?yK:bK)(e,xK(t))};const _K=a(function(e,t){return wK(NK(e,t),1)});var kK=pF;const SK=a(function(e,t){return kK(e,t)});var OK,EK=1e9,CK=!0,PK="[DecimalError] ",TK=PK+"Invalid argument: ",AK=PK+"Exponent out of range: ",MK=Math.floor,DK=Math.pow,IK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,RK=1e7,LK=9007199254740991,FK=MK(1286742750677284.5),zK={};function BK(e,t){var n,r,a,i,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),CK?XK(t,d):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),i>(s=(o=Math.ceil(d/7))>s?o+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=l.length)-(i=c.length)<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/RK|0,l[i]%=RK;for(n&&(l.unshift(n),++a),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=a,CK?XK(t,d):t}function $K(e,t,n){if(e!==~~e||e<t||e>n)throw Error(TK+e)}function UK(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=KK(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=KK(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return i+o}zK.absoluteValue=zK.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},zK.comparedTo=zK.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},zK.decimalPlaces=zK.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},zK.dividedBy=zK.div=function(e){return WK(this,new this.constructor(e))},zK.dividedToIntegerBy=zK.idiv=function(e){var t=this.constructor;return XK(WK(this,new t(e),0,1),t.precision)},zK.equals=zK.eq=function(e){return!this.cmp(e)},zK.exponent=function(){return VK(this)},zK.greaterThan=zK.gt=function(e){return this.cmp(e)>0},zK.greaterThanOrEqualTo=zK.gte=function(e){return this.cmp(e)>=0},zK.isInteger=zK.isint=function(){return this.e>this.d.length-2},zK.isNegative=zK.isneg=function(){return this.s<0},zK.isPositive=zK.ispos=function(){return this.s>0},zK.isZero=function(){return 0===this.s},zK.lessThan=zK.lt=function(e){return this.cmp(e)<0},zK.lessThanOrEqualTo=zK.lte=function(e){return this.cmp(e)<1},zK.logarithm=zK.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(OK))throw Error(PK+"NaN");if(n.s<1)throw Error(PK+(n.s?"NaN":"-Infinity"));return n.eq(OK)?new r(0):(CK=!1,t=WK(GK(n,i),GK(e,i),i),CK=!0,XK(t,a))},zK.minus=zK.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JK(t,e):BK(t,(e.s=-e.s,e))},zK.modulo=zK.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(PK+"NaN");return n.s?(CK=!1,t=WK(n,e,0,1).times(e),CK=!0,n.minus(t)):XK(new r(n),a)},zK.naturalExponential=zK.exp=function(){return qK(this)},zK.naturalLogarithm=zK.ln=function(){return GK(this)},zK.negated=zK.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},zK.plus=zK.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BK(t,e):JK(t,(e.s=-e.s,e))},zK.precision=zK.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(TK+e);if(t=VK(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},zK.squareRoot=zK.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(PK+"NaN")}for(e=VK(s),CK=!1,0==(a=Math.sqrt(+s))||a==1/0?(((t=UK(s.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=MK((e+1)/2)-(e<0||e%2),r=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(a.toString()),a=o=(n=l.precision)+3;;)if(r=(i=r).plus(WK(s,i,o+2)).times(.5),UK(i.d).slice(0,o)===(t=UK(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(XK(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if("9999"!=t)break;o+=4}return CK=!0,XK(r,n)},zK.times=zK.mul=function(e){var t,n,r,a,i,o,s,l,c,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=f.length)<(c=h.length)&&(i=f,f=h,h=i,o=l,l=c,c=o),i=[],r=o=l+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+h[r]*f[a-r-1]+t,i[a--]=s%RK|0,t=s/RK|0;i[a]=(i[a]+t)%RK|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,CK?XK(e,d.precision):e},zK.toDecimalPlaces=zK.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:($K(e,0,EK),void 0===t?t=r.rounding:$K(t,0,8),XK(n,e+VK(n)+1,t))},zK.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=QK(r,!0):($K(e,0,EK),void 0===t?t=a.rounding:$K(t,0,8),n=QK(r=XK(new a(r),e+1,t),!0,e+1)),n},zK.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?QK(a):($K(e,0,EK),void 0===t?t=i.rounding:$K(t,0,8),n=QK((r=XK(new i(a),e+VK(a)+1,t)).abs(),!1,e+VK(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},zK.toInteger=zK.toint=function(){var e=this,t=e.constructor;return XK(new t(e),VK(e)+1,t.rounding)},zK.toNumber=function(){return+this},zK.toPower=zK.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(OK);if(!(s=new l(s)).s){if(e.s<1)throw Error(PK+"Infinity");return s}if(s.eq(OK))return s;if(r=l.precision,e.eq(OK))return XK(s,r);if(o=(t=e.e)>=(n=e.d.length-1),i=s.s,o){if((n=c<0?-c:c)<=LK){for(a=new l(OK),t=Math.ceil(r/7+4),CK=!1;n%2&&ZK((a=a.times(s)).d,t),0!==(n=MK(n/2));)ZK((s=s.times(s)).d,t);return CK=!0,e.s<0?new l(OK).div(a):XK(a,r)}}else if(i<0)throw Error(PK+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,CK=!1,a=e.times(GK(s,r+12)),CK=!0,(a=qK(a)).s=i,a},zK.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=QK(a,(n=VK(a))<=i.toExpNeg||n>=i.toExpPos):($K(e,1,EK),void 0===t?t=i.rounding:$K(t,0,8),r=QK(a=XK(new i(a),e,t),e<=(n=VK(a))||n<=i.toExpNeg,e)),r},zK.toSignificantDigits=zK.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):($K(e,1,EK),void 0===t?t=n.rounding:$K(t,0,8)),XK(new n(this),e,t)},zK.toString=zK.valueOf=zK.val=zK.toJSON=zK[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=VK(e),n=e.constructor;return QK(e,t<=n.toExpNeg||t>=n.toExpPos)};var WK=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%RK|0,r=n/RK|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*RK+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,l,c,u,d,f,h,p,m,v,g,y,x,b,j,w,N,_,k=r.constructor,S=r.s==a.s?1:-1,O=r.d,E=a.d;if(!r.s)return new k(r);if(!a.s)throw Error(PK+"Division by zero");for(l=r.e-a.e,N=E.length,j=O.length,p=(h=new k(S)).d=[],c=0;E[c]==(O[c]||0);)++c;if(E[c]>(O[c]||0)&&--l,(y=null==i?i=k.precision:o?i+(VK(r)-VK(a))+1:i)<0)return new k(0);if(y=y/7+2|0,c=0,1==N)for(u=0,E=E[0],y++;(c<j||u)&&y--;c++)x=u*RK+(O[c]||0),p[c]=x/E|0,u=x%E|0;else{for((u=RK/(E[0]+1)|0)>1&&(E=e(E,u),O=e(O,u),N=E.length,j=O.length),b=N,v=(m=O.slice(0,N)).length;v<N;)m[v++]=0;(_=E.slice()).unshift(0),w=E[0],E[1]>=RK/2&&++w;do{u=0,(s=t(E,m,N,v))<0?(g=m[0],N!=v&&(g=g*RK+(m[1]||0)),(u=g/w|0)>1?(u>=RK&&(u=RK-1),1==(s=t(d=e(E,u),m,f=d.length,v=m.length))&&(u--,n(d,N<f?_:E,f))):(0==u&&(s=u=1),d=E.slice()),(f=d.length)<v&&d.unshift(0),n(m,d,v),-1==s&&(s=t(E,m,N,v=m.length))<1&&(u++,n(m,N<v?_:E,v)),v=m.length):0===s&&(u++,m=[0]),p[c++]=u,s&&m[0]?m[v++]=O[b]||0:(m=[O[b]],v=1)}while((b++<j||void 0!==m[0])&&y--)}return p[0]||p.shift(),h.e=l,XK(h,o?i+VK(h)+1:i)}}();function qK(e,t){var n,r,a,i,o,s=0,l=0,c=e.constructor,u=c.precision;if(VK(e)>16)throw Error(AK+VK(e));if(!e.s)return new c(OK);for(null==t?(CK=!1,o=u):o=t,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(o+=Math.log(DK(2,l))/Math.LN10*2+5|0,n=r=a=new c(OK),c.precision=o;;){if(r=XK(r.times(e),o),n=n.times(++s),UK((i=a.plus(WK(r,n,o))).d).slice(0,o)===UK(a.d).slice(0,o)){for(;l--;)a=XK(a.times(a),o);return c.precision=u,null==t?(CK=!0,XK(a,u)):a}a=i}}function VK(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function HK(e,t,n){if(t>e.LN10.sd())throw CK=!0,n&&(e.precision=n),Error(PK+"LN10 precision limit exceeded");return XK(new e(e.LN10),t)}function KK(e){for(var t="";e--;)t+="0";return t}function GK(e,t){var n,r,a,i,o,s,l,c,u,d=1,f=e,h=f.d,p=f.constructor,m=p.precision;if(f.s<1)throw Error(PK+(f.s?"NaN":"-Infinity"));if(f.eq(OK))return new p(0);if(null==t?(CK=!1,c=m):c=t,f.eq(10))return null==t&&(CK=!0),HK(p,c);if(c+=10,p.precision=c,r=(n=UK(h)).charAt(0),i=VK(f),!(Math.abs(i)<15e14))return l=HK(p,c+2,m).times(i+""),f=GK(new p(r+"."+n.slice(1)),c-10).plus(l),p.precision=m,null==t?(CK=!0,XK(f,m)):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=UK((f=f.times(e)).d)).charAt(0),d++;for(i=VK(f),r>1?(f=new p("0."+n),i++):f=new p(r+"."+n.slice(1)),s=o=f=WK(f.minus(OK),f.plus(OK),c),u=XK(f.times(f),c),a=3;;){if(o=XK(o.times(u),c),UK((l=s.plus(WK(o,new p(a),c))).d).slice(0,c)===UK(s.d).slice(0,c))return s=s.times(2),0!==i&&(s=s.plus(HK(p,c+2,m).times(i+""))),s=WK(s,new p(d),c),p.precision=m,null==t?(CK=!0,XK(s,m)):s;s=l,a+=2}}function YK(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=MK(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),CK&&(e.e>FK||e.e<-FK))throw Error(AK+n)}else e.s=0,e.e=0,e.d=[0];return e}function XK(e,t,n){var r,a,i,o,s,l,c,u,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(i=d.length))return e;for(c=i=d[u],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(s=c/(i=DK(10,o-a-1))%10|0,l=t<0||void 0!==d[u+1]||c%i,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?a>0?c/DK(10,o-a):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(i=VK(e),d.length=1,t=t-i-1,d[0]=DK(10,(7-t%7)%7),e.e=MK(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,i=1,u--):(d.length=u+1,i=DK(10,7-r),d[u]=a>0?(c/DK(10,o-a)%DK(10,a)|0)*i:0),l)for(;;){if(0==u){(d[0]+=i)==RK&&(d[0]=1,++e.e);break}if(d[u]+=i,d[u]!=RK)break;d[u--]=0,i=1}for(r=d.length;0===d[--r];)d.pop();if(CK&&(e.e>FK||e.e<-FK))throw Error(AK+VK(e));return e}function JK(e,t){var n,r,a,i,o,s,l,c,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),CK?XK(t,h):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r){for((u=o<0)?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),o>(a=Math.max(Math.ceil(h/7),s)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((u=(a=l.length)<(s=d.length))&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}o=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>o;){if(l[--a]<d[a]){for(i=a;i&&0===l[--i];)l[i]=RK-1;--l[i],l[a]+=RK}l[a]-=d[a]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,CK?XK(t,h):t):new f(0)}function QK(e,t,n){var r,a=VK(e),i=UK(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+KK(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+KK(-a-1)+i,n&&(r=n-o)>0&&(i+=KK(r))):a>=o?(i+=KK(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+KK(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=KK(r))),e.s<0?"-"+i:i}function ZK(e,t){if(e.length>t)return e.length=t,!0}function eG(e){if(!e||"object"!=typeof e)throw Error(PK+"Object expected");var t,n,r,a=["precision",1,EK,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(MK(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(TK+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(TK+n+": "+r);this[n]=new this(r)}return this}var tG=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(TK+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):YK(t,e.toString())}if("string"!=typeof e)throw Error(TK+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!IK.test(e))throw Error(TK+e);YK(t,e)}if(i.prototype=zK,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=eG,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});OK=new tG(1);const nG=tG;function rG(e){return function(e){if(Array.isArray(e))return aG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return aG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iG=function(e){return e},oG={"@@functional/placeholder":!0},sG=function(e){return e===oG},lG=function(e){return function t(){return 0===arguments.length||1===arguments.length&&sG(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},cG=function e(t,n){return 1===t?n:lG(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(e){return e!==oG}).length;return o>=t?n.apply(void 0,a):e(t-o,lG(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a.map(function(e){return sG(e)?t.shift():e});return n.apply(void 0,rG(i).concat(t))}))})},uG=function(e){return cG(e.length,e)},dG=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},fG=uG(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),hG=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},pG=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var mG=uG(function(e,t,n){var r=+e;return r+n*(+t-r)}),vG=uG(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),gG=uG(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const yG={rangeStep:function(e,t,n){for(var r=new nG(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new nG(e).abs().log(10).toNumber())+1},interpolateNumber:mG,uninterpolateNumber:vG,uninterpolateTruncation:gG};function xG(e){return function(e){if(Array.isArray(e))return wG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||jG(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(zte){a=!0,i=zte}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||jG(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jG(e,t){if(e){if("string"==typeof e)return wG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wG(e,t):void 0}}function wG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NG(e){var t=bG(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function _G(e,t,n){if(e.lte(0))return new nG(0);var r=yG.getDigitCount(e.toNumber()),a=new nG(10).pow(r),i=e.div(a),o=1!==r?.05:.1,s=new nG(Math.ceil(i.div(o).toNumber())).add(n).mul(o).mul(a);return t?s:new nG(Math.ceil(s))}function kG(e,t,n){var r=1,a=new nG(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new nG(10).pow(yG.getDigitCount(e)-1),a=new nG(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new nG(Math.floor(e)))}else 0===e?a=new nG(Math.floor((t-1)/2)):n||(a=new nG(Math.floor(e)));var o=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return iG;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(fG(function(e){return a.add(new nG(e-o).mul(r)).toNumber()}),dG);return s(0,t)}function SG(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new nG(0),tickMin:new nG(0),tickMax:new nG(0)};var i,o=_G(new nG(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new nG(0):(i=new nG(e).add(t).div(2)).sub(new nG(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new nG(t).sub(i).div(o).toNumber()),c=s+l+1;return c>n?SG(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:i.sub(new nG(s).mul(o)),tickMax:i.add(new nG(l).mul(o))})}var OG=pG(function(e){var t=bG(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=bG(NG([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(xG(dG(0,a-1).map(function(){return 1/0}))):[].concat(xG(dG(0,a-1).map(function(){return-1/0})),[c]);return n>r?hG(u):u}if(l===c)return kG(l,a,i);var d=SG(l,c,o,i),f=d.step,h=d.tickMin,p=d.tickMax,m=yG.rangeStep(h,p.add(new nG(.1).mul(f)),f);return n>r?hG(m):m}),EG=pG(function(e,t){var n=bG(e,2),r=n[0],a=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=bG(NG([r,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[r,a];if(s===l)return[s];var c=Math.max(t,2),u=_G(new nG(l).sub(s).div(c-1),i,0),d=[].concat(xG(yG.rangeStep(new nG(s),new nG(l).sub(new nG(.99).mul(u)),u)),[l]);return r>a?hG(d):d});function CG(e,t){throw new Error("Invariant failed")}var PG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function TG(e){return(TG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AG(){return AG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AG.apply(this,arguments)}function MG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IG(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function RG(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UG(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LG(e,t,n){return t=zG(t),function(e,t){if(t&&("object"===TG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FG()?Reflect.construct(t,n||[],zG(e).constructor):t.apply(e,n))}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(FG=function(){return!!e})()}function zG(e){return(zG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BG(e,t){return(BG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $G(e,t,n){return(t=UG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UG(e){var t=function(e,t){if("object"!=TG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TG(t)?t:t+""}var WG=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),LG(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BG(e,t)}(e,V.Component),RG(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,a=e.dataKey,i=e.data,o=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,c=IG(e,PG),u=NM(c,!1);"x"===this.props.direction&&"number"!==s.type&&CG();var d=i.map(function(e){var i=o(e,a),c=i.x,d=i.y,f=i.value,h=i.errorVal;if(!h)return null;var p,m,v=[];if(Array.isArray(h)){var g=MG(h,2);p=g[0],m=g[1]}else p=m=h;if("vertical"===n){var y=s.scale,x=d+t,b=x+r,j=x-r,w=y(f-p),N=y(f+m);v.push({x1:N,y1:b,x2:N,y2:j}),v.push({x1:w,y1:x,x2:N,y2:x}),v.push({x1:w,y1:b,x2:w,y2:j})}else if("horizontal"===n){var _=l.scale,k=c+t,S=k-r,O=k+r,E=_(f-p),C=_(f+m);v.push({x1:S,y1:C,x2:O,y2:C}),v.push({x1:k,y1:E,x2:k,y2:C}),v.push({x1:S,y1:E,x2:O,y2:E})}return V.createElement(DM,AG({className:"recharts-errorBar",key:"bar-".concat(v.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),v.map(function(e){return V.createElement("line",AG({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return V.createElement(DM,{className:"recharts-errorBars"},d)}}])}();function qG(e){return(qG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VG(Object(n),!0).forEach(function(t){KG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KG(e,t,n){var r;return r=function(e,t){if("object"!=qG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qG(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$G(WG,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),$G(WG,"displayName","ErrorBar");var GG=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,i=xM(t,Tz);if(!i)return null;var o,s=Tz.defaultProps,l=void 0!==s?HG(HG({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?HG(HG({},n),t.props):{},a=r.dataKey,i=r.name,o=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||o||"square",color:rY(t),value:i||a,payload:r}}),HG(HG(HG({},l),Tz.getWithHeight(i,r)),{},{payload:o,item:i})};function YG(e){return(YG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XG(e){return function(e){if(Array.isArray(e))return JG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return JG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ZG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QG(Object(n),!0).forEach(function(t){eY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eY(e,t,n){var r;return r=function(e,t){if("object"!=YG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==YG(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tY(e,t,n){return pA(e)||pA(t)?n:KA(t)?hA(e,t,n):wP(t)?t(e):n}function nY(e,t,n,r){var a=_K(e,function(e){return tY(e,t)});if("number"===n){var i=a.filter(function(e){return HA(e)||parseFloat(e)});return i.length?[gK(i),fK(i)]:[1/0,-1/0]}return(r?a.filter(function(e){return!pA(e)}):a).map(function(e){return KA(e)||e instanceof Date?e:""})}var rY=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?ZG(ZG({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:o;break;default:n=o}return n},aY=function(e,t,n,r,a){var i=yM(t.props.children,WG).filter(function(e){return function(e,t,n){return!!pA(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(i&&i.length){var o=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=tY(t,n);if(pA(r))return e;var a=Array.isArray(r)?[gK(r),fK(r)]:[r,r],i=o.reduce(function(e,n){var r=tY(t,n,0),i=a[0]-Math.abs(Array.isArray(r)?r[0]:r),o=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},iY=function(e,t,n,r,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===n&&i&&aY(e,t,i,r)||nY(e,i,n,a)});if("number"===n)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return i.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},oY=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},sY=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,i,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate});return a||o.push(t),i||o.push(n),o},lY=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==o?void 0:o.length)>=2?2*qA(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!WA(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},cY=new WeakMap,uY=function(e,t){if("function"!=typeof t)return e;cY.has(e)||cY.set(e,new WeakMap);var n=cY.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},dY=function(e,t,n){var r=e.scale,a=e.type,i=e.layout,o=e.axisType;if("auto"===r)return"radial"===i&&"radiusAxis"===o?{scale:JU(),realScaleType:"band"}:"radial"===i&&"angleAxis"===o?{scale:bq(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:ZU(),realScaleType:"point"}:"category"===a?{scale:JU(),realScaleType:"band"}:{scale:bq(),realScaleType:"linear"};if(yA(r)){var s="scale".concat(sD(r));return{scale:(iK[s]||ZU)(),realScaleType:iK[s]?s:"point"}}return wP(r)?{scale:r}:{scale:ZU(),realScaleType:"point"}},fY=1e-4,hY=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-fY,i=Math.max(r[0],r[1])+fY,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},pY={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=WA(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}lI(e,t)}},none:lI,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}lI(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,f=(d-(u[o-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=f*d}n[o-1][1]+=n[o-1][0]=i,l&&(i-=c/l)}n[o-1][1]+=n[o-1][0]=i,lI(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=WA(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},mY=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=pY[n],i=function(){var e=lD([]),t=cI,n=lI,r=uI;function a(a){var i,o,s=Array.from(e.apply(this,arguments),dI),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,a)]).data=e;for(i=0,o=jD(t(s));i<l;++i)s[o[i]].index=i;return n(s,o),s}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:lD(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"==typeof e?e:lD(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?cI:"function"==typeof e?e:lD(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?lI:e,a):n},a}().keys(r).value(function(e,t){return+tY(e,t,0)}).order(cI).offset(a);return i(e)},vY=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=OG(l,a,o);return e.domain([gK(c),fK(c)]),{niceTicks:c}}if(a&&"number"===r){var u=e.domain();return{niceTicks:EG(u,a,o)}}return null};function gY(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!pA(a[t.dataKey])){var s=ZA(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=tY(a,pA(o)?t.dataKey:o);return pA(l)?null:t.scale(l)}var yY=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=tY(i,t.dataKey,t.domain[o]);return pA(s)?null:t.scale(s)-a/2+r},xY=function(e,t,n){return Object.keys(e).reduce(function(r,a){var i=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[gK(t.concat([e[0]]).filter(HA)),fK(t.concat([e[1]]).filter(HA))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},bY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wY=function(e,t,n){if(wP(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(HA(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(bY.test(e[0])){var a=+bY.exec(e[0])[1];r[0]=t[0]-a}else wP(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(HA(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(jY.test(e[1])){var i=+jY.exec(e[1])[1];r[1]=t[1]+i}else wP(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},NY=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=SB(t,function(e){return e.coordinate}),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},_Y=function(e,t,n){return e&&e.length?SK(e,hA(n,"type.defaultProps.domain"))?t:e:t},kY=function(e,t){var n=e.type.defaultProps?ZG(ZG({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,i=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return ZG(ZG({},NM(e,!1)),{},{dataKey:r,unit:i,formatter:o,name:a||r,color:rY(e),value:tY(t,r),type:s,payload:t,chartType:l,hide:c})};function SY(e){return(SY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OY(Object(n),!0).forEach(function(t){CY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CY(e,t,n){var r;return r=function(e,t){if("object"!=SY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==SY(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return TY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AY=Math.PI/180,MY=function(e){return 180*e/Math.PI},DY=function(e,t,n,r){return{x:e+Math.cos(-AY*r)*n,y:t+Math.sin(-AY*r)*n}},IY=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},RY=function(e,t){var n=e.x,r=e.y,a=t.cx,i=t.cy,o=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:MY(l),angleInRadian:l}},LY=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},FY=function(e,t){var n=e.x,r=e.y,a=RY({x:n,y:r},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}}(t),d=u.startAngle,f=u.endAngle,h=o;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;c=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;c=h>=f&&h<=d}return c?EY(EY({},t),{},{radius:i,angle:LY(h,t)}):null},zY=function(e){return q.isValidElement(e)||wP(e)||"boolean"==typeof e?"":e.className};function BY(e){return(BY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $Y=["offset"];function UY(e){return function(e){if(Array.isArray(e))return WY(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return WY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WY(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qY(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function VY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VY(Object(n),!0).forEach(function(t){KY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KY(e,t,n){var r;return r=function(e,t){if("object"!=BY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==BY(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(){return GY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GY.apply(this,arguments)}var YY=function(e,t,n){var r,a,i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,v=c.clockWise,g=(f+h)/2,y=function(e,t){return qA(t-e)*Math.min(Math.abs(t-e),360)}(p,m),x=y>=0?1:-1;"insideStart"===i?(r=p+x*s,a=v):"insideEnd"===i?(r=m-x*s,a=!v):"end"===i&&(r=m+x*s,a=v),a=y<=0?a:!a;var b=DY(u,d,g,r),j=DY(u,d,g,r+359*(a?1:-1)),w="M".concat(b.x,",").concat(b.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),N=pA(e.id)?YA("recharts-radial-line-"):e.id;return V.createElement("text",GY({},n,{dominantBaseline:"central",className:dy("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:N,d:w})),V.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function XY(e){var t,n=e.offset,r=HY({offset:void 0===n?5:n},qY(e,$Y)),a=r.viewBox,i=r.position,o=r.value,s=r.children,l=r.content,c=r.className,u=void 0===c?"":c,d=r.textBreakAll;if(!a||pA(o)&&pA(s)&&!q.isValidElement(l)&&!wP(l))return null;if(q.isValidElement(l))return q.cloneElement(l,r);if(wP(l)){if(t=q.createElement(l,r),q.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=pA(e.children)?t:e.children;return wP(n)?n(r):r}(r);var f=function(e){return"cx"in e&&HA(e.cx)}(a),h=NM(r,!0);if(f&&("insideStart"===i||"insideEnd"===i||"end"===i))return YY(r,t,h);var p=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var u=DY(i,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var f=DY(i,o,(s+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*r,f=u>0?"end":"start",h=u>0?"start":"end",p=l>=0?1:-1,m=p*r,v=p>0?"end":"start",g=p>0?"start":"end";if("top"===a)return HY(HY({},{x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return HY(HY({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===a){var y={x:o-m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return HY(HY({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===a){var x={x:o+l+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return HY(HY({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?HY({x:o+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?HY({x:o+l-m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideTop"===a?HY({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:h},b):"insideBottom"===a?HY({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},b):"insideTopLeft"===a?HY({x:o+m,y:s+d,textAnchor:g,verticalAnchor:h},b):"insideTopRight"===a?HY({x:o+l-m,y:s+d,textAnchor:v,verticalAnchor:h},b):"insideBottomLeft"===a?HY({x:o+m,y:s+c-d,textAnchor:g,verticalAnchor:f},b):"insideBottomRight"===a?HY({x:o+l-m,y:s+c-d,textAnchor:v,verticalAnchor:f},b):yP(a)&&(HA(a.x)||VA(a.x))&&(HA(a.y)||VA(a.y))?HY({x:o+XA(a.x,l),y:s+XA(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):HY({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(r);return V.createElement(_U,GY({className:dy("recharts-label",u)},h,p,{breakAll:d}),t)}XY.displayName="Label";var JY=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,h=e.left,p=e.width,m=e.height,v=e.clockWise,g=e.labelViewBox;if(g)return g;if(HA(p)&&HA(m)){if(HA(u)&&HA(d))return{x:u,y:d,width:p,height:m};if(HA(f)&&HA(h))return{x:f,y:h,width:p,height:m}}return HA(u)&&HA(d)?{x:u,y:d,width:0,height:0}:HA(t)&&HA(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:v}:e.viewBox?e.viewBox:{}};XY.parseViewBox=JY,XY.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=JY(e),i=yM(r,XY).map(function(e,n){return q.cloneElement(e,{viewBox:t||a,key:"label-".concat(n)})});if(!n)return i;var o=function(e,t){return e?!0===e?V.createElement(XY,{key:"label-implicit",viewBox:t}):KA(e)?V.createElement(XY,{key:"label-implicit",viewBox:t,value:e}):q.isValidElement(e)?e.type===XY?q.cloneElement(e,{key:"label-implicit",viewBox:t}):V.createElement(XY,{key:"label-implicit",content:e,viewBox:t}):wP(e)?V.createElement(XY,{key:"label-implicit",content:e,viewBox:t}):yP(e)?V.createElement(XY,GY({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[o].concat(UY(i))};var QY=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const ZY=a(QY);function eX(e){return(eX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tX=["valueAccessor"],nX=["data","dataKey","clockWise","id","textBreakAll"];function rX(e){return function(e){if(Array.isArray(e))return aX(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return aX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aX(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iX(){return iX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iX.apply(this,arguments)}function oX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oX(Object(n),!0).forEach(function(t){lX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lX(e,t,n){var r;return r=function(e,t){if("object"!=eX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eX(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cX(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var uX=function(e){return Array.isArray(e.value)?ZY(e.value):e.value};function dX(e){var t=e.valueAccessor,n=void 0===t?uX:t,r=cX(e,tX),a=r.data,i=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,c=cX(r,nX);return a&&a.length?V.createElement(DM,{className:"recharts-label-list"},a.map(function(e,t){var r=pA(i)?n(e,t):tY(e&&e.payload,i),a=pA(s)?{}:{id:"".concat(s,"-").concat(t)};return V.createElement(XY,iX({},NM(e,!0),c,a,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:XY.parseViewBox(pA(o)?e:sX(sX({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))})):null}function fX(e){return(fX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hX(){return hX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hX.apply(this,arguments)}function pX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pX(Object(n),!0).forEach(function(t){vX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vX(e,t,n){var r;return r=function(e,t){if("object"!=fX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fX(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dX.displayName="LabelList",dX.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=yM(e.children,dX).map(function(e,n){return q.cloneElement(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?V.createElement(dX,{key:"labelList-implicit",data:t}):V.isValidElement(e)||wP(e)?V.createElement(dX,{key:"labelList-implicit",data:t,content:e}):yP(e)?V.createElement(dX,iX({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(rX(r)):r};var gX=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+r,u=Math.asin(s/c)/AY,d=l?a:a+i*u,f=l?a-i*u:a;return{center:DY(t,n,c,d),circleTangency:DY(t,n,r,d),lineTangency:DY(t,n,c*Math.cos(u*AY),f),theta:u}},yX=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return qA(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=DY(t,n,a,i),c=DY(t,n,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=DY(t,n,r,i),f=DY(t,n,r,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},xX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bX=function(e){var t=mX(mX({},xX),e),n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=t.className;if(i<a||c===u)return null;var f,h=dy("recharts-sector",d),p=i-a,m=XA(o,p,0,!0);return f=m>0&&Math.abs(c-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=qA(c-l),d=gX({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),f=d.circleTangency,h=d.lineTangency,p=d.theta,m=gX({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),v=m.circleTangency,g=m.lineTangency,y=m.theta,x=s?Math.abs(l-c):Math.abs(l-c)-p-y;if(x<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):yX({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var j=gX({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),w=j.circleTangency,N=j.lineTangency,_=j.theta,k=gX({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),S=k.circleTangency,O=k.lineTangency,E=k.theta,C=s?Math.abs(l-c):Math.abs(l-c)-_-E;if(C<0&&0===i)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(O.x,",").concat(O.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):yX({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u}),V.createElement("path",hX({},NM(t,!0),{className:h,d:f,role:"img"}))};function jX(e){return(jX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wX(){return wX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wX.apply(this,arguments)}function NX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NX(Object(n),!0).forEach(function(t){kX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kX(e,t,n){var r;return r=function(e,t){if("object"!=jX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jX(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SX={curveBasisClosed:function(e){return new YD(e)},curveBasisOpen:function(e){return new XD(e)},curveBasis:function(e){return new GD(e)},curveBumpX:function(e){return new ED(e,!0)},curveBumpY:function(e){return new ED(e,!1)},curveLinearClosed:function(e){return new JD(e)},curveLinear:ND,curveMonotoneX:function(e){return new nI(e)},curveMonotoneY:function(e){return new rI(e)},curveNatural:function(e){return new iI(e)},curveStep:function(e){return new sI(e,.5)},curveStepAfter:function(e){return new sI(e,1)},curveStepBefore:function(e){return new sI(e,0)}},OX=function(e){return e.x===+e.x&&e.y===+e.y},EX=function(e){return e.x},CX=function(e){return e.y},PX=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(wP(e))return e;var n="curve".concat(sD(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?SX[n]||ND:SX["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?i.filter(function(e){return OX(e)}):i;if(Array.isArray(o)){var f=c?o.filter(function(e){return OX(e)}):o,h=d.map(function(e,t){return _X(_X({},e),{},{base:f[t]})});return(t="vertical"===s?OD().y(CX).x1(EX).x0(function(e){return e.base.x}):OD().x(EX).y1(CX).y0(function(e){return e.base.y})).defined(OX).curve(u),t(h)}return(t="vertical"===s&&HA(o)?OD().y(CX).x1(EX).x0(o):HA(o)?OD().x(EX).y1(CX).y0(o):SD().x(EX).y(CX)).defined(OX).curve(u),t(d)},TX=function(e){var t=e.className,n=e.points,r=e.path,a=e.pathRef;if(!(n&&n.length||r))return null;var i=n&&n.length?PX(e):r;return q.createElement("path",wX({},NM(e,!1),sM(e),{className:dy("recharts-curve",t),d:i,ref:a}))},AX={exports:{}};function MX(){}function DX(){}DX.resetWarningCache=MX;AX.exports=function(){function e(e,t,n,r,a,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:DX,resetWarningCache:MX};return n.PropTypes=n,n}();const IX=a(AX.exports);var RX=Object.getOwnPropertyNames,LX=Object.getOwnPropertySymbols,FX=Object.prototype.hasOwnProperty;function zX(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function BX(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var a=r.cache,i=a.get(t),o=a.get(n);if(i&&o)return i===n&&o===t;a.set(t,n),a.set(n,t);var s=e(t,n,r);return a.delete(t),a.delete(n),s}}function $X(e){return RX(e).concat(LX(e))}var UX=Object.hasOwn||function(e,t){return FX.call(e,t)};function WX(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var qX=Object.getOwnPropertyDescriptor,VX=Object.keys;function HX(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function KX(e,t){return WX(e.getTime(),t.getTime())}function GX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function YX(e,t){return e===t}function XX(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var f=a.value,h=i.value;if(n.equals(f[0],h[0],l,d,e,t,n)&&n.equals(f[1],h[1],f[0],h[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var JX=WX;function QX(e,t,n){var r=VX(e),a=r.length;if(VX(t).length!==a)return!1;for(;a-- >0;)if(!iJ(e,t,n,r[a]))return!1;return!0}function ZX(e,t,n){var r,a,i,o=$X(e),s=o.length;if($X(t).length!==s)return!1;for(;s-- >0;){if(!iJ(e,t,n,r=o[s]))return!1;if(a=qX(e,r),i=qX(t,r),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function eJ(e,t){return WX(e.valueOf(),t.valueOf())}function tJ(e,t){return e.source===t.source&&e.flags===t.flags}function nJ(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&n.equals(a.value,i.value,a.value,i.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function rJ(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function aJ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function iJ(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||UX(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var oJ=Array.isArray,sJ="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,lJ=Object.assign,cJ=Object.prototype.toString.call.bind(Object.prototype.toString);var uJ=dJ();function dJ(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?ZX:HX,areDatesEqual:KX,areErrorsEqual:GX,areFunctionsEqual:YX,areMapsEqual:r?zX(XX,ZX):XX,areNumbersEqual:JX,areObjectsEqual:r?ZX:QX,arePrimitiveWrappersEqual:eJ,areRegExpsEqual:tJ,areSetsEqual:r?zX(nJ,ZX):nJ,areTypedArraysEqual:r?ZX:rJ,areUrlsEqual:aJ};if(n&&(a=lJ({},a,n(a))),t){var i=BX(a.areArraysEqual),o=BX(a.areMapsEqual),s=BX(a.areObjectsEqual),l=BX(a.areSetsEqual);a=lJ({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,h,p){if(e===h)return!0;if(null==e||null==h)return!1;var m=typeof e;if(m!==typeof h)return!1;if("object"!==m)return"number"===m?o(e,h,p):"function"===m&&a(e,h,p);var v=e.constructor;if(v!==h.constructor)return!1;if(v===Object)return s(e,h,p);if(oJ(e))return t(e,h,p);if(null!=sJ&&sJ(e))return d(e,h,p);if(v===Date)return n(e,h,p);if(v===RegExp)return c(e,h,p);if(v===Map)return i(e,h,p);if(v===Set)return u(e,h,p);var g=cJ(e);return"[object Date]"===g?n(e,h,p):"[object RegExp]"===g?c(e,h,p):"[object Map]"===g?i(e,h,p):"[object Set]"===g?u(e,h,p):"[object Object]"===g?"function"!=typeof e.then&&"function"!=typeof h.then&&s(e,h,p):"[object URL]"===g?f(e,h,p):"[object Error]"===g?r(e,h,p):"[object Arguments]"===g?s(e,h,p):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,h,p)}}(l),u=a?a(c):(t=c,function(e,n,r,a,i,o,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(e,o){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:i,equals:u,strict:s})}function fJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function hJ(e){return(hJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pJ(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vJ(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=pJ(r),i=a[0],o=a.slice(1);return"number"==typeof i?void fJ(n.bind(null,o),i):(n(i),void fJ(n.bind(null,o)))}"object"===hJ(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function gJ(e){return(gJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yJ(Object(n),!0).forEach(function(t){bJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bJ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==gJ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gJ(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dJ({strict:!0}),dJ({circular:!0}),dJ({circular:!0,strict:!0}),dJ({createInternalComparator:function(){return WX}}),dJ({strict:!0,createInternalComparator:function(){return WX}}),dJ({circular:!0,createInternalComparator:function(){return WX}}),dJ({circular:!0,createInternalComparator:function(){return WX},strict:!0});var jJ=function(e){return e},wJ=function(e,t){return Object.keys(t).reduce(function(n,r){return xJ(xJ({},n),{},bJ({},r,e(r,t[r])))},{})},NJ=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function _J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||SJ(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kJ(e){return function(e){if(Array.isArray(e))return OJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||SJ(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SJ(e,t){if(e){if("string"==typeof e)return OJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OJ(e,t):void 0}}function OJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var EJ=1e-4,CJ=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},PJ=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},TJ=function(e,t){return function(n){var r=CJ(e,t);return PJ(r,n)}},AJ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,i=1,o=1;break;case"ease":r=.25,a=.1,i=.25,o=1;break;case"ease-in":r=.42,a=0,i=1,o=1;break;case"ease-out":r=.42,a=0,i=.58,o=1;break;case"ease-in-out":r=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=_J(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],a=l[1],i=l[2],o=l[3]}}var c,u,d=TJ(r,i),f=TJ(a,o),h=(c=r,u=i,function(e){var t=CJ(c,u),n=[].concat(kJ(t.map(function(e,t){return e*t}).slice(1)),[0]);return PJ(n,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=d(n)-t,i=h(n);if(Math.abs(a-t)<EJ||i<EJ)return f(n);n=p(n-a/i)}return f(n)};return m.isStepper=!1,m},MJ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AJ(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,i=e.dt,o=void 0===i?17:i,s=function(e,t,r){var i=r+(-(e-t)*n-r*a)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<EJ&&Math.abs(i)<EJ?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===r.split("(")[0])return AJ(r)}return"function"==typeof r?r:null};function DJ(e){return(DJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IJ(e){return function(e){if(Array.isArray(e))return $J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||BJ(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RJ(Object(n),!0).forEach(function(t){FJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FJ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==DJ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===DJ(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||BJ(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BJ(e,t){if(e){if("string"==typeof e)return $J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$J(e,t):void 0}}function $J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var UJ=function(e,t,n){return e+(t-e)*n},WJ=function(e){return e.from!==e.to},qJ=function e(t,n,r){var a=wJ(function(e,n){if(WJ(n)){var r=zJ(t(n.from,n.to,n.velocity),2),a=r[0],i=r[1];return LJ(LJ({},n),{},{from:a,velocity:i})}return n},n);return r<1?wJ(function(e,t){return WJ(t)?LJ(LJ({},t),{},{velocity:UJ(t.velocity,a[e].velocity,r),from:UJ(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const VJ=function(e,t,n,r,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return LJ(LJ({},n),{},FJ({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return LJ(LJ({},n),{},FJ({},r,{from:e[r],velocity:0,to:t[r]}))},{}),f=-1,h=function(){return null};return h=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;d=qJ(n,d,i),a(LJ(LJ(LJ({},e),t),wJ(function(e,t){return t.from},d))),s=r,Object.values(d).filter(WJ).length&&(f=requestAnimationFrame(h))}:function(i){l||(l=i);var o=(i-l)/r,s=wJ(function(e,t){return UJ.apply(void 0,IJ(t).concat([n(o)]))},u);if(a(LJ(LJ(LJ({},e),t),s)),o<1)f=requestAnimationFrame(h);else{var c=wJ(function(e,t){return UJ.apply(void 0,IJ(t).concat([n(1)]))},u);a(LJ(LJ(LJ({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}};function HJ(e){return(HJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var KJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function GJ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function YJ(e){return function(e){if(Array.isArray(e))return XJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return XJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JJ(Object(n),!0).forEach(function(t){ZJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZJ(e,t,n){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eQ(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tQ(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tQ(e){var t=function(e,t){if("object"!==HJ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==HJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===HJ(t)?t:String(t)}function nQ(e,t){return(nQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fte){return!1}}();return function(){var n,r=oQ(e);if(t){var a=oQ(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return aQ(this,n)}}function aQ(e,t){if(t&&("object"===HJ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iQ(e)}function iQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oQ(e){return(oQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sQ=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nQ(e,t)}(t,q.PureComponent);var e=rQ(t);function t(n,r){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(a=e.call(this,n,r)).props,o=i.isActive,s=i.attributeName,l=i.from,c=i.to,u=i.steps,d=i.children,f=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(iQ(a)),a.changeStyle=a.changeStyle.bind(iQ(a)),!o||f<=0)return a.state={style:{}},"function"==typeof d&&(a.state={style:c}),aQ(a);if(u&&u.length)a.state={style:u[0].style};else if(l){if("function"==typeof d)return a.state={style:l},aQ(a);a.state={style:s?ZJ({},s,l):l}}else a.state={style:{}};return a}return eQ(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(uJ(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?ZJ({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(QJ(QJ({},this.props),{},{from:u,begin:0}))}}else{var f={style:a?ZJ({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=VJ(n,r,MJ(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,i=n[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(YJ(n.reduce(function(e,r,a){if(0===a)return e;var i=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=a>0?n[a-1]:r,f=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(YJ(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var h=NJ(f,i,s),p=QJ(QJ(QJ({},d.style),l),{},{transition:h});return[].concat(YJ(e),[p,i,u]).filter(jJ)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=vJ());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=r?ZJ({},r,a):a,f=NJ(Object.keys(d),n,i);u.start([o,t,QJ(QJ({},d),{},{transition:f}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var a=GJ(e,KJ),i=q.Children.count(t),o=this.state.style;if("function"==typeof t)return t(o);if(!r||0===i||n<=0)return t;var s=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,i=t.className;return q.cloneElement(e,QJ(QJ({},a),{},{style:QJ(QJ({},r),o),className:i}))};return 1===i?s(q.Children.only(t)):V.createElement("div",null,q.Children.map(t,function(e){return s(e)}))}}]),t}();function lQ(e){return(lQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cQ(){return cQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cQ.apply(this,arguments)}function uQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fQ(Object(n),!0).forEach(function(t){pQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pQ(e,t,n){var r;return r=function(e,t){if("object"!=lQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lQ(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}sQ.displayName="Animate",sQ.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},sQ.propTypes={from:IX.oneOfType([IX.object,IX.string]),to:IX.oneOfType([IX.object,IX.string]),attributeName:IX.string,duration:IX.number,begin:IX.number,easing:IX.oneOfType([IX.string,IX.func]),steps:IX.arrayOf(IX.shape({duration:IX.number.isRequired,style:IX.object.isRequired,easing:IX.oneOfType([IX.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),IX.func]),properties:IX.arrayOf("string"),onAnimationEnd:IX.func})),children:IX.oneOfType([IX.node,IX.func]),isActive:IX.bool,canBegin:IX.bool,onAnimationEnd:IX.func,shouldReAnimate:IX.bool,onAnimationStart:IX.func,onAnimationReStart:IX.func};var mQ=function(e,t,n,r,a){var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var f=Math.min(o,a);i="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+n-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*f,"\n            L ").concat(e+n,",").concat(t+r-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-l*f,",").concat(t+r,"\n            L ").concat(e+l*f,",").concat(t+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},vQ=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},gQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yQ=function(e){var t=hQ(hQ({},gQ),e),n=q.useRef(),r=uQ(q.useState(-1),2),a=r[0],i=r[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(zte){}},[]);var o=t.x,s=t.y,l=t.width,c=t.height,u=t.radius,d=t.className,f=t.animationEasing,h=t.animationDuration,p=t.animationBegin,m=t.isAnimationActive,v=t.isUpdateAnimationActive;if(o!==+o||s!==+s||l!==+l||c!==+c||0===l||0===c)return null;var g=dy("recharts-rectangle",d);return v?V.createElement(sQ,{canBegin:a>0,from:{width:l,height:c,x:o,y:s},to:{width:l,height:c,x:o,y:s},duration:h,animationEasing:f,isActive:v},function(e){var r=e.width,i=e.height,o=e.x,s=e.y;return V.createElement(sQ,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:m,easing:f},V.createElement("path",cQ({},NM(t,!0),{className:g,d:mQ(o,s,r,i,u),ref:n})))}):V.createElement("path",cQ({},NM(t,!0),{className:g,d:mQ(o,s,l,c,u)}))},xQ=["points","className","baseLinePoints","connectNulls"];function bQ(){return bQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bQ.apply(this,arguments)}function jQ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wQ(e){return function(e){if(Array.isArray(e))return NQ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return NQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NQ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _Q=function(e){return e&&e.x===+e.x&&e.y===+e.y},kQ=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){_Q(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),_Q(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(wQ(e),wQ(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},SQ=function(e){var t=e.points,n=e.className,r=e.baseLinePoints,a=e.connectNulls,i=jQ(e,xQ);if(!t||!t.length)return null;var o=dy("recharts-polygon",n);if(r&&r.length){var s=i.stroke&&"none"!==i.stroke,l=function(e,t,n){var r=kQ(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(kQ(t.reverse(),n).slice(1))}(t,r,a);return V.createElement("g",{className:o},V.createElement("path",bQ({},NM(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),s?V.createElement("path",bQ({},NM(i,!0),{fill:"none",d:kQ(t,a)})):null,s?V.createElement("path",bQ({},NM(i,!0),{fill:"none",d:kQ(r,a)})):null)}var c=kQ(t,a);return V.createElement("path",bQ({},NM(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",className:o,d:c}))};function OQ(){return OQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OQ.apply(this,arguments)}var EQ=function(e){var t=e.cx,n=e.cy,r=e.r,a=dy("recharts-dot",e.className);return t===+t&&n===+n&&r===+r?q.createElement("circle",OQ({},NM(e,!1),sM(e),{className:a,cx:t,cy:n,r:r})):null};function CQ(e){return(CQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var PQ=["x","y","top","left","width","height","className"];function TQ(){return TQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TQ.apply(this,arguments)}function AQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MQ(e,t,n){var r;return r=function(e,t){if("object"!=CQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CQ(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DQ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var IQ=function(e,t,n,r,a,i){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},RQ=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r,i=e.top,o=void 0===i?0:i,s=e.left,l=void 0===s?0:s,c=e.width,u=void 0===c?0:c,d=e.height,f=void 0===d?0:d,h=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AQ(Object(n),!0).forEach(function(t){MQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:a,top:o,left:l,width:u,height:f},DQ(e,PQ));return HA(n)&&HA(a)&&HA(u)&&HA(f)&&HA(o)&&HA(l)?V.createElement("path",TQ({},NM(p,!0),{className:dy("recharts-cross",h),d:IQ(n,a,u,f,o,l)})):null},LQ=sK,FQ=lK,zQ=JF;const BQ=a(function(e,t){return e&&e.length?LQ(e,zQ(t),FQ):void 0});var $Q=sK,UQ=JF,WQ=hK;const qQ=a(function(e,t){return e&&e.length?$Q(e,UQ(t),WQ):void 0});var VQ=["cx","cy","angle","ticks","axisLine"],HQ=["ticks","tick","angle","tickFormatter","stroke"];function KQ(e){return(KQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GQ(){return GQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GQ.apply(this,arguments)}function YQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YQ(Object(n),!0).forEach(function(t){rZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JQ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aZ(r.key),r)}}function ZQ(e,t,n){return t=tZ(t),function(e,t){if(t&&("object"===KQ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eZ()?Reflect.construct(t,n||[],tZ(e).constructor):t.apply(e,n))}function eZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(eZ=function(){return!!e})()}function tZ(e){return(tZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nZ(e,t){return(nZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rZ(e,t,n){return(t=aZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aZ(e){var t=function(e,t){if("object"!=KQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KQ(t)?t:t+""}var iZ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ZQ(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nZ(e,t)}(e,q.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return V.isValidElement(e)?V.cloneElement(e,t):wP(e)?e(t):V.createElement(_U,GQ({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,a=n.cx,i=n.cy;return DY(a,i,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=BQ(a,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:qQ(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=e.axisLine,o=JQ(e,VQ),s=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=DY(t,n,s[0],r),c=DY(t,n,s[1],r),u=XQ(XQ(XQ({},NM(o,!1)),{},{fill:"none"},NM(i,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return V.createElement("line",GQ({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,a=n.tick,i=n.angle,o=n.tickFormatter,s=n.stroke,l=JQ(n,HQ),c=this.getTickTextAnchor(),u=NM(l,!1),d=NM(a,!1),f=r.map(function(n,r){var l=t.getTickValueCoord(n),f=XQ(XQ(XQ(XQ({textAnchor:c,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},u),{},{stroke:"none",fill:s},d),{},{index:r},l),{},{payload:n});return V.createElement(DM,GQ({className:dy("recharts-polar-radius-axis-tick",zY(a)),key:"tick-".concat(n.coordinate)},lM(t.props,n,r)),e.renderTickItem(a,f,o?o(n.value,r):n.value))});return V.createElement(DM,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,r=e.tick;return t&&t.length?V.createElement(DM,{className:dy("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),r&&this.renderTicks(),XY.renderCallByParent(this.props,this.getViewBox())):null}}])&&QQ(t.prototype,n),r&&QQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function oZ(e){return(oZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sZ(){return sZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sZ.apply(this,arguments)}function lZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lZ(Object(n),!0).forEach(function(t){mZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vZ(r.key),r)}}function dZ(e,t,n){return t=hZ(t),function(e,t){if(t&&("object"===oZ(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fZ()?Reflect.construct(t,n||[],hZ(e).constructor):t.apply(e,n))}function fZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(fZ=function(){return!!e})()}function hZ(e){return(hZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pZ(e,t){return(pZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mZ(e,t,n){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e){var t=function(e,t){if("object"!=oZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oZ(t)?t:t+""}rZ(iZ,"displayName","PolarRadiusAxis"),rZ(iZ,"axisType","radiusAxis"),rZ(iZ,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var gZ=Math.PI/180,yZ=1e-5,xZ=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dZ(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pZ(e,t)}(e,q.PureComponent),t=e,r=[{key:"renderTickItem",value:function(e,t,n){return V.isValidElement(e)?V.cloneElement(e,t):wP(e)?e(t):V.createElement(_U,sZ({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,a=t.radius,i=t.orientation,o=t.tickSize||8,s=DY(n,r,a,e.coordinate),l=DY(n,r,a+("inner"===i?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*gZ);return n>yZ?"outer"===t?"start":"end":n<-yZ?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.radius,a=e.axisLine,i=e.axisLineType,o=cZ(cZ({},NM(this.props,!1)),{},{fill:"none"},NM(a,!1));if("circle"===i)return V.createElement(EQ,sZ({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:n,r:r}));var s=this.props.ticks.map(function(e){return DY(t,n,r,e.coordinate)});return V.createElement(SQ,sZ({className:"recharts-polar-angle-axis-line"},o,{points:s}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,r=n.ticks,a=n.tick,i=n.tickLine,o=n.tickFormatter,s=n.stroke,l=NM(this.props,!1),c=NM(a,!1),u=cZ(cZ({},l),{},{fill:"none"},NM(i,!1)),d=r.map(function(n,r){var d=t.getTickLineCoord(n),f=cZ(cZ(cZ({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:s},c),{},{index:r,payload:n,x:d.x2,y:d.y2});return V.createElement(DM,sZ({className:dy("recharts-polar-angle-axis-tick",zY(a)),key:"tick-".concat(n.coordinate)},lM(t.props,n,r)),i&&V.createElement("line",sZ({className:"recharts-polar-angle-axis-tick-line"},u,d)),a&&e.renderTickItem(a,f,o?o(n.value,r):n.value))});return V.createElement(DM,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,r=e.axisLine;return n<=0||!t||!t.length?null:V.createElement(DM,{className:dy("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&uZ(t.prototype,n),r&&uZ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();mZ(xZ,"displayName","PolarAngleAxis"),mZ(xZ,"axisType","angleAxis"),mZ(xZ,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bZ=hL(Object.getPrototypeOf,Object),jZ=sP,wZ=bZ,NZ=lP,_Z=Function.prototype,kZ=Object.prototype,SZ=_Z.toString,OZ=kZ.hasOwnProperty,EZ=SZ.call(Object);var CZ=function(e){if(!NZ(e)||"[object Object]"!=jZ(e))return!1;var t=wZ(e);if(null===t)return!0;var n=OZ.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&SZ.call(n)==EZ};const PZ=a(CZ);var TZ=sP,AZ=lP;const MZ=a(function(e){return!0===e||!1===e||AZ(e)&&"[object Boolean]"==TZ(e)});function DZ(e){return(DZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IZ(){return IZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IZ.apply(this,arguments)}function RZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FZ(Object(n),!0).forEach(function(t){BZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BZ(e,t,n){var r;return r=function(e,t){if("object"!=DZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==DZ(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $Z,UZ=function(e,t,n,r,a){var i,o=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+a),i+="L ".concat(e+n-o/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},WZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qZ=function(e){var t=zZ(zZ({},WZ),e),n=q.useRef(),r=RZ(q.useState(-1),2),a=r[0],i=r[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(zte){}},[]);var o=t.x,s=t.y,l=t.upperWidth,c=t.lowerWidth,u=t.height,d=t.className,f=t.animationEasing,h=t.animationDuration,p=t.animationBegin,m=t.isUpdateAnimationActive;if(o!==+o||s!==+s||l!==+l||c!==+c||u!==+u||0===l&&0===c||0===u)return null;var v=dy("recharts-trapezoid",d);return m?V.createElement(sQ,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:l,lowerWidth:c,height:u,x:o,y:s},duration:h,animationEasing:f,isActive:m},function(e){var r=e.upperWidth,i=e.lowerWidth,o=e.height,s=e.x,l=e.y;return V.createElement(sQ,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},V.createElement("path",IZ({},NM(t,!0),{className:v,d:UZ(s,l,r,i,o),ref:n})))}):V.createElement("g",null,V.createElement("path",IZ({},NM(t,!0),{className:v,d:UZ(o,s,l,c,u)})))},VZ=["option","shapeType","propTransformer","activeClassName","isActive"];function HZ(e){return(HZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KZ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GZ(Object(n),!0).forEach(function(t){XZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XZ(e,t,n){var r;return r=function(e,t){if("object"!=HZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==HZ(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZ(e,t){return YZ(YZ({},t),e)}function QZ(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return V.createElement(yQ,n);case"trapezoid":return V.createElement(qZ,n);case"sector":return V.createElement(bX,n);case"symbols":if(function(e){return"symbols"===e}(t))return V.createElement(jI,n);break;default:return null}}function ZZ(e){return q.isValidElement(e)?e.props:e}function e0(e){var t,n=e.option,r=e.shapeType,a=e.propTransformer,i=void 0===a?JZ:a,o=e.activeClassName,s=void 0===o?"recharts-active-shape":o,l=e.isActive,c=KZ(e,VZ);if(q.isValidElement(n))t=q.cloneElement(n,YZ(YZ({},c),ZZ(n)));else if(wP(n))t=n(c);else if(PZ(n)&&!MZ(n)){var u=i(n,c);t=V.createElement(QZ,{shapeType:r,elementProps:u})}else{var d=c;t=V.createElement(QZ,{shapeType:r,elementProps:d})}return l?V.createElement(DM,{className:s},t):t}function t0(e,t){return null!=t&&"trapezoids"in e.props}function n0(e,t){return null!=t&&"sectors"in e.props}function r0(e,t){return null!=t&&"points"in e.props}function a0(e,t){var n,r,a=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&i}function i0(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function o0(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function s0(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return t0(e,t)?n="trapezoids":n0(e,t)?n="sectors":r0(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return t0(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:n0(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:r0(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=SK(i,e),s=n.props[a].filter(function(e){var r=function(e,t){var n;return t0(e,t)?n=a0:n0(e,t)?n=i0:r0(e,t)&&(n=o0),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(s[s.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}function l0(e){return(l0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(this,arguments)}function u0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u0(Object(n),!0).forEach(function(t){g0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y0(r.key),r)}}function h0(e,t,n){return t=m0(t),function(e,t){if(t&&("object"===l0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p0()?Reflect.construct(t,n||[],m0(e).constructor):t.apply(e,n))}function p0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p0=function(){return!!e})()}function m0(e){return(m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v0(e,t){return(v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g0(e,t,n){return(t=y0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y0(e){var t=function(e,t){if("object"!=l0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l0(t)?t:t+""}var x0=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g0(n=h0(this,e,[t]),"pieRef",null),g0(n,"sectorRefs",[]),g0(n,"id",YA("recharts-pie-")),g0(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),wP(e)&&e()}),g0(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),wP(e)&&e()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v0(e,t)}(e,q.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(V.isValidElement(e))return V.cloneElement(e,t);if(wP(e))return e(t);var r=dy("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return V.createElement(TX,c0({},t,{key:n,type:"linear",className:r}))}},{key:"renderLabelItem",value:function(e,t,n){if(V.isValidElement(e))return V.cloneElement(e,t);var r=n;if(wP(e)&&(r=e(t),V.isValidElement(r)))return r;var a=dy("recharts-pie-label-text","boolean"==typeof e||wP(e)?"":e.className);return V.createElement(_U,c0({},t,{alignmentBaseline:"middle",className:a}),r)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.label,a=n.labelLine,i=n.dataKey,o=n.valueKey,s=NM(this.props,!1),l=NM(r,!1),c=NM(a,!1),u=r&&r.offsetRadius||20,d=t.map(function(t,n){var d=(t.startAngle+t.endAngle)/2,f=DY(t.cx,t.cy,t.outerRadius+u,d),h=d0(d0(d0(d0({},s),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(f.x,t.cx)},f),p=d0(d0(d0(d0({},s),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[DY(t.cx,t.cy,t.outerRadius,d),f]}),m=i;return pA(i)&&pA(o)?m="value":pA(i)&&(m=o),V.createElement(DM,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},a&&e.renderLabelLineItem(a,p,"line"),e.renderLabelItem(r,h,tY(t,m)))});return V.createElement(DM,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,r=n.activeShape,a=n.blendStroke,i=n.inactiveShape;return e.map(function(n,o){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var s=t.isActiveIndex(o),l=i&&t.hasActiveIndex()?i:null,c=s?r:l,u=d0(d0({},n),{},{stroke:a?n.fill:n.stroke,tabIndex:-1});return V.createElement(DM,c0({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},lM(t.props,n,o),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(o)}),V.createElement(e0,c0({option:c,isActive:s,shapeType:"sector"},u)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,r=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,o=t.animationEasing,s=t.animationId,l=this.state,c=l.prevSectors,u=l.prevIsAnimationActive;return V.createElement(sQ,{begin:a,duration:i,isActive:r,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var r=t.t,a=[],i=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=c&&c[t],o=t>0?hA(e,"paddingAngle",0):0;if(n){var s=QA(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=d0(d0({},e),{},{startAngle:i+o,endAngle:i+s(r)+o});a.push(l),i=l.endAngle}else{var u=e.endAngle,d=e.startAngle,f=QA(0,u-d)(r),h=d0(d0({},e),{},{startAngle:i+o,endAngle:i+f+o});a.push(h),i=h.endAngle}}),V.createElement(DM,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&SK(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.sectors,a=t.className,i=t.label,o=t.cx,s=t.cy,l=t.innerRadius,c=t.outerRadius,u=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!r||!r.length||!HA(o)||!HA(s)||!HA(l)||!HA(c))return null;var f=dy("recharts-pie",a);return V.createElement(DM,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(r),XY.renderCallByParent(this.props,null,!1),(!u||d)&&dX.renderCallByParent(this.props,r,!1))}}])&&f0(t.prototype,n),r&&f0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();$Z=x0,g0(x0,"displayName","Pie"),g0(x0,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ZB.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),g0(x0,"parseDeltaAngle",function(e,t){return qA(t-e)*Math.min(Math.abs(t-e),360)}),g0(x0,"getRealPieData",function(e){var t=e.data,n=e.children,r=NM(e,!1),a=yM(n,$$);return t&&t.length?t.map(function(e,t){return d0(d0(d0({payload:e},r),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return d0(d0({},r),e.props)}):[]}),g0(x0,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=IY(a,i);return{cx:r+XA(e.cx,a,a/2),cy:n+XA(e.cy,i,i/2),innerRadius:XA(e.innerRadius,o,0),outerRadius:XA(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),g0(x0,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?d0(d0({},t.type.defaultProps),t.props):t.props,a=$Z.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,h=Math.abs(r.minAngle),p=$Z.parseCoordinateOfPie(r,n),m=$Z.parseDeltaAngle(o,s),v=Math.abs(m),g=c;pA(c)&&pA(d)?(IM(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):pA(c)&&(IM(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=d);var y,x,b=a.filter(function(e){return 0!==tY(e,g,0)}).length,j=v-b*h-(v>=360?b:b-1)*l,w=a.reduce(function(e,t){var n=tY(t,g,0);return e+(HA(n)?n:0)},0);w>0&&(y=a.map(function(e,t){var n,r=tY(e,g,0),a=tY(e,u,t),s=(HA(r)?r:0)/w,c=(n=t?x.endAngle+qA(m)*l*(0!==r?1:0):o)+qA(m)*((0!==r?h:0)+s*j),d=(n+c)/2,v=(p.innerRadius+p.outerRadius)/2,y=[{name:a,value:r,payload:e,dataKey:g,type:f}],b=DY(p.cx,p.cy,v,d);return x=d0(d0(d0({percent:s,cornerRadius:i,name:a,tooltipPayload:y,midAngle:d,middleRadius:v,tooltipPosition:b},e),p),{},{value:tY(e,g),startAngle:n,endAngle:c,payload:e,paddingAngle:qA(m)*l})}));return d0(d0({},p),{},{sectors:y,data:a})});var b0=Math.ceil,j0=Math.max;var w0=N$,N0=1/0;var _0=function(e){return e?(e=w0(e))===N0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},k0=function(e,t,n,r){for(var a=-1,i=j0(b0((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o},S0=wB,O0=_0;const E0=a(function(e){return function(t,n,r){return r&&"number"!=typeof r&&S0(t,n,r)&&(n=r=void 0),t=O0(t),void 0===n?(n=t,t=0):n=O0(n),r=void 0===r?t<n?1:-1:O0(r),k0(t,n,r,e)}}());function C0(e){return(C0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P0(Object(n),!0).forEach(function(t){A0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A0(e,t,n){var r;return r=function(e,t){if("object"!=C0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==C0(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M0=["Webkit","Moz","O","ms"];function D0(e){return(D0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(this,arguments)}function R0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R0(Object(n),!0).forEach(function(t){W0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q0(r.key),r)}}function z0(e,t,n){return t=$0(t),function(e,t){if(t&&("object"===D0(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,B0()?Reflect.construct(t,n||[],$0(e).constructor):t.apply(e,n))}function B0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(B0=function(){return!!e})()}function $0(e){return($0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U0(e,t){return(U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W0(e,t,n){return(t=q0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q0(e){var t=function(e,t){if("object"!=D0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D0(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D0(t)?t:t+""}var V0=function(e){return e.changedTouches&&!!e.changedTouches.length},H0=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),W0(n=z0(this,e,[t]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),W0(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),W0(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,a=e.startIndex;null==r||r({endIndex:t,startIndex:a})}),n.detachDragEndListener()}),W0(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),W0(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),W0(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),W0(n,"handleSlideDragStart",function(e){var t=V0(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U0(e,t)}(e,q.PureComponent),t=e,r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i=e.stroke,o=Math.floor(n+a/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:t,y:n,width:r,height:a,fill:i,stroke:"none"}),V.createElement("line",{x1:t+1,y1:o,x2:t+r-1,y2:o,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:t+1,y1:o+2,x2:t+r-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return V.isValidElement(t)?V.cloneElement(t,n):wP(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return L0({prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=ZU().domain(E0(0,s)).range([a,a+i-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+r-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(a,l),d=e.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,i=tY(n[e],a,e);return wP(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,f=e.pageX-n;f>0?f=Math.min(f,o+s-l-a,o+s-l-r):f<0&&(f=Math.max(f,o-r,o-a));var h=this.getIndex({startX:r+f,endX:a+f});h.startIndex===c&&h.endIndex===u||!d||d(h),this.setState({startX:r+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=V0(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,f=s.gap,h=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[r]=o+m;var v=this.getIndex(p),g=v.startIndex,y=v.endIndex;this.setState(W0(W0({},r,o+m),"brushMoveStartX",e.pageX),function(){var e;d&&(e=h.length-1,("startX"===r&&(a>i?g%f===0:y%f===0)||a<i&&y===e||"endX"===r&&(a>i?y%f===0:g%f===0)||a>i&&y===e)&&d(v))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,i=r.startX,o=r.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(W0({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.fill,o=e.stroke;return V.createElement("rect",{stroke:o,fill:i,x:t,y:n,width:r,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.data,o=e.children,s=e.padding,l=q.Children.only(o);return l?V.cloneElement(l,{x:t,y:n,width:r,height:a,margin:s,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,a,i=this,o=this.props,s=o.y,l=o.travellerWidth,c=o.height,u=o.traveller,d=o.ariaLabel,f=o.data,h=o.startIndex,p=o.endIndex,m=Math.max(t,this.props.x),v=L0(L0({},NM(this.props,!1)),{},{x:m,y:s,width:l,height:c}),g=d||"Min value: ".concat(null===(r=f[h])||void 0===r?void 0:r.name,", Max value: ").concat(null===(a=f[p])||void 0===a?void 0:a.name);return V.createElement(DM,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,v))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,a=n.height,i=n.stroke,o=n.travellerWidth,s=Math.min(e,t)+o,l=Math.max(Math.abs(t-e)-o,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:s,y:r,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,a=e.height,i=e.travellerWidth,o=e.stroke,s=this.state,l=s.startX,c=s.endX,u={pointerEvents:"none",fill:o};return V.createElement(DM,{className:"recharts-brush-texts"},V.createElement(_U,I0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:r+a/2},u),this.getTextOfTick(t)),V.createElement(_U,I0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+i+5,y:r+a/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,a=e.x,i=e.y,o=e.width,s=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,d=c.endX,f=c.isTextActive,h=c.isSlideMoving,p=c.isTravellerMoving,m=c.isTravellerFocused;if(!t||!t.length||!HA(a)||!HA(i)||!HA(o)||!HA(s)||o<=0||s<=0)return null;var v,g,y,x,b=dy("recharts-brush",n),j=1===V.Children.count(r),w=(g="none",y=(v="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(x=M0.reduce(function(e,t){return T0(T0({},e),{},A0({},t+y,g))},{}))[v]=g,x);return V.createElement(DM,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(u,d),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(d,"endX"),(f||h||p||m||l)&&this.renderText())}}])&&F0(t.prototype,n),r&&F0(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();W0(H0,"displayName","Brush"),W0(H0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var K0=Uz;var G0=JI,Y0=JF,X0=function(e,t){var n;return K0(e,function(e,r,a){return!(n=t(e,r,a))}),!!n},J0=VC,Q0=wB;const Z0=a(function(e,t,n){var r=J0(e)?G0:X0;return n&&Q0(e,t,n)&&(t=void 0),r(e,Y0(t))});var e1=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},t1=cB;var n1=function(e,t,n){"__proto__"==t&&t1?t1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},r1=n1,a1=Bz,i1=JF;const o1=a(function(e,t){var n={};return t=i1(t),a1(e,function(e,r,a){r1(n,r,t(e,r,a))}),n});var s1=Uz;var l1=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0},c1=function(e,t){var n=!0;return s1(e,function(e,r,a){return n=!!t(e,r,a)}),n},u1=JF,d1=VC,f1=wB;const h1=a(function(e,t,n){var r=d1(e)?l1:c1;return n&&f1(e,t,n)&&(t=void 0),r(e,u1(t))});var p1=["x","y"];function m1(e){return(m1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v1.apply(this,arguments)}function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(t){x1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x1(e,t,n){var r;return r=function(e,t){if("object"!=m1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==m1(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b1(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j1(e,t){var n=e.x,r=e.y,a=b1(e,p1),i="".concat(n),o=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),f=parseInt(d,10);return y1(y1(y1(y1(y1({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function w1(e){return V.createElement(e0,v1({shapeType:"rectangle",propTransformer:j1,activeClassName:"recharts-active-bar"},e))}var N1,_1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var a=HA(n)||function(e){return pA(e)}(n);return a?e(n,r):(a||CG(),t)}},k1=["value","background"];function S1(e){return(S1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O1(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E1.apply(this,arguments)}function C1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C1(Object(n),!0).forEach(function(t){R1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L1(r.key),r)}}function A1(e,t,n){return t=D1(t),function(e,t){if(t&&("object"===S1(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,M1()?Reflect.construct(t,n||[],D1(e).constructor):t.apply(e,n))}function M1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(M1=function(){return!!e})()}function D1(e){return(D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I1(e,t){return(I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R1(e,t,n){return(t=L1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L1(e){var t=function(e,t){if("object"!=S1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S1(t)?t:t+""}var F1=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return R1(t=A1(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),R1(t,"id",YA("recharts-bar-")),R1(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),R1(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I1(e,t)}(e,q.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,a=n.dataKey,i=n.activeIndex,o=n.activeBar,s=NM(this.props,!1);return e&&e.map(function(e,n){var l=n===i,c=l?o:r,u=P1(P1(P1({},s),e),{},{isActive:l,option:c,index:n,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return V.createElement(DM,E1({className:"recharts-bar-rectangle"},lM(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),V.createElement(w1,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,a=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevData;return V.createElement(sQ,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,i=n.map(function(e,t){var n=c&&c[t];if(n){var i=QA(n.x,e.x),o=QA(n.y,e.y),s=QA(n.width,e.width),l=QA(n.height,e.height);return P1(P1({},e),{},{x:i(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===r){var u=QA(0,e.height)(a);return P1(P1({},e),{},{y:e.y+e.height-u,height:u})}var d=QA(0,e.width)(a);return P1(P1({},e),{},{width:d})});return V.createElement(DM,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&SK(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,a=t.activeIndex,i=NM(this.props.background,!1);return n.map(function(t,n){t.value;var o=t.background,s=O1(t,k1);if(!o)return null;var l=P1(P1(P1(P1(P1({},s),{},{fill:"#eee"},o),i),lM(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return V.createElement(w1,E1({key:"background-bar-".concat(n),option:e.props.background,isActive:n===a},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,a=n.xAxis,i=n.yAxis,o=n.layout,s=yM(n.children,WG);if(!s)return null;var l="vertical"===o?r[0].height/2:r[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:tY(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return V.createElement(DM,u,s.map(function(e){return V.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:o,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,a=e.xAxis,i=e.yAxis,o=e.left,s=e.top,l=e.width,c=e.height,u=e.isAnimationActive,d=e.background,f=e.id;if(t||!n||!n.length)return null;var h=this.state.isAnimationFinished,p=dy("recharts-bar",r),m=a&&a.allowDataOverflow,v=i&&i.allowDataOverflow,g=m||v,y=pA(f)?this.id:f;return V.createElement(DM,{className:p},m||v?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(y)},V.createElement("rect",{x:m?o:o-l/2,y:v?s:s-c/2,width:m?l:2*l,height:v?c:2*c}))):null,V.createElement(DM,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(y,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,y),(!u||h)&&dX.renderCallByParent(this.props,n))}}])&&T1(t.prototype,n),r&&T1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function z1(e){return(z1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q1(r.key),r)}}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(t){W1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function W1(e,t,n){return(t=q1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q1(e){var t=function(e,t){if("object"!=z1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z1(t)?t:t+""}N1=F1,R1(F1,"displayName","Bar"),R1(F1,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ZB.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),R1(F1,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!h)return null;var p=t.layout,m=n.type.defaultProps,v=void 0!==m?P1(P1({},m),n.props):n.props,g=v.dataKey,y=v.children,x=v.minPointSize,b="horizontal"===p?o:i,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:b}),N=yM(y,$$),_=d.map(function(e,t){var r,d,f,m,v,y;c?r=function(e,t){if(!t||2!==t.length||!HA(t[0])||!HA(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!HA(e[0])||e[0]<n)&&(a[0]=n),(!HA(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[u+t],j):(r=tY(e,g),Array.isArray(r)||(r=[w,r]));var b=_1(x,N1.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var _,k=[o.scale(r[0]),o.scale(r[1])],S=k[0],O=k[1];d=yY({axis:i,ticks:s,bandSize:a,offset:h.offset,entry:e,index:t}),f=null!==(_=null!=O?O:S)&&void 0!==_?_:void 0,m=h.size;var E=S-O;if(v=Number.isNaN(E)?0:E,y={x:d,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(v)<Math.abs(b)){var C=qA(v||b)*(Math.abs(b)-Math.abs(v));f-=C,v+=C}}else{var P=[i.scale(r[0]),i.scale(r[1])],T=P[0],A=P[1];if(d=T,f=yY({axis:o,ticks:l,bandSize:a,offset:h.offset,entry:e,index:t}),m=A-T,v=h.size,y={x:i.x,y:f,width:i.width,height:v},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=qA(m||b)*(Math.abs(b)-Math.abs(m))}return P1(P1(P1({},e),{},{x:d,y:f,width:m,height:v,value:c?r:r[1],payload:e,background:y},N&&N[t]&&N[t].props),{},{tooltipPayload:[kY(n,e)],tooltipPosition:{x:d+m/2,y:f+v/2}})});return P1({data:_,layout:p},f)});var V1=function(e,t,n,r,a){var i=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},d=!!xM(l,F1);return c.reduce(function(i,o){var l,c,f,h,p,m=t[o],v=m.orientation,g=m.domain,y=m.padding,x=void 0===y?{}:y,b=m.mirror,j=m.reversed,w="".concat(v).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=g[1]-g[0],_=1/0,k=m.categoricalDomain.sort(eM);if(k.forEach(function(e,t){t>0&&(_=Math.min((e||0)-(k[t-1]||0),_))}),Number.isFinite(_)){var S=_/N,O="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=S*O/2),"no-gap"===m.padding){var E=XA(e.barCategoryGap,S*O),C=S*O/2;l=C-E-(C-E)/O*E}}}c="xAxis"===r?[n.left+(x.left||0)+(l||0),n.left+n.width-(x.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(l||0),n.top+n.height-(x.bottom||0)-(l||0)]:m.range,j&&(c=[c[1],c[0]]);var P=dY(m,a,d),T=P.scale,A=P.realScaleType;T.domain(g).range(c),hY(T);var M=vY(T,U1(U1({},m),{},{realScaleType:A}));"xAxis"===r?(p="top"===v&&!b||"bottom"===v&&b,f=n.left,h=u[w]-p*m.height):"yAxis"===r&&(p="left"===v&&!b||"right"===v&&b,f=u[w]-p*m.width,h=n.top);var D=U1(U1(U1({},m),M),{},{realScaleType:A,x:f,y:h,scale:T,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return D.bandSize=NY(D,M),m.hide||"xAxis"!==r?m.hide||(u[w]+=(p?-1:1)*D.width):u[w]+=(p?-1:1)*D.height,U1(U1({},i),{},W1({},o,D))},{})},H1=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},K1=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&B1(t.prototype,n),r&&B1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();W1(K1,"EPS",1e-4);var G1=function(e){var t=Object.keys(e).reduce(function(t,n){return U1(U1({},t),{},W1({},n,K1.create(e[n])))},{});return U1(U1({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return o1(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return h1(e,function(e,n){return t[n].isInRange(e)})}})};var Y1=JF,X1=bL,J1=_L;var Q1=function(e){return function(t,n,r){var a=Object(t);if(!X1(t)){var i=Y1(n);t=J1(t),n=function(e){return i(a[e],e,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}},Z1=_0;var e2=QF,t2=JF,n2=function(e){var t=Z1(e),n=t%1;return t==t?n?t-n:t:0},r2=Math.max;const a2=a(Q1(function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:n2(n);return a<0&&(a=r2(r+a,0)),e2(e,t2(t),a)}));var i2=$T(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),o2=q.createContext(void 0),s2=q.createContext(void 0),l2=q.createContext(void 0),c2=q.createContext({}),u2=q.createContext(void 0),d2=q.createContext(0),f2=q.createContext(0),h2=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,a=t.offset,i=e.clipPathId,o=e.children,s=e.width,l=e.height,c=i2(a);return V.createElement(o2.Provider,{value:n},V.createElement(s2.Provider,{value:r},V.createElement(c2.Provider,{value:a},V.createElement(l2.Provider,{value:c},V.createElement(u2.Provider,{value:i},V.createElement(d2.Provider,{value:l},V.createElement(f2.Provider,{value:s},o)))))))},p2=function(e){var t=q.useContext(o2);null==t&&CG();var n=t[e];return null==n&&CG(),n},m2=function(e){var t=q.useContext(s2);null==t&&CG();var n=t[e];return null==n&&CG(),n},v2=function(){return q.useContext(f2)},g2=function(){return q.useContext(d2)};function y2(e){return(y2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x2(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O2(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b2(e,t,n){return t=w2(t),function(e,t){if(t&&("object"===y2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,j2()?Reflect.construct(t,n||[],w2(e).constructor):t.apply(e,n))}function j2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(j2=function(){return!!e})()}function w2(e){return(w2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N2(e,t){return(N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(t){S2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S2(e,t,n){return(t=O2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O2(e){var t=function(e,t){if("object"!=y2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y2(t)?t:t+""}function E2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C2(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P2.apply(this,arguments)}function T2(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,l=e.alwaysShow,c=q.useContext(u2),u=p2(a),d=m2(i),f=q.useContext(l2);if(!c||!f)return null;IM(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,f=a.height;if(n){var h=l.y,p=e.y.apply(h,{position:i});if(e1(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var v=l.x,g=e.x.apply(v,{position:i});if(e1(l,"discard")&&!e.x.isInRange(g))return null;var y=[{x:g,y:u+f},{x:g,y:u}];return"top"===o?y.reverse():y}if(r){var x=l.segment.map(function(t){return e.apply(t,{position:i})});return e1(l,"discard")&&Z0(x,function(t){return!e.isInRange(t)})?null:x}return null}(G1({x:u.scale,y:d.scale}),KA(t),KA(n),r&&2===r.length,f,e.position,u.orientation,d.orientation,e);if(!h)return null;var p=E2(h,2),m=p[0],v=m.x,g=m.y,y=p[1],x=y.x,b=y.y,j=k2(k2({clipPath:e1(e,"hidden")?"url(#".concat(c,")"):void 0},NM(e,!0)),{},{x1:v,y1:g,x2:x,y2:b});return V.createElement(DM,{className:dy("recharts-reference-line",s)},function(e,t){return V.isValidElement(e)?V.cloneElement(e,t):wP(e)?e(t):V.createElement("line",P2({},t,{className:"recharts-reference-line-line"}))}(o,j),XY.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return H1({x:t,y:n},{x:r,y:a})}({x1:v,y1:g,x2:x,y2:b})))}var A2=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b2(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N2(e,t)}(e,V.Component),x2(e,[{key:"render",value:function(){return V.createElement(T2,this.props)}}])}();function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M2.apply(this,arguments)}function D2(e){return(D2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(t){U2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L2(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W2(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F2(e,t,n){return t=B2(t),function(e,t){if(t&&("object"===D2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,z2()?Reflect.construct(t,n||[],B2(e).constructor):t.apply(e,n))}function z2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(z2=function(){return!!e})()}function B2(e){return(B2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $2(e,t){return($2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U2(e,t,n){return(t=W2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W2(e){var t=function(e,t){if("object"!=D2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D2(t)?t:t+""}S2(A2,"displayName","ReferenceLine"),S2(A2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var q2=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F2(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$2(e,t)}(e,V.Component),L2(e,[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,a=t.r,i=t.alwaysShow,o=t.clipPathId,s=KA(n),l=KA(r);if(IM(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,i=G1({x:r.scale,y:a.scale}),o=i.apply({x:t,y:n},{bandAware:!0});return e1(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!c)return null;var u=c.x,d=c.y,f=this.props,h=f.shape,p=f.className,m=R2(R2({clipPath:e1(this.props,"hidden")?"url(#".concat(o,")"):void 0},NM(this.props,!0)),{},{cx:u,cy:d});return V.createElement(DM,{className:dy("recharts-reference-dot",p)},e.renderDot(h,m),XY.renderCallByParent(this.props,{x:u-a,y:d-a,width:2*a,height:2*a}))}}])}();function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V2.apply(this,arguments)}function H2(e){return(H2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(t){e4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y2(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t4(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X2(e,t,n){return t=Q2(t),function(e,t){if(t&&("object"===H2(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J2()?Reflect.construct(t,n||[],Q2(e).constructor):t.apply(e,n))}function J2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(J2=function(){return!!e})()}function Q2(e){return(Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z2(e,t){return(Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e4(e,t,n){return(t=t4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t4(e){var t=function(e,t){if("object"!=H2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H2(t)?t:t+""}U2(q2,"displayName","ReferenceDot"),U2(q2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),U2(q2,"renderDot",function(e,t){return V.isValidElement(e)?V.cloneElement(e,t):wP(e)?e(t):V.createElement(EQ,M2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var n4=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X2(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z2(e,t)}(e,V.Component),Y2(e,[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,a=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,l=t.clipPathId;IM(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=KA(n),u=KA(r),d=KA(a),f=KA(i),h=this.props.shape;if(!(c||u||d||f||h))return null;var p=function(e,t,n,r,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=G1({x:c.scale,y:u.scale}),f={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},h={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!e1(a,"discard")||d.isInRange(f)&&d.isInRange(h)?H1(f,h):null}(c,u,d,f,this.props);if(!p&&!h)return null;var m=e1(this.props,"hidden")?"url(#".concat(l,")"):void 0;return V.createElement(DM,{className:dy("recharts-reference-area",o)},e.renderRect(h,G2(G2({clipPath:m},NM(this.props,!0)),p)),XY.renderCallByParent(this.props,p))}}])}();function r4(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function a4(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),o=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function i4(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function o4(e){return(o4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s4(Object(n),!0).forEach(function(t){c4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c4(e,t,n){var r;return r=function(e,t){if("object"!=o4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o4(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u4(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(HA(l)||ZB.isSsr)return function(e,t){return r4(e,t+1)}(a,"number"==typeof l&&HA(l)?l:0);var f=[],h="top"===s||"bottom"===s?"width":"height",p=u&&"width"===h?Y$(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var a=wP(c)?c(e.value,r):e.value;return"width"===h?a4(Y$(a,{fontSize:t,letterSpacing:n}),p,d):Y$(a,{fontSize:t,letterSpacing:n})[h]},v=a.length>=2?qA(a[1].coordinate-a[0].coordinate):1,g=function(e,t,n){var r="width"===n,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}(i,v,h);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var i,o=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:r4(r,u)};var i,o=c,f=function(){return void 0===i&&(i=n(t,o)),i},h=t.coordinate,p=0===c||i4(e,h,f,d,l);p||(c=0,d=s,u+=1),p&&(d=h+e*(f()/2+a),c+=u)};u<=o.length;)if(i=f())return i.v;return[]}(v,g,m,a,o):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=r[s-1],d=n(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=l4(l4({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),i4(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=l4(l4({},u),{},{isShow:!0}))}for(var h=i?s-1:s,p=function(t){var r,i=o[t],s=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=l4(l4({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=l4(l4({},i),{},{tickCoord:i.coordinate});i4(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=l4(l4({},i),{},{isShow:!0}))},m=0;m<h;m++)p(m);return o}(v,g,m,a,o,"preserveStartEnd"===l):function(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var r,c=i[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=l4(l4({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=l4(l4({},c),{},{tickCoord:c.coordinate});i4(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=l4(l4({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(v,g,m,a,o),f.filter(function(e){return e.isShow}))}e4(n4,"displayName","ReferenceArea"),e4(n4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),e4(n4,"renderRect",function(e,t){return V.isValidElement(e)?V.cloneElement(e,t):wP(e)?e(t):V.createElement(yQ,V2({},t,{className:"recharts-reference-area-rect"}))});var d4=["viewBox"],f4=["viewBox"],h4=["ticks"];function p4(e){return(p4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m4(){return m4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m4.apply(this,arguments)}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(t){_4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y4(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k4(r.key),r)}}function b4(e,t,n){return t=w4(t),function(e,t){if(t&&("object"===p4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,j4()?Reflect.construct(t,n||[],w4(e).constructor):t.apply(e,n))}function j4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(j4=function(){return!!e})()}function w4(e){return(w4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N4(e,t){return(N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _4(e,t,n){return(t=k4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k4(e){var t=function(e,t){if("object"!=p4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p4(t)?t:t+""}var S4=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=b4(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N4(e,t)}(e,q.Component),t=e,r=[{key:"renderTickItem",value:function(e,t,n){var r=dy(t.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(e)?V.cloneElement(e,g4(g4({},t),{},{className:r})):wP(e)?e(g4(g4({},t),{},{className:r})):V.createElement(_U,m4({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=y4(e,d4),a=this.props,i=a.viewBox,o=y4(a,f4);return!tM(n,i)||!tM(r,o)||!tM(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,f=s.orientation,h=s.tickSize,p=s.mirror,m=s.tickMargin,v=p?-1:1,g=e.tickSize||h,y=HA(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=n=e.coordinate,o=(r=(a=c+ +!p*d)-v*g)-v*m,i=y;break;case"left":r=a=e.coordinate,i=(t=(n=l+ +!p*u)-v*g)-v*m,o=y;break;case"right":r=a=e.coordinate,i=(t=(n=l+ +p*u)+v*g)+v*m,o=y;break;default:t=n=e.coordinate,o=(r=(a=c+ +p*d)+v*g)+v*m,i=y}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,a=e.height,i=e.orientation,o=e.mirror,s=e.axisLine,l=g4(g4(g4({},NM(this.props,!1)),NM(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!o||"bottom"===i&&o);l=g4(g4({},l),{},{x1:t,y1:n+c*a,x2:t+r,y2:n+c*a})}else{var u=+("left"===i&&!o||"right"===i&&o);l=g4(g4({},l),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+a})}return V.createElement("line",m4({},l,{className:dy("recharts-cartesian-axis-line",hA(s,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var a=this,i=this.props,o=i.tickLine,s=i.stroke,l=i.tick,c=i.tickFormatter,u=i.unit,d=u4(g4(g4({},this.props),{},{ticks:t}),n,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=NM(this.props,!1),m=NM(l,!1),v=g4(g4({},p),{},{fill:"none"},NM(o,!1)),g=d.map(function(t,n){var r=a.getTickLineCoord(t),i=r.line,g=r.tick,y=g4(g4(g4(g4({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:s},m),g),{},{index:n,payload:t,visibleTicksCount:d.length,tickFormatter:c});return V.createElement(DM,m4({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},lM(a.props,t,n)),o&&V.createElement("line",m4({},v,i,{className:dy("recharts-cartesian-axis-tick-line",hA(o,"className"))})),l&&e.renderTickItem(l,y,"".concat(wP(c)?c(t.value,n):t.value).concat(u||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,a=t.height,i=t.ticksGenerator,o=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,c=y4(s,h4),u=l;return wP(i)&&(u=l&&l.length>0?i(this.props):i(c)),r<=0||a<=0||!u||!u.length?null:V.createElement(DM,{className:dy("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),XY.renderCallByParent(this.props))}}])&&x4(t.prototype,n),r&&x4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();_4(S4,"displayName","CartesianAxis"),_4(S4,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var O4=["x1","y1","x2","y2","key"],E4=["offset"];function C4(e){return(C4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P4(Object(n),!0).forEach(function(t){A4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A4(e,t,n){var r;return r=function(e,t){if("object"!=C4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==C4(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M4(){return M4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M4.apply(this,arguments)}function D4(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var I4=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,s=e.ry;return V.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function R4(e,t){var n;if(V.isValidElement(e))n=V.cloneElement(e,t);else if(wP(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=D4(t,O4),c=NM(l,!1);c.offset;var u=D4(c,E4);n=V.createElement("line",M4({},u,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:s}))}return n}function L4(e){var t=e.x,n=e.width,r=e.horizontal,a=void 0===r||r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(r,i){var o=T4(T4({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return R4(a,o)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function F4(e){var t=e.y,n=e.height,r=e.vertical,a=void 0===r||r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(r,i){var o=T4(T4({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return R4(a,o)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function z4(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=s.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==c[0]&&c.unshift(0);var u=c.map(function(e,s){var l=!c[s+1]?a+o-e:c[s+1]-e;if(l<=0)return null;var u=s%t.length;return V.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:i,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function B4(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var d=u.map(function(e,t){var n=!u[t+1]?i+s-e:u[t+1]-e;if(n<=0)return null;var c=t%r.length;return V.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:n,height:l,stroke:"none",fill:r[c],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $4=function(e,t){var n=e.xAxis,r=e.width,a=e.height,i=e.offset;return sY(u4(T4(T4(T4({},S4.defaultProps),n),{},{ticks:lY(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},U4=function(e,t){var n=e.yAxis,r=e.width,a=e.height,i=e.offset;return sY(u4(T4(T4(T4({},S4.defaultProps),n),{},{ticks:lY(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},W4={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function q4(e){var t,n,r,a,i,o,s,l,c=v2(),u=g2(),d=q.useContext(c2),f=T4(T4({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:W4.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:W4.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:W4.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:W4.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:W4.vertical,verticalFill:null!==(o=e.verticalFill)&&void 0!==o?o:W4.verticalFill,x:HA(e.x)?e.x:d.left,y:HA(e.y)?e.y:d.top,width:HA(e.width)?e.width:d.width,height:HA(e.height)?e.height:d.height}),h=f.x,p=f.y,m=f.width,v=f.height,g=f.syncWithTicks,y=f.horizontalValues,x=f.verticalValues,b=(s=q.useContext(o2),JA(s)),j=(l=q.useContext(s2),a2(l,function(e){return h1(e.domain,Number.isFinite)})||JA(l));if(!HA(m)||m<=0||!HA(v)||v<=0||!HA(h)||h!==+h||!HA(p)||p!==+p)return null;var w=f.verticalCoordinatesGenerator||$4,N=f.horizontalCoordinatesGenerator||U4,_=f.horizontalPoints,k=f.verticalPoints;if((!_||!_.length)&&wP(N)){var S=y&&y.length,O=N({yAxis:j?T4(T4({},j),{},{ticks:S?y:j.ticks}):void 0,width:c,height:u,offset:d},!!S||g);IM(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(C4(O),"]")),Array.isArray(O)&&(_=O)}if((!k||!k.length)&&wP(w)){var E=x&&x.length,C=w({xAxis:b?T4(T4({},b),{},{ticks:E?x:b.ticks}):void 0,width:c,height:u,offset:d},!!E||g);IM(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(C4(C),"]")),Array.isArray(C)&&(k=C)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(I4,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),V.createElement(L4,M4({},f,{offset:d,horizontalPoints:_,xAxis:b,yAxis:j})),V.createElement(F4,M4({},f,{offset:d,verticalPoints:k,xAxis:b,yAxis:j})),V.createElement(z4,M4({},f,{horizontalPoints:_})),V.createElement(B4,M4({},f,{verticalPoints:k})))}q4.displayName="CartesianGrid";var V4=["type","layout","connectNulls","ref"],H4=["key"];function K4(e){return(K4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G4(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Y4(){return Y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y4.apply(this,arguments)}function X4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X4(Object(n),!0).forEach(function(t){i3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Q4(e){return function(e){if(Array.isArray(e))return Z4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Z4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z4(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o3(r.key),r)}}function t3(e,t,n){return t=r3(t),function(e,t){if(t&&("object"===K4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n3()?Reflect.construct(t,n||[],r3(e).constructor):t.apply(e,n))}function n3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(n3=function(){return!!e})()}function r3(e){return(r3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a3(e,t){return(a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i3(e,t,n){return(t=o3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o3(e){var t=function(e,t){if("object"!=K4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=K4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K4(t)?t:t+""}var s3=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i3(t=t3(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),i3(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),i3(t,"getStrokeDasharray",function(n,r,a){var i=a.reduce(function(e,t){return e+t});if(!i)return t.generateSimpleStrokeDasharray(r,n);for(var o=Math.floor(n/i),s=n%i,l=r-n,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(Q4(a.slice(0,u)),[s-d]);break}var f=c.length%2==0?[0,l]:[l];return[].concat(Q4(e.repeat(a,o)),Q4(c),f).map(function(e){return"".concat(e,"px")}).join(", ")}),i3(t,"id",YA("recharts-line-")),i3(t,"pathRef",function(e){t.mainCurve=e}),i3(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),i3(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}(e,q.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(Q4(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(Q4(r),Q4(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(V.isValidElement(e))n=V.cloneElement(e,t);else if(wP(e))n=e(t);else{var r=t.key,a=G4(t,H4),i=dy("recharts-line-dot","boolean"!=typeof e?e.className:"");n=V.createElement(EQ,Y4({key:r},a,{className:i}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(zte){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,a=n.xAxis,i=n.yAxis,o=n.layout,s=yM(n.children,WG);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:tY(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return V.createElement(DM,c,s.map(function(e){return V.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:a,yAxis:i,layout:o,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,o=a.points,s=a.dataKey,l=NM(this.props,!1),c=NM(i,!0),u=o.map(function(t,n){var r=J4(J4(J4({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:s,payload:t.payload,points:o});return e.renderDotItem(i,r)}),d={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return V.createElement(DM,Y4({className:"recharts-line-dots",key:"dots"},d),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var a=this.props,i=a.type,o=a.layout,s=a.connectNulls;a.ref;var l=G4(a,V4),c=J4(J4(J4({},NM(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:i,layout:o,connectNulls:s});return V.createElement(TX,Y4({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.strokeDasharray,o=r.isAnimationActive,s=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,d=r.animateNewValues,f=r.width,h=r.height,p=this.state,m=p.prevPoints,v=p.totalLength;return V.createElement(sQ,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var o=r.t;if(m){var s=m.length/a.length,l=a.map(function(e,t){var n=Math.floor(t*s);if(m[n]){var r=m[n],a=QA(r.x,e.x),i=QA(r.y,e.y);return J4(J4({},e),{},{x:a(o),y:i(o)})}if(d){var l=QA(2*f,e.x),c=QA(h/2,e.y);return J4(J4({},e),{},{x:l(o),y:c(o)})}return J4(J4({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=QA(0,v)(o);if(i){var p="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,v,p)}else c=n.generateSimpleStrokeDasharray(v,u);return n.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&r&&r.length&&(!o&&s>0||!SK(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,o=t.xAxis,s=t.yAxis,l=t.top,c=t.left,u=t.width,d=t.height,f=t.isAnimationActive,h=t.id;if(n||!a||!a.length)return null;var p=this.state.isAnimationFinished,m=1===a.length,v=dy("recharts-line",i),g=o&&o.allowDataOverflow,y=s&&s.allowDataOverflow,x=g||y,b=pA(h)?this.id:h,j=null!==(e=NM(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=j.r,N=void 0===w?3:w,_=j.strokeWidth,k=void 0===_?2:_,S=(wM(r)?r:{}).clipDot,O=void 0===S||S,E=2*N+k;return V.createElement(DM,{className:v},g||y?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(b)},V.createElement("rect",{x:g?c:c-u/2,y:y?l:l-d/2,width:g?u:2*u,height:y?d:2*d})),!O&&V.createElement("clipPath",{id:"clipPath-dots-".concat(b)},V.createElement("rect",{x:c-E/2,y:l-E/2,width:u+E,height:d+E}))):null,!m&&this.renderCurve(x,b),this.renderErrorBar(x,b),(m||r)&&this.renderDots(x,O,b),(!f||p)&&dX.renderCallByParent(this.props,a))}}])&&e3(t.prototype,n),r&&e3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();i3(s3,"displayName","Line"),i3(s3,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ZB.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),i3(s3,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return J4({points:l.map(function(e,t){var l=tY(e,o);return"horizontal"===u?{x:gY({axis:n,ticks:a,bandSize:s,entry:e,index:t}),y:pA(l)?null:r.scale(l),value:l,payload:e}:{x:pA(l)?null:n.scale(l),y:gY({axis:r,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var l3,c3=["layout","type","stroke","connectNulls","isRange","ref"],u3=["key"];function d3(e){return(d3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f3(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h3(){return h3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h3.apply(this,arguments)}function p3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p3(Object(n),!0).forEach(function(t){j3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w3(r.key),r)}}function g3(e,t,n){return t=x3(t),function(e,t){if(t&&("object"===d3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y3()?Reflect.construct(t,n||[],x3(e).constructor):t.apply(e,n))}function y3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y3=function(){return!!e})()}function x3(e){return(x3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b3(e,t){return(b3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j3(e,t,n){return(t=w3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w3(e){var t=function(e,t){if("object"!=d3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d3(t)?t:t+""}var N3=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return j3(t=g3(this,e,[].concat(r)),"state",{isAnimationFinished:!0}),j3(t,"id",YA("recharts-area-")),j3(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),wP(e)&&e()}),j3(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),wP(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b3(e,t)}(e,q.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(n=[{key:"renderDots",value:function(t,n,r){var a=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(a&&!i)return null;var o=this.props,s=o.dot,l=o.points,c=o.dataKey,u=NM(this.props,!1),d=NM(s,!0),f=l.map(function(t,n){var r=m3(m3(m3({key:"dot-".concat(n),r:3},u),d),{},{index:n,cx:t.x,cy:t.y,dataKey:c,value:t.value,payload:t.payload,points:l});return e.renderDotItem(s,r)}),h={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return V.createElement(DM,h3({className:"recharts-area-dots"},h),f)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,i=r[0].x,o=r[r.length-1].x,s=e*Math.abs(i-o),l=fK(r.map(function(e){return e.y||0}));return HA(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(fK(n.map(function(e){return e.y||0})),l)),HA(l)?V.createElement("rect",{x:i<o?i:i-s,y:0,width:s,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,r=t.points,a=t.strokeWidth,i=r[0].y,o=r[r.length-1].y,s=e*Math.abs(i-o),l=fK(r.map(function(e){return e.x||0}));return HA(n)&&"number"==typeof n?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(fK(n.map(function(e){return e.x||0})),l)),HA(l)?V.createElement("rect",{x:0,y:i<o?i:i-s,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(s)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,r){var a=this.props,i=a.layout,o=a.type,s=a.stroke,l=a.connectNulls,c=a.isRange;a.ref;var u=f3(a,c3);return V.createElement(DM,{clipPath:n?"url(#clipPath-".concat(r,")"):null},V.createElement(TX,h3({},NM(u,!0),{points:e,connectNulls:l,type:o,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==s&&V.createElement(TX,h3({},NM(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:l,fill:"none",points:e})),"none"!==s&&c&&V.createElement(TX,h3({},NM(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,r=this.props,a=r.points,i=r.baseLine,o=r.isAnimationActive,s=r.animationBegin,l=r.animationDuration,c=r.animationEasing,u=r.animationId,d=this.state,f=d.prevPoints,h=d.prevBaseLine;return V.createElement(sQ,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var o=r.t;if(f){var s,l=f.length/a.length,c=a.map(function(e,t){var n=Math.floor(t*l);if(f[n]){var r=f[n],a=QA(r.x,e.x),i=QA(r.y,e.y);return m3(m3({},e),{},{x:a(o),y:i(o)})}return e});return s=HA(i)&&"number"==typeof i?QA(h,i)(o):pA(i)||WA(i)?QA(h,0)(o):i.map(function(e,t){var n=Math.floor(t*l);if(h[n]){var r=h[n],a=QA(r.x,e.x),i=QA(r.y,e.y);return m3(m3({},e),{},{x:a(o),y:i(o)})}return e}),n.renderAreaStatically(c,s,e,t)}return V.createElement(DM,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(o))),V.createElement(DM,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(a,i,e,t)))})}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,a=n.baseLine,i=n.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return i&&r&&r.length&&(!s&&c>0||!SK(s,r)||!SK(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,a,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,a=t.points,i=t.className,o=t.top,s=t.left,l=t.xAxis,c=t.yAxis,u=t.width,d=t.height,f=t.isAnimationActive,h=t.id;if(n||!a||!a.length)return null;var p=this.state.isAnimationFinished,m=1===a.length,v=dy("recharts-area",i),g=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,x=g||y,b=pA(h)?this.id:h,j=null!==(e=NM(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=j.r,N=void 0===w?3:w,_=j.strokeWidth,k=void 0===_?2:_,S=(wM(r)?r:{}).clipDot,O=void 0===S||S,E=2*N+k;return V.createElement(DM,{className:v},g||y?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(b)},V.createElement("rect",{x:g?s:s-u/2,y:y?o:o-d/2,width:g?u:2*u,height:y?d:2*d})),!O&&V.createElement("clipPath",{id:"clipPath-dots-".concat(b)},V.createElement("rect",{x:s-E/2,y:o-E/2,width:u+E,height:d+E}))):null,m?null:this.renderArea(x,b),(r||m)&&this.renderDots(x,O,b),(!f||p)&&dX.renderCallByParent(this.props,a))}}])&&v3(t.prototype,n),r&&v3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function _3(e){return(_3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k3(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T3(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S3(e,t,n){return t=E3(t),function(e,t){if(t&&("object"===_3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,O3()?Reflect.construct(t,n||[],E3(e).constructor):t.apply(e,n))}function O3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(O3=function(){return!!e})()}function E3(e){return(E3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C3(e,t){return(C3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P3(e,t,n){return(t=T3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T3(e){var t=function(e,t){if("object"!=_3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_3(t)?t:t+""}function A3(){return A3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A3.apply(this,arguments)}function M3(e){var t=e.xAxisId,n=v2(),r=g2(),a=p2(t);return null==a?null:q.createElement(S4,A3({},a,{className:dy("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return lY(e,!0)}}))}l3=N3,j3(N3,"displayName","Area"),j3(N3,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ZB.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),j3(N3,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=null!=o?o:i;if(HA(s)&&"number"==typeof s)return s;var l="horizontal"===a?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]}),j3(N3,"getComposedData",function(e){var t,n=e.props,r=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=n.layout,m=u&&u.length,v=l3.getBaseValue(n,r,a,i),g="horizontal"===p,y=!1,x=f.map(function(e,t){var n;m?n=u[d+t]:(n=tY(e,c),Array.isArray(n)?y=!0:n=[v,n]);var r=null==n[1]||m&&null==tY(e,c);return g?{x:gY({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:a.scale(n[1]),y:gY({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}});return t=m||y?x.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):g?i.scale(v):a.scale(v),m3({points:x,baseLine:t,layout:p,isRange:y},h)}),j3(N3,"renderDotItem",function(e,t){var n;if(V.isValidElement(e))n=V.cloneElement(e,t);else if(wP(e))n=e(t);else{var r=dy("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,i=f3(t,u3);n=V.createElement(EQ,h3({},i,{key:a,className:r}))}return n});var D3=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S3(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C3(e,t)}(e,q.Component),k3(e,[{key:"render",value:function(){return q.createElement(M3,this.props)}}])}();function I3(e){return(I3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R3(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U3(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L3(e,t,n){return t=z3(t),function(e,t){if(t&&("object"===I3(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,F3()?Reflect.construct(t,n||[],z3(e).constructor):t.apply(e,n))}function F3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(F3=function(){return!!e})()}function z3(e){return(z3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B3(e,t){return(B3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $3(e,t,n){return(t=U3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U3(e){var t=function(e,t){if("object"!=I3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I3(t)?t:t+""}function W3(){return W3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W3.apply(this,arguments)}P3(D3,"displayName","XAxis"),P3(D3,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var q3=function(e){var t=e.yAxisId,n=v2(),r=g2(),a=m2(t);return null==a?null:q.createElement(S4,W3({},a,{className:dy("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return lY(e,!0)}}))},V3=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L3(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B3(e,t)}(e,q.Component),R3(e,[{key:"render",value:function(){return q.createElement(q3,this.props)}}])}();function H3(e){return function(e){if(Array.isArray(e))return K3(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K3(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$3(V3,"displayName","YAxis"),$3(V3,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var G3=function(e,t,n,r,a){var i=yM(e,A2),o=yM(e,q2),s=[].concat(H3(i),H3(o)),l=yM(e,n4),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&e1(t.props,"extendDomain")&&HA(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var f="".concat(u,"1"),h="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&e1(t.props,"extendDomain")&&HA(t.props[f])&&HA(t.props[h])){var r=t.props[f],a=t.props[h];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return HA(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},Y3={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(Y3);var X3=new(a(Y3.exports)),J3="recharts.syncMouseEvents";function Q3(e){return(Q3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z3(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t5(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e5(e,t,n){return(t=t5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t5(e){var t=function(e,t){if("object"!=Q3(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=Q3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Q3(t)?t:t+""}var n5=function(){return Z3(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e5(this,"activeIndex",0),e5(this,"coordinateList",[]),e5(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,i=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function r5(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle;return{points:[DY(t,n,r,a),DY(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function a5(e,t,n){var r,a,i,o;if("horizontal"===e)i=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return r5(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=DY(s,l,c,d),h=DY(s,l,u,d);r=f.x,a=f.y,i=h.x,o=h.y}return[{x:r,y:a},{x:i,y:o}]}function i5(e){return(i5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o5(Object(n),!0).forEach(function(t){l5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l5(e,t,n){var r;return r=function(e,t){if("object"!=i5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i5(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c5(e){var t,n,r,a=e.element,i=e.tooltipEventType,o=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=null!==(t=a.props.cursor)&&void 0!==t?t:null===(n=a.type.defaultProps)||void 0===n?void 0:n.cursor;if(!a||!p||!o||!s||"ScatterChart"!==h&&"axis"!==i)return null;var m=TX;if("ScatterChart"===h)r=s,m=RQ;else if("BarChart"===h)r=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,s,c,d),m=yQ;else if("radial"===f){var v=r5(s),g=v.cx,y=v.cy,x=v.radius;r={cx:g,cy:y,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:x,outerRadius:x},m=bX}else r={points:a5(f,s,c)},m=TX;var b=s5(s5(s5(s5({stroke:"#ccc",pointerEvents:"none"},c),r),NM(p,!1)),{},{payload:l,payloadIndex:u,className:dy("recharts-tooltip-cursor",p.className)});return q.isValidElement(p)?q.cloneElement(p,b):q.createElement(m,b)}var u5=["item"],d5=["children","className","width","height","style","compact","title","desc"];function f5(e){return(f5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h5(){return h5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h5.apply(this,arguments)}function p5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||w5(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m5(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v5(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O5(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g5(e,t,n){return t=x5(t),function(e,t){if(t&&("object"===f5(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y5()?Reflect.construct(t,n||[],x5(e).constructor):t.apply(e,n))}function y5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(y5=function(){return!!e})()}function x5(e){return(x5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b5(e,t){return(b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j5(e){return function(e){if(Array.isArray(e))return N5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w5(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w5(e,t){if(e){if("string"==typeof e)return N5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N5(e,t):void 0}}function N5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_5(Object(n),!0).forEach(function(t){S5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S5(e,t,n){return(t=O5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O5(e){var t=function(e,t){if("object"!=f5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f5(t)?t:t+""}var E5={xAxis:["bottom","top"],yAxis:["left","right"]},C5={width:"100%",height:"100%"},P5={x:0,y:0};function T5(e){return e}var A5=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,i=(null!=n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(j5(e),j5(n)):e},[]);return i.length>0?i:e&&e.length&&HA(r)&&HA(a)?e.slice(r,a+1):[]};function M5(e){return"number"===e?[0,"auto"]:void 0}var D5=function(e,t,n,r){var a=e.graphicalItems,i=e.tooltipAxis,o=A5(t,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=ZA(void 0===u?o:u,i.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(j5(a),[kY(s,c)]):a},[])},I5=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(qA(u-c)!==qA(d-u)){var h=[];if(qA(d-u)===qA(s[1]-s[0])){f=d;var p=u+s[1]-s[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{f=c;var m=d+s[1]-s[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){i=r[l].index;break}}else{var g=Math.min(c,d),y=Math.max(c,d);if(e>(g+u)/2&&e<=(y+u)/2){i=r[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){i=n[x].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=D5(e,t,c,u),f=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=r.radius;return k5(k5(k5({},r),DY(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=r.angle;return k5(k5(k5({},r),DY(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return P5}(n,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},R5=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=oY(c,a);return n.reduce(function(t,n){var h,p=void 0!==n.type.defaultProps?k5(k5({},n.type.defaultProps),n.props):n.props,m=p.type,v=p.dataKey,g=p.allowDataOverflow,y=p.allowDuplicatedCategory,x=p.scale,b=p.ticks,j=p.includeHidden,w=p[i];if(t[w])return t;var N,_,k,S=A5(e.data,{graphicalItems:r.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===w}),dataStartIndex:s,dataEndIndex:l}),O=S.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],a=null==e?void 0:e[1];if(r&&a&&HA(r)&&HA(a))return!0}return!1})(p.domain,g,m)&&(N=wY(p.domain,null,g),!f||"number"!==m&&"auto"===x||(k=nY(S,v,"category")));var E=M5(m);if(!N||0===N.length){var C,P=null!==(C=p.domain)&&void 0!==C?C:E;if(v){if(N=nY(S,v,m),"category"===m&&f){var T=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);y&&T?(_=N,N=E0(0,O)):y||(N=_Y(P,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(j5(e),[t])},[]))}else if("category"===m)N=y?N.filter(function(e){return""!==e&&!pA(e)}):_Y(P,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||pA(t)?e:[].concat(j5(e),[t])},[]);else if("number"===m){var A=function(e,t,n,r,a){var i=t.map(function(t){return aY(e,t,n,a,r)}).filter(function(e){return!pA(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(S,r.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===w&&(j||!a)}),v,a,c);A&&(N=A)}!f||"number"!==m&&"auto"===x||(k=nY(S,v,"category"))}else N=f?E0(0,O):o&&o[w]&&o[w].hasStack&&"number"===m?"expand"===d?[0,1]:xY(o[w].stackGroups,s,l):iY(S,r.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!n)}),m,c,!0);if("number"===m)N=G3(u,N,w,a,b),P&&(N=wY(P,N,g));else if("category"===m&&P){var M=P;N.every(function(e){return M.indexOf(e)>=0})&&(N=M)}}return k5(k5({},t),{},S5({},w,k5(k5({},p),{},{axisType:a,domain:N,categoricalDomain:k,duplicateDomain:_,originalDomain:null!==(h=p.domain)&&void 0!==h?h:E,isCategorical:f,layout:c})))},{})},L5=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=yM(c,a),f={};return d&&d.length?f=R5(e,{axes:d,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=A5(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),f=d.length,h=oY(c,a),p=-1;return n.reduce(function(e,t){var m,v=(void 0!==t.type.defaultProps?k5(k5({},t.type.defaultProps),t.props):t.props)[i],g=M5("number");return e[v]?e:(p++,h?m=E0(0,f):o&&o[v]&&o[v].hasStack?(m=xY(o[v].stackGroups,s,l),m=G3(u,m,v,a)):(m=wY(g,iY(d,n.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===v&&!a}),"number",c),r.defaultProps.allowDataOverflow),m=G3(u,m,v,a)),k5(k5({},e),{},S5({},v,k5(k5({axisType:a},r.defaultProps),{},{hide:!0,orientation:hA(E5,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:h,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),f},F5=function(e){var t=e.children,n=e.defaultShowTooltip,r=xM(t,H0),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},z5=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},B5=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,i=e.yAxisMap,o=void 0===i?{}:i,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=xM(c,H0),f=xM(c,Tz),h=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:k5(k5({},e),{},S5({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:k5(k5({},e),{},S5({},r,hA(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=k5(k5({},p),h),v=m.bottom;d&&(m.bottom+=d.props.height||H0.defaultProps.height),f&&t&&(m=function(e,t,n,r){var a=n.children,i=n.width,o=n.margin,s=i-(o.left||0)-(o.right||0),l=GG({children:a,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,f=l.align,h=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===h)&&"center"!==f&&HA(e[f]))return ZG(ZG({},e),{},eY({},f,e[f]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===f)&&"middle"!==h&&HA(e[h]))return ZG(ZG({},e),{},eY({},h,e[h]+(d||0)))}return e}(m,0,n,t));var g=s-m.left-m.right,y=l-m.top-m.bottom;return k5(k5({brushBottom:v},m),{},{width:Math.max(g,0),height:Math.max(y,0)})},$5=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},U5=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,a=void 0===r?"axis":r,i=e.validateTooltipEventTypes,o=void 0===i?["axis"]:i,s=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,h=e.maxBarSize,p=z5(u),m=p.numericAxisName,v=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some(function(e){var t=pM(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),y=[];return n.forEach(function(n,p){var x=A5(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:l}),b=void 0!==n.type.defaultProps?k5(k5({},n.type.defaultProps),n.props):n.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(m,"Id")],_=b["".concat(v,"Id")],k=s.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=b["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||CG();var i=r[a];return k5(k5({},e),{},S5(S5({},n.axisType,i),"".concat(n.axisType,"Ticks"),lY(i)))},{}),S=k[v],O=k["".concat(v,"Ticks")],E=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?ZG(ZG({},e.type.defaultProps),e.props):e.props).stackId;if(KA(r)){var a=t[r];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(n,r[N].stackGroups),C=pM(n.type).indexOf("Bar")>=0,P=NY(S,O),T=[],A=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var h=c[u[d]],p=h.items,m=h.cateAxisId,v=p.filter(function(e){return pM(e.type).indexOf("Bar")>=0});if(v&&v.length){var g=v[0].type.defaultProps,y=void 0!==g?ZG(ZG({},g),v[0].props):v[0].props,x=y.barSize,b=y[m];i[b]||(i[b]=[]);var j=pA(x)?t:x;i[b].push({item:v[0],stackList:v.slice(1),barSize:pA(j)?void 0:XA(j,n,0)})}}return i}({barSize:c,stackGroups:r,totalSize:$5(k,v)});if(C){var M,D,I=pA(w)?h:w,R=null!==(M=null!==(D=NY(S,O,!0))&&void 0!==D?D:I)&&void 0!==M?M:0;T=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=XA(t,r,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,f=r/s,h=i.reduce(function(e,t){return e+t.barSize||0},0);(h+=(s-1)*c)>=r&&(h-=(s-1)*c,c=0),h>=r&&f>0&&(d=!0,h=s*(f*=.9));var p={offset:((r-h)/2|0)-c,size:0};l=i.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?f:t.barSize}},r=[].concat(XG(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=XA(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var v=(r-2*m-(s-1)*c)/s;v>1&&(v>>=0);var g=o===+o?Math.min(v,o):v;l=i.reduce(function(e,t,n){var r=[].concat(XG(e),[{item:t.item,position:{offset:m+(v+c)*n+(v-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:f,bandSize:R!==P?R:P,sizeList:A[_],maxBarSize:I}),R!==P&&(T=T.map(function(e){return k5(k5({},e),{},{position:k5(k5({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,F,z=n&&n.type&&n.type.getComposedData;z&&y.push({props:k5(k5({},z(k5(k5({},k),{},{displayedData:x,props:e,dataKey:j,item:n,bandSize:P,barPosition:T,offset:a,stackedData:E,layout:u,dataStartIndex:o,dataEndIndex:l}))),{},S5(S5(S5({key:n.key||"item-".concat(p)},m,k[m]),v,k[v]),"animationId",i)),childIndex:(L=n,F=e.children,gM(F).indexOf(L)),item:n})}),y},f=function(e,r){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,l=e.updateId;if(!bM({props:a}))return null;var u=a.children,f=a.layout,h=a.stackOffset,p=a.data,m=a.reverseStackOrder,v=z5(f),g=v.numericAxisName,y=v.cateAxisName,x=yM(u,n),b=function(e,t,n,r,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?ZG(ZG({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(KA(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[YA("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return ZG(ZG({},e),{},eY({},s,l))},{});return Object.keys(o).reduce(function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,i){var o=s.stackGroups[i];return ZG(ZG({},t),{},eY({},i,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:mY(e,o.items,a)}))},{})),ZG(ZG({},t),{},eY({},i,s))},{})}(p,x,"".concat(g,"Id"),"".concat(y,"Id"),h,m),j=s.reduce(function(e,t){var n="".concat(t.axisType,"Map");return k5(k5({},e),{},S5({},n,L5(a,k5(k5({},t),{},{graphicalItems:x,stackGroups:t.axisType===g&&b,dataStartIndex:i,dataEndIndex:o}))))},{}),w=B5(k5(k5({},j),{},{props:a,graphicalItems:x}),null==r?void 0:r.legendBBox);Object.keys(j).forEach(function(e){j[e]=c(a,j[e],w,e.replace("Map",""),t)});var N,_,k=j["".concat(y,"Map")],S=(N=JA(k),{tooltipTicks:_=lY(N,!1,!0),orderedTooltipTicks:SB(_,function(e){return e.coordinate}),tooltipAxis:N,tooltipAxisBandSize:NY(N,_)}),O=d(a,k5(k5({},j),{},{dataStartIndex:i,dataEndIndex:o,updateId:l,graphicalItems:x,stackGroups:b,offset:w}));return k5(k5({formattedGraphicalItems:O,graphicalItems:x,offset:w,stackGroups:b},S),j)},h=function(){function e(n){var r,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S5(i=g5(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),S5(i,"accessibilityManager",new n5),S5(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;i.setState(k5({legendBBox:e},f({props:i.props,dataStartIndex:n,dataEndIndex:r,updateId:a},k5(k5({},i.state),{},{legendBBox:e}))))}}),S5(i,"handleReceiveSyncEvent",function(e,t,n){if(i.props.syncId===e){if(n===i.eventEmitterSymbol&&"function"!=typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),S5(i,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==i.state.dataStartIndex||n!==i.state.dataEndIndex){var r=i.state.updateId;i.setState(function(){return k5({dataStartIndex:t,dataEndIndex:n},f({props:i.props,dataStartIndex:t,dataEndIndex:n,updateId:r},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),S5(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var n=k5(k5({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseEnter;wP(r)&&r(n,e)}}),S5(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),n=t?k5(k5({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseMove;wP(r)&&r(n,e)}),S5(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),S5(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),S5(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),S5(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var n=i.props.onMouseLeave;wP(n)&&n(t,e)}),S5(i,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&hM[t]?hM[t]:null}(e),r=hA(i.props,"".concat(n));n&&wP(r)&&r(null!==(t=/.*touch.*/i.test(n)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),S5(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var n=k5(k5({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onClick;wP(r)&&r(n,e)}}),S5(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;wP(t)&&t(i.getMouseInfo(e),e)}),S5(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;wP(t)&&t(i.getMouseInfo(e),e)}),S5(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),S5(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),S5(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),S5(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;wP(t)&&t(i.getMouseInfo(e),e)}),S5(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;wP(t)&&t(i.getMouseInfo(e),e)}),S5(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&X3.emit(J3,i.props.syncId,e,i.eventEmitterSymbol)}),S5(i,"applySyncEvent",function(e){var t=i.props,n=t.layout,r=t.syncMethod,a=i.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(k5({dataStartIndex:o,dataEndIndex:s},f({props:i.props,dataStartIndex:o,dataEndIndex:s,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=i.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"==typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var v=k5(k5({},h),{},{x:h.left,y:h.top}),g=Math.min(l,v.x+v.width),y=Math.min(c,v.y+v.height),x=p[u]&&p[u].value,b=D5(i.state,i.props.data,u),j=p[u]?{x:"horizontal"===n?p[u].coordinate:g,y:"horizontal"===n?y:p[u].coordinate}:P5;i.setState(k5(k5({},e),{},{activeLabel:x,activeCoordinate:j,activePayload:b,activeTooltipIndex:u}))}else i.setState(e)}),S5(i,"renderCursor",function(e){var n,r=i.state,a=r.isTooltipActive,o=r.activeCoordinate,s=r.activePayload,l=r.offset,c=r.activeTooltipIndex,u=r.tooltipAxisBandSize,d=i.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:a,h=i.props.layout,p=e.key||"_recharts-cursor";return V.createElement(c5,{key:p,activeCoordinate:o,activePayload:s,activeTooltipIndex:c,chartName:t,element:e,isActive:f,layout:h,offset:l,tooltipAxisBandSize:u,tooltipEventType:d})}),S5(i,"renderPolarAxis",function(e,t,n){var r=hA(e,"type.axisType"),a=hA(i.state,"".concat(r,"Map")),o=e.type.defaultProps,s=void 0!==o?k5(k5({},o),e.props):e.props,l=a&&a[s["".concat(r,"Id")]];return q.cloneElement(e,k5(k5({},l),{},{className:dy(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:lY(l,!0)}))}),S5(i,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,a=t.polarRadius,o=i.state,s=o.radiusAxisMap,l=o.angleAxisMap,c=JA(s),u=JA(l),d=u.cx,f=u.cy,h=u.innerRadius,p=u.outerRadius;return q.cloneElement(e,{polarAngles:Array.isArray(r)?r:lY(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:lY(c,!0).map(function(e){return e.coordinate}),cx:d,cy:f,innerRadius:h,outerRadius:p,key:e.key||"polar-grid",radialLines:n})}),S5(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,t=i.props,n=t.children,r=t.width,a=t.height,o=i.props.margin||{},s=r-(o.left||0)-(o.right||0),c=GG({children:n,formattedGraphicalItems:e,legendWidth:s,legendContent:l});if(!c)return null;var u=c.item,d=m5(c,u5);return q.cloneElement(u,k5(k5({},d),{},{chartWidth:r,chartHeight:a,margin:o,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),S5(i,"renderTooltip",function(){var e,t=i.props,n=t.children,r=t.accessibilityLayer,a=xM(n,d$);if(!a)return null;var o=i.state,s=o.isTooltipActive,l=o.activeCoordinate,c=o.activePayload,u=o.activeLabel,d=o.offset,f=null!==(e=a.props.active)&&void 0!==e?e:s;return q.cloneElement(a,{viewBox:k5(k5({},d),{},{x:d.left,y:d.top}),active:f,label:u,payload:f?c:[],coordinate:l,accessibilityLayer:r})}),S5(i,"renderBrush",function(e){var t=i.props,n=t.margin,r=t.data,a=i.state,o=a.offset,s=a.dataStartIndex,l=a.dataEndIndex,c=a.updateId;return q.cloneElement(e,{key:e.key||"_recharts-brush",onChange:uY(i.handleBrushChange,e.props.onChange),data:r,x:HA(e.props.x)?e.props.x:o.left,y:HA(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(n.bottom||0),width:HA(e.props.width)?e.props.width:o.width,startIndex:s,endIndex:l,updateId:"brush-".concat(c)})}),S5(i,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=i.clipPathId,a=i.state,o=a.xAxisMap,s=a.yAxisMap,l=a.offset,c=e.type.defaultProps||{},u=e.props,d=u.xAxisId,f=void 0===d?c.xAxisId:d,h=u.yAxisId,p=void 0===h?c.yAxisId:h;return q.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:o[f],yAxis:s[p],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})}),S5(i,"renderActivePoints",function(t){var n=t.item,r=t.activePoint,a=t.basePoint,i=t.childIndex,o=t.isRange,s=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?k5(k5({},n.item.type.defaultProps),n.item.props):n.item.props,u=c.activeDot,d=k5(k5({index:i,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:rY(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},NM(u,!1)),sM(u));return s.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(e.renderActiveDot(u,k5(k5({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s}),S5(i,"renderGraphicChild",function(e,t,n){var r=i.filterFormatItem(e,t,n);if(!r)return null;var a=i.getTooltipEventType(),o=i.state,s=o.isTooltipActive,l=o.tooltipAxis,c=o.activeTooltipIndex,u=o.activeLabel,d=xM(i.props.children,d$),f=r.props,h=f.points,p=f.isRange,m=f.baseLine,v=void 0!==r.item.type.defaultProps?k5(k5({},r.item.type.defaultProps),r.item.props):r.item.props,g=v.activeDot,y=v.hide,x=v.activeBar,b=v.activeShape,j=Boolean(!y&&s&&d&&(g||x||b)),w={};"axis"!==a&&d&&"click"===d.props.trigger?w={onClick:uY(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(w={onMouseLeave:uY(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:uY(i.handleItemMouseEnter,e.props.onMouseEnter)});var N=q.cloneElement(e,k5(k5({},r.props),w));if(j){if(!(c>=0)){var _,k=(null!==(_=i.getItemByXY(i.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:N}).graphicalItem,S=k.item,O=void 0===S?e:S,E=k.childIndex,C=k5(k5(k5({},r.props),w),{},{activeIndex:E});return[q.cloneElement(O,C),null,null]}var P,T;if(l.dataKey&&!l.allowDuplicatedCategory){var A="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());P=ZA(h,A,u),T=p&&m&&ZA(m,A,u)}else P=null==h?void 0:h[c],T=p&&m&&m[c];if(b||x){var M=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[q.cloneElement(e,k5(k5(k5({},r.props),w),{},{activeIndex:M})),null,null]}if(!pA(P))return[N].concat(j5(i.renderActivePoints({item:r,activePoint:P,basePoint:T,childIndex:c,isRange:p})))}return p?[N,null,null]:[N,null]}),S5(i,"renderCustomized",function(e,t,n){return q.cloneElement(e,k5(k5({key:"recharts-customized-".concat(n)},i.props),i.state))}),S5(i,"renderMap",{CartesianGrid:{handler:T5,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:T5},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:T5},YAxis:{handler:T5},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(r=n.id)&&void 0!==r?r:YA("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=M$(i.triggeredAfterMouseMove,null!==(a=n.throttleDelay)&&void 0!==a?a:1e3/60),i.state={},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b5(e,t)}(e,q.Component),v5(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,i=xM(t,d$);if(i){var o=i.props.defaultIndex;if(!("number"!=typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=D5(this.state,n,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});f&&(d=k5(k5({},d),f.props.points[o].tooltipPosition),l=f.props.points[o].tooltipPayload);var h={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(h),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,r;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}});return null}},{key:"componentDidUpdate",value:function(e){_M([xM(e.children,d$)],[xM(this.props.children,d$)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=xM(this.props.children,d$);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=r.width/n.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),f=I5(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var h=JA(c).scale,p=JA(u).scale,m=h&&h.invert?h.invert(i.chartX):null,v=p&&p.invert?p.invert(i.chartY):null;return k5(k5({},i),{},{xValue:m,yValue:v},f)}return f?k5(k5({},i),f):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=JA(l);return FY({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=xM(e,d$),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),k5(k5({},sM(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){X3.on(J3,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){X3.removeListener(J3,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,i=r.length;a<i;a++){var o=r[a];if(o.item===e||o.props.key===e.key||t===pM(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,a=t.height,i=t.width;return V.createElement("defs",null,V.createElement("clipPath",{id:e},V.createElement("rect",{x:n,y:r,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=p5(t,2),r=n[0],a=n[1];return k5(k5({},e),{},S5({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=p5(t,2),r=n[0],a=n[1];return k5(k5({},e),{},S5({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,i=n.length;a<i;a++){var o=n[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?k5(k5({},l.type.defaultProps),l.props):l.props,u=pM(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return vQ(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var f=(s.data||[]).find(function(t){return FY(e,t)});if(f)return{graphicalItem:o,payload:f}}else if(t0(o,r)||n0(o,r)||r0(o,r)){var h=s0({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?h:c.activeIndex;return{graphicalItem:k5(k5({},o),{},{childIndex:p}),payload:r0(o,r)?c.data[h]:o.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!bM(this))return null;var t,n,r=this.props,a=r.children,i=r.className,o=r.width,s=r.height,l=r.style,c=r.compact,u=r.title,d=r.desc,f=m5(r,d5),h=NM(f,!1);if(c)return V.createElement(h2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(PM,h5({},h,{width:o,height:s,title:u,desc:d}),this.renderClipPath(),SM(a,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(n=this.props.role)&&void 0!==n?n:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return V.createElement(h2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",h5({className:dy("recharts-wrapper",i),style:k5({position:"relative",cursor:"default",width:o,height:s},l)},p,{ref:function(t){e.container=t}}),V.createElement(PM,h5({},h,{width:o,height:s,title:u,desc:d,style:C5}),this.renderClipPath(),SM(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();S5(h,"displayName",t),S5(h,"defaultProps",k5({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),S5(h,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=F5(e);return k5(k5(k5({},h),{},{updateId:0},f(k5(k5({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!tM(c,t.prevMargin)){var p=F5(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},v=k5(k5({},I5(t,r,s)),{},{updateId:t.updateId+1}),g=k5(k5(k5({},p),m),v);return k5(k5(k5({},g),f(k5({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!_M(a,t.prevChildren)){var y,x,b,j,w=xM(a,H0),N=w&&null!==(y=null===(x=w.props)||void 0===x?void 0:x.startIndex)&&void 0!==y?y:u,_=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:d,k=N!==u||_!==d,S=!pA(r)&&!k?t.updateId:t.updateId+1;return k5(k5({updateId:S},f(k5(k5({props:e},t),{},{updateId:S,dataStartIndex:N,dataEndIndex:_}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:_})}return null}),S5(h,"renderActiveDot",function(e,t,n){var r;return r=q.isValidElement(e)?q.cloneElement(e,t):wP(e)?e(t):V.createElement(EQ,t),V.createElement(DM,{className:"recharts-active-dot",key:n},r)});var p=q.forwardRef(function(e,t){return V.createElement(h,h5({},e,{ref:t}))});return p.displayName=h.displayName,p},W5=U5({chartName:"LineChart",GraphicalChild:s3,axisComponents:[{axisType:"xAxis",AxisComp:D3},{axisType:"yAxis",AxisComp:V3}],formatAxisMap:V1}),q5=U5({chartName:"BarChart",GraphicalChild:F1,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:D3},{axisType:"yAxis",AxisComp:V3}],formatAxisMap:V1}),V5=U5({chartName:"PieChart",GraphicalChild:x0,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xZ},{axisType:"radiusAxis",AxisComp:iZ}],formatAxisMap:function(e,t,n,r,a){var i=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=XA(e.cx,i,i/2),u=XA(e.cy,o,o/2),d=IY(i,o,n),f=XA(e.innerRadius,d,0),h=XA(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,n){var i,o=t[n],d=o.domain,p=o.reversed;if(pA(o.range))"angleAxis"===r?i=[s,l]:"radiusAxis"===r&&(i=[f,h]),p&&(i=[i[1],i[0]]);else{var m=PY(i=o.range,2);s=m[0],l=m[1]}var v=dY(o,a),g=v.realScaleType,y=v.scale;y.domain(d).range(i),hY(y);var x=vY(y,EY(EY({},o),{},{realScaleType:g})),b=EY(EY(EY({},o),x),{},{range:i,radius:h,realScaleType:g,scale:y,cx:c,cy:u,innerRadius:f,outerRadius:h,startAngle:s,endAngle:l});return EY(EY({},e),{},CY({},n,b))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});var H5=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},K5=n1,G5=oT,Y5=Object.prototype.hasOwnProperty;var X5=function(e,t,n){var r=e[t];Y5.call(e,t)&&G5(r,n)&&(void 0!==n||t in e)||K5(e,t,n)},J5=X5,Q5=n1;var Z5=function(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),a?Q5(n,s,l):J5(n,s,l)}return n},e6=Z5,t6=_L;var n6=function(e,t){return e&&e6(t,t6(t),e)};var r6=gP,a6=fL,i6=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},o6=Object.prototype.hasOwnProperty;var s6=uL,l6=function(e){if(!r6(e))return i6(e);var t=a6(e),n=[];for(var r in e)("constructor"!=r||!t&&o6.call(e,r))&&n.push(r);return n},c6=bL;var u6=function(e){return c6(e)?s6(e,!0):l6(e)},d6=Z5,f6=u6;var h6=function(e,t){return e&&d6(t,f6(t),e)},p6={exports:{}};!function(e,t){var n=YC,r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r?n.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}(p6,p6.exports);var m6=p6.exports;var v6=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},g6=Z5,y6=wR;var x6=function(e,t){return g6(e,y6(e),t)},b6=hR,j6=bZ,w6=wR,N6=gR,_6=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)b6(t,w6(e)),e=j6(e);return t}:N6,k6=Z5,S6=_6;var O6=function(e,t){return k6(e,S6(e),t)},E6=vR,C6=_6,P6=u6;var T6=function(e){return E6(e,P6,C6)},A6=Object.prototype.hasOwnProperty;var M6=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&A6.call(e,"index")&&(n.index=e.index,n.input=e.input),n},D6=rR;var I6=function(e){var t=new e.constructor(e.byteLength);return new D6(t).set(new D6(e)),t},R6=I6;var L6=function(e,t){var n=t?R6(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},F6=/\w*$/;var z6=function(e){var t=new e.constructor(e.source,F6.exec(e));return t.lastIndex=e.lastIndex,t},B6=XC?XC.prototype:void 0,$6=B6?B6.valueOf:void 0;var U6=I6;var W6=I6,q6=L6,V6=z6,H6=function(e){return $6?Object($6.call(e)):{}},K6=function(e,t){var n=t?U6(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var G6=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return W6(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return q6(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return K6(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return V6(e);case"[object Symbol]":return H6(e)}},Y6=gP,X6=Object.create,J6=function(){function e(){}return function(t){if(!Y6(t))return{};if(X6)return X6(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Q6=bZ,Z6=fL;var e8=function(e){return"function"!=typeof e.constructor||Z6(e)?{}:J6(Q6(e))},t8=ZL,n8=lP;var r8=function(e){return n8(e)&&"[object Map]"==t8(e)},a8=XR,i8=QR&&QR.isMap,o8=i8?a8(i8):r8,s8=ZL,l8=lP;var c8=function(e){return l8(e)&&"[object Set]"==s8(e)},u8=XR,d8=QR&&QR.isSet,f8=d8?u8(d8):c8,h8=VI,p8=H5,m8=X5,v8=n6,g8=h6,y8=m6,x8=v6,b8=x6,j8=O6,w8=EL,N8=T6,_8=ZL,k8=M6,S8=G6,O8=e8,E8=VC,C8=$R,P8=o8,T8=gP,A8=f8,M8=_L,D8=u6,I8="[object Arguments]",R8="[object Function]",L8="[object Object]",F8={};F8[I8]=F8["[object Array]"]=F8["[object ArrayBuffer]"]=F8["[object DataView]"]=F8["[object Boolean]"]=F8["[object Date]"]=F8["[object Float32Array]"]=F8["[object Float64Array]"]=F8["[object Int8Array]"]=F8["[object Int16Array]"]=F8["[object Int32Array]"]=F8["[object Map]"]=F8["[object Number]"]=F8[L8]=F8["[object RegExp]"]=F8["[object Set]"]=F8["[object String]"]=F8["[object Symbol]"]=F8["[object Uint8Array]"]=F8["[object Uint8ClampedArray]"]=F8["[object Uint16Array]"]=F8["[object Uint32Array]"]=!0,F8["[object Error]"]=F8[R8]=F8["[object WeakMap]"]=!1;var z8=function e(t,n,r,a,i,o){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=i?r(t,a,i,o):r(t)),void 0!==s)return s;if(!T8(t))return t;var d=E8(t);if(d){if(s=k8(t),!l)return x8(t,s)}else{var f=_8(t),h=f==R8||"[object GeneratorFunction]"==f;if(C8(t))return y8(t,l);if(f==L8||f==I8||h&&!i){if(s=c||h?{}:O8(t),!l)return c?j8(t,g8(s,t)):b8(t,v8(s,t))}else{if(!F8[f])return i?t:{};s=S8(t,f,l)}}o||(o=new h8);var p=o.get(t);if(p)return p;o.set(t,s),A8(t)?t.forEach(function(a){s.add(e(a,n,r,a,t,o))}):P8(t)&&t.forEach(function(a,i){s.set(i,e(a,n,r,i,t,o))});var m=d?void 0:(u?c?N8:w8:c?D8:M8)(t);return p8(m||t,function(a,i){m&&(a=t[i=a]),m8(s,i,e(a,n,r,i,t,o))}),s},B8=uA,$8=RM;var U8=iA,W8=QY,q8=function(e,t){return t.length<2?e:B8(e,$8(t,0,-1))},V8=sA;var H8=CZ;var K8=Lz;var G8=function(e){return(null==e?0:e.length)?K8(e,1):[]},Y8=oB,X8=pB;var J8=HT,Q8=z8,Z8=function(e,t){return t=U8(t,e),null==(e=q8(e,t))||delete e[V8(W8(t))]},e7=iA,t7=Z5,n7=function(e){return H8(e)?void 0:e},r7=T6;const a7=a(function(e){return X8(Y8(e,void 0,G8),e+"")}(function(e,t){var n={};if(null==e)return n;var r=!1;t=J8(t,function(t){return t=e7(t,e),r||(r=t.length>1),t}),t7(e,r7(e),n),r&&(n=Q8(n,7,n7));for(var a=t.length;a--;)Z8(n,t[a]);return n}));var i7,o7=U5({chartName:"AreaChart",GraphicalChild:N3,axisComponents:[{axisType:"xAxis",AxisComp:D3},{axisType:"yAxis",AxisComp:V3}],formatAxisMap:V1});function s7(e){return(s7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l7(){return l7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l7.apply(this,arguments)}function c7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c7(Object(n),!0).forEach(function(t){d7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d7(e,t,n){var r;return r=function(e,t){if("object"!=s7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s7(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e,t){var n="".concat(t.x||e.x),r=parseInt(n,10),a="".concat(t.y||e.y),i=parseInt(a,10),o="".concat((null==t?void 0:t.height)||(null==e?void 0:e.height)),s=parseInt(o,10);return u7(u7(u7({},t),ZZ(e)),{},{height:s,x:r,y:i})}function h7(e){return V.createElement(e0,l7({shapeType:"trapezoid",propTransformer:f7},e))}function p7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m7(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v7(e){return(v7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g7(){return g7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g7.apply(this,arguments)}function y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y7(Object(n),!0).forEach(function(t){k7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S7(r.key),r)}}function j7(e,t,n){return t=N7(t),function(e,t){if(t&&("object"===v7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w7()?Reflect.construct(t,n||[],N7(e).constructor):t.apply(e,n))}function w7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(w7=function(){return!!e})()}function N7(e){return(N7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _7(e,t){return(_7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=function(e,t){if("object"!=v7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v7(t)?t:t+""}var O7=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return k7(t=j7(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),k7(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),wP(e)&&e()}),k7(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),wP(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_7(e,t)}(e,q.PureComponent),t=e,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curTrapezoids:e.trapezoids,prevTrapezoids:t.curTrapezoids}:e.trapezoids!==t.curTrapezoids?{curTrapezoids:e.trapezoids}:null}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"renderTrapezoidsStatically",value:function(e){var t=this,n=this.props,r=n.shape,a=n.activeShape;return e.map(function(e,n){var i=t.isActiveIndex(n)?a:r,o=x7(x7({},e),{},{isActive:t.isActiveIndex(n),stroke:e.stroke});return V.createElement(DM,g7({className:"recharts-funnel-trapezoid"},lM(t.props,e,n),{key:"trapezoid-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.name,"-").concat(null==e?void 0:e.value),role:"img"}),V.createElement(h7,g7({option:i},o)))})}},{key:"renderTrapezoidsWithAnimation",value:function(){var e=this,t=this.props,n=t.trapezoids,r=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,o=t.animationEasing,s=t.animationId,l=this.state.prevTrapezoids;return V.createElement(sQ,{begin:a,duration:i,isActive:r,easing:o,from:{t:0},to:{t:1},key:"funnel-".concat(s),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var r=t.t,a=n.map(function(e,t){var n=l&&l[t];if(n){var a=QA(n.x,e.x),i=QA(n.y,e.y),o=QA(n.upperWidth,e.upperWidth),s=QA(n.lowerWidth,e.lowerWidth),c=QA(n.height,e.height);return x7(x7({},e),{},{x:a(r),y:i(r),upperWidth:o(r),lowerWidth:s(r),height:c(r)})}var u=QA(e.x+e.upperWidth/2,e.x),d=QA(e.y+e.height/2,e.y),f=QA(0,e.upperWidth),h=QA(0,e.lowerWidth),p=QA(0,e.height);return x7(x7({},e),{},{x:u(r),y:d(r),upperWidth:f(r),lowerWidth:h(r),height:p(r)})});return V.createElement(DM,null,e.renderTrapezoidsStatically(a))})}},{key:"renderTrapezoids",value:function(){var e=this.props,t=e.trapezoids,n=e.isAnimationActive,r=this.state.prevTrapezoids;return!(n&&t&&t.length)||r&&SK(r,t)?this.renderTrapezoidsStatically(t):this.renderTrapezoidsWithAnimation()}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.trapezoids,r=e.className,a=e.isAnimationActive,i=this.state.isAnimationFinished;if(t||!n||!n.length)return null;var o=dy("recharts-trapezoids",r);return V.createElement(DM,{className:o},this.renderTrapezoids(),(!a||i)&&dX.renderCallByParent(this.props,n))}}])&&b7(t.prototype,n),r&&b7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();i7=O7,k7(O7,"displayName","Funnel"),k7(O7,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",labelLine:!0,hide:!1,isAnimationActive:!ZB.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",lastShapeType:"triangle"}),k7(O7,"getRealFunnelData",function(e){var t=e.props,n=t.data,r=t.children,a=NM(e.props,!1),i=yM(r,$$);return n&&n.length?n.map(function(e,t){return x7(x7(x7({payload:e},a),e),i&&i[t]&&i[t].props)}):i&&i.length?i.map(function(e){return x7(x7({},a),e.props)}):[]}),k7(O7,"getRealWidthHeight",function(e,t){var n=e.props.width,r=t.width,a=t.height,i=t.left,o=t.right,s=t.top,l=t.bottom,c=a,u=r;return $A(n)?u=n:yA(n)&&(u=u*parseFloat(n)/100),{realWidth:u-i-o-50,realHeight:c-l-s,offsetX:(r-u)/2,offsetY:(a-c)/2}}),k7(O7,"getComposedData",function(e){var t=e.item,n=e.offset,r=i7.getRealFunnelData(t),a=t.props,i=a.dataKey,o=a.nameKey,s=a.tooltipType,l=a.lastShapeType,c=a.reversed,u=n.left,d=n.top,f=i7.getRealWidthHeight(t,n),h=f.realHeight,p=f.realWidth,m=f.offsetX,v=f.offsetY,g=Math.max.apply(null,r.map(function(e){return tY(e,i,0)})),y=r.length,x=h/y,b={x:n.left,y:n.top,width:n.width,height:n.height},j=r.map(function(e,t){var n,a=tY(e,i,0),c=tY(e,o,t),f=a;if(t!==y-1)(n=tY(r[t+1],i,0))instanceof Array&&(n=p7(n,1)[0]);else if(a instanceof Array&&2===a.length){var h=p7(a,2);f=h[0],n=h[1]}else n="rectangle"===l?f:0;var j=(g-f)*p/(2*g)+d+25+m,w=x*t+u+v,N=f/g*p,_=n/g*p,k=[{name:c,value:f,payload:e,dataKey:i,type:s}],S={x:j+N/2,y:w+x/2};return x7(x7({x:j,y:w,width:Math.max(N,_),upperWidth:N,lowerWidth:_,height:x,name:c,val:f,tooltipPayload:k,tooltipPosition:S},a7(e,"width")),{},{payload:e,parentViewBox:b,labelViewBox:{x:j+(N-_)/4,y:w,width:Math.abs(N-_)/2+Math.min(N,_),height:x}})});return c&&(j=j.map(function(e,t){var n=e.y-t*x+(y-1-t)*x;return x7(x7({},e),{},{upperWidth:e.lowerWidth,lowerWidth:e.upperWidth,x:e.x-(e.lowerWidth-e.upperWidth)/2,y:e.y-t*x+(y-1-t)*x,tooltipPosition:x7(x7({},e.tooltipPosition),{},{y:n+x/2}),labelViewBox:x7(x7({},e.labelViewBox),{},{y:n})})})),{trapezoids:j,data:r}});var E7=U5({chartName:"FunnelChart",GraphicalChild:O7,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",axisComponents:[],defaultProps:{layout:"centric"}});function C7({projets:e=[],contrats:t=[]}){const[n,r]=q.useState("all"),a=q.useMemo(()=>{const r=new Date,a=t.filter(e=>(e=>{if("all"===n)return!0;if(!e)return!1;const t=new Date(e),a=Math.floor((r.getTime()-t.getTime())/864e5);switch(n){case"7d":return a<=7;case"30d":return a<=30;case"90d":return a<=90;case"1y":return a<=365;default:return!0}})(e.contrat_date_creation)),i={};a.forEach(t=>{const n=e.find(e=>e.projet_id===t.projet_id),r=(null==n?void 0:n.commercial)||"Non attribué";i[r]||(i[r]={contrats:0,primeTotal:0,commissionAnnee1:0}),i[r].contrats++,i[r].primeTotal+=t.prime_brute_annuelle||0,i[r].commissionAnnee1+=t.commissionnement_annee1||0});const o={};a.forEach(e=>{if(e.contrat_date_creation){const t=new Date(e.contrat_date_creation),n=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;o[n]||(o[n]={month:n,primes:0,commissions:0}),o[n].primes+=e.prime_brute_annuelle||0,o[n].commissions+=e.commissionnement_annee1||0}});const s=Object.values(o).sort((e,t)=>e.month.localeCompare(t.month)),l=a.reduce((e,t)=>e+(t.prime_brute_annuelle||0),0),c=a.reduce((e,t)=>e+(t.commissionnement_annee1||0),0);return{revenueByCommercial:Object.entries(i).map(([e,t])=>({nom:e,...t})).sort((e,t)=>t.commissionAnnee1-e.commissionAnnee1),monthlyData:s,globalMetrics:{totalPrimes:l,totalCommissions:c,nbContrats:a.length}}},[t,e,n]);return ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Analyse des Revenus"}),ee.jsx("p",{className:"text-muted-foreground",children:"Primes et commissions sur la période sélectionnée"})]}),ee.jsxs(FC,{value:n,onValueChange:r,children:[ee.jsx(BC,{className:"w-40",children:ee.jsx(zC,{})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Afficher tout"}),ee.jsx(qC,{value:"7d",children:"7 derniers jours"}),ee.jsx(qC,{value:"30d",children:"30 derniers jours"}),ee.jsx(qC,{value:"90d",children:"3 derniers mois"}),ee.jsx(qC,{value:"1y",children:"Cette année"})]})]})]}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[ee.jsx(vE,{className:"card-glow",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre de Contrats"}),ee.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.globalMetrics.nbContrats})]})}),ee.jsx(vE,{className:"card-glow",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Commissions"}),ee.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["€",a.globalMetrics.totalCommissions.toLocaleString()]})]})}),ee.jsx(vE,{className:"card-glow",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre de Contrats"}),ee.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.globalMetrics.nbContrats})]})})]}),ee.jsxs(vE,{className:"card-glow",children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Évolution Mensuelle des Revenus"})}),ee.jsx(bE,{children:ee.jsx(B$,{width:"100%",height:300,children:ee.jsxs(W5,{data:a.monthlyData,children:[ee.jsx(q4,{strokeDasharray:"3 3"}),ee.jsx(D3,{dataKey:"month"}),ee.jsx(V3,{}),ee.jsx(d$,{formatter:e=>`€${Number(e).toLocaleString()}`}),ee.jsx(s3,{type:"monotone",dataKey:"primes",stroke:"#3b82f6",name:"Primes",strokeWidth:2}),ee.jsx(s3,{type:"monotone",dataKey:"commissions",stroke:"#10b981",name:"Commissions",strokeWidth:2})]})})})]})]})}function P7({projets:e=[],contrats:t=[]}){const[n,r]=q.useState("all"),a=q.useMemo(()=>{const e=new Date,r=t.filter(t=>(t=>{if("all"===n)return!0;if(!t)return!1;const r=new Date(t),a=Math.floor((e.getTime()-r.getTime())/864e5);switch(n){case"7d":return a<=7;case"30d":return a<=30;case"90d":return a<=90;case"1y":return a<=365;default:return!0}})(t.contrat_date_creation)),a={};r.forEach(e=>{const t=e.contrat_produit||"Non spécifié";a[t]||(a[t]={contrats:0,primeTotal:0,commissionTotal:0}),a[t].contrats++,a[t].primeTotal+=e.prime_brute_annuelle||0,a[t].commissionTotal+=e.commissionnement_annee1||0});const i=Object.entries(a).map(([e,t])=>({nom:e,...t})).sort((e,t)=>t.primeTotal-e.primeTotal),o={};r.forEach(e=>{const t=e.contrat_compagnie||"Non spécifiée";o[t]||(o[t]={contrats:0,primeTotal:0}),o[t].contrats++,o[t].primeTotal+=e.prime_brute_annuelle||0});const s=Object.entries(o).map(([e,t])=>({nom:e,...t})).sort((e,t)=>t.primeTotal-e.primeTotal);return{topProduits:i,topCompanies:s,totalContrats:r.length}},[t,n]),i=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"];return ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Analyse Produits & Compagnies"}),ee.jsx("p",{className:"text-muted-foreground",children:"Performance par produit et compagnie"})]}),ee.jsxs(FC,{value:n,onValueChange:r,children:[ee.jsx(BC,{className:"w-40",children:ee.jsx(zC,{})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Afficher tout"}),ee.jsx(qC,{value:"7d",children:"7 derniers jours"}),ee.jsx(qC,{value:"30d",children:"30 derniers jours"}),ee.jsx(qC,{value:"90d",children:"3 derniers mois"}),ee.jsx(qC,{value:"1y",children:"Cette année"})]})]})]}),ee.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ee.jsxs(vE,{className:"card-glow",children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Top Produits par Chiffre d'Affaires"})}),ee.jsx(bE,{children:ee.jsx(B$,{width:"100%",height:300,children:ee.jsxs(q5,{data:a.topProduits.slice(0,5),children:[ee.jsx(q4,{strokeDasharray:"3 3"}),ee.jsx(D3,{dataKey:"nom"}),ee.jsx(V3,{}),ee.jsx(d$,{formatter:e=>`€${Number(e).toLocaleString()}`}),ee.jsx(F1,{dataKey:"primeTotal",fill:"#3b82f6"})]})})})]}),ee.jsxs(vE,{className:"card-glow",children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Répartition par Compagnie"})}),ee.jsx(bE,{children:ee.jsx(B$,{width:"100%",height:300,children:ee.jsxs(V5,{children:[ee.jsx(x0,{data:a.topCompanies.slice(0,5),cx:"50%",cy:"50%",outerRadius:100,dataKey:"primeTotal",nameKey:"nom",children:a.topCompanies.slice(0,5).map((e,t)=>ee.jsx($$,{fill:i[t%i.length]},`cell-${t}`))}),ee.jsx(d$,{formatter:e=>`€${Number(e).toLocaleString()}`})]})})})]})]})]})}function T7({projets:e=[],contrats:t=[]}){const[n,r]=q.useState("all"),a=q.useMemo(()=>{const r=new Date,a=e=>{if("all"===n)return!0;if(!e)return!1;const t=new Date(e),a=Math.floor((r.getTime()-t.getTime())/864e5);switch(n){case"7d":return a<=7;case"30d":return a<=30;case"90d":return a<=90;case"1y":return a<=365;default:return!0}},o=e.filter(e=>a(e.date_creation)),s=t.filter(e=>a(e.created_at)||a(e.contrat_date_creation)),l={},c=new Set;o.forEach(e=>{e.statut&&(c.add(e.statut),l[e.statut]=(l[e.statut]||0)+1)});const u=Array.from(c).sort((e,t)=>l[t]-l[e]).map(e=>({name:e,value:l[e]||0,fill:i(e)})).filter(e=>e.value>0),d=o.length,f=s.length;let h=0;if(s.some(e=>e.projet_id)){const e=new Set(s.map(e=>e.projet_id).filter(e=>e));h=o.filter(t=>t.projet_id&&e.has(t.projet_id)).length}else h=Math.floor(.8*f);return{funnelData:u,totalProjets:d,projetsSignes:h,totalContrats:f,tauxConversion:d>0?h/d*100:0,statutsDisponibles:Array.from(c),statutCounts:l}},[e,t,n]);function i(e){return{Nouveau:"#3b82f6","Projet à traiter":"#f59e0b","Devis envoyé":"#8b5cf6","Contrat enregistré":"#10b981",Perdu:"#ef4444"}[e]||"#6b7280"}return ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Analyse du Pipeline Commercial"}),ee.jsx("p",{className:"text-muted-foreground",children:"Suivi des opportunités et entonnoir de conversion"})]}),ee.jsxs(FC,{value:n,onValueChange:r,children:[ee.jsx(BC,{className:"w-40",children:ee.jsx(zC,{})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Afficher tout"}),ee.jsx(qC,{value:"7d",children:"7 derniers jours"}),ee.jsx(qC,{value:"30d",children:"30 derniers jours"}),ee.jsx(qC,{value:"90d",children:"3 derniers mois"}),ee.jsx(qC,{value:"1y",children:"Cette année"})]})]})]}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ee.jsx(vE,{className:"card-glow",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Projets"}),ee.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.totalProjets})]})}),ee.jsx(vE,{className:"card-glow",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Contrats"}),ee.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.totalContrats})]})}),ee.jsx(vE,{className:"card-glow",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Projets Convertis"}),ee.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.projetsSignes})]})}),ee.jsx(vE,{className:"card-glow",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de Conversion"}),ee.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[a.tauxConversion.toFixed(1),"%"]})]})})]}),a.statutsDisponibles.length>0&&ee.jsxs(vE,{className:"card-glow border-blue-200 bg-blue-50",children:[ee.jsx(gE,{children:ee.jsx(yE,{className:"text-blue-800",children:"Statuts Disponibles dans vos Données"})}),ee.jsx(bE,{children:ee.jsx("div",{className:"flex flex-wrap gap-2",children:a.statutsDisponibles.map(e=>ee.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[e," (",a.statutCounts[e]||0,")"]},e))})})]}),ee.jsxs(vE,{className:"card-glow",children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Entonnoir de Conversion"})}),ee.jsx(bE,{children:ee.jsx(B$,{width:"100%",height:300,children:ee.jsxs(E7,{children:[ee.jsx(d$,{}),ee.jsx(O7,{dataKey:"value",data:a.funnelData,isAnimationActive:!0,children:ee.jsx(dX,{position:"right",fill:"#64748b",stroke:"none",dataKey:"name"})})]})})})]})]})}function A7({contacts:e=[],projets:t=[],contrats:n=[]}){return ee.jsxs(fE,{defaultValue:"revenue",className:"w-full",children:[ee.jsxs(hE,{className:"grid w-full grid-cols-3",children:[ee.jsx(pE,{value:"revenue",children:"Analyse des Revenus"}),ee.jsx(pE,{value:"products",children:"Analyse Produits"}),ee.jsx(pE,{value:"pipeline",children:"Analyse du Pipeline"})]}),ee.jsx(mE,{value:"revenue",children:ee.jsx(C7,{projets:t,contrats:n})}),ee.jsx(mE,{value:"products",children:ee.jsx(P7,{projets:t,contrats:n})}),ee.jsx(mE,{value:"pipeline",children:ee.jsx(T7,{projets:t,contrats:n})})]})}const M7=py("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function D7({className:e,variant:t,...n}){return ee.jsx("div",{className:Ob(M7({variant:t}),e),...n})}const I7=({stats:e,clients:t,projets:n,contrats:r,segments:a,workflows:i,campaigns:o,aiPredictions:s,interactions:l})=>{const[c,u]=q.useState("commercial"),[d,f]=q.useState(),h=q.useMemo(()=>t,[t]),{contacts:p,projets:m,contrats:v}=q.useMemo(()=>{if(!(null==d?void 0:d.from))return{contacts:h,projets:n,contrats:r};const e=d.from,t=d.to||e;return{contacts:h.filter(n=>{if(!n.created_at)return!1;const r=new Date(n.created_at);return r>=e&&r<=t}),projets:n.filter(n=>{if(!n.date_creation)return!1;const r=new Date(n.date_creation);return r>=e&&r<=t}),contrats:r.filter(n=>{if(!n.contrat_date_creation)return!1;const r=new Date(n.contrat_date_creation);return r>=e&&r<=t})}},[h,n,r,d]),g=25e3*q.useMemo(()=>{if((null==d?void 0:d.from)&&(null==d?void 0:d.to))return 12*(d.to.getFullYear()-d.from.getFullYear())+d.to.getMonth()-d.from.getMonth()+1;const e=[...n.map(e=>e.date_creation?new Date(e.date_creation):null),...r.map(e=>e.contrat_date_creation?new Date(e.contrat_date_creation):null)].filter(e=>e instanceof Date&&!isNaN(e.getTime()));if(e.length<2)return 1;const t=new Date(Math.min(...e.map(e=>e.getTime()))),a=new Date(Math.max(...e.map(e=>e.getTime())));return 12*(a.getFullYear()-t.getFullYear())+a.getMonth()-t.getMonth()+1},[d,n,r]),y=q.useMemo(()=>{const e=p.length,t=m.length,n=v.length,r=t>0?n/t*100:0,a=v.reduce((e,t)=>e+(t.prime_brute_annuelle||0),0),i=v.reduce((e,t)=>e+(t.commissionnement_annee1||0),0),o=m.filter(e=>{var t,n;return"Ne répond pas"!==e.statut&&!(null==(t=e.statut)?void 0:t.toLowerCase().includes("perdu"))&&!(null==(n=e.statut)?void 0:n.toLowerCase().includes("inexploitable"))}),s=t>0?o.length/t*100:0,l=m.filter(e=>{var t;return null==(t=e.statut)?void 0:t.includes("Devis")}).length,c=m.filter(e=>{var t,n;return(null==(t=e.statut)?void 0:t.includes("cours"))||(null==(n=e.statut)?void 0:n.includes("traiter"))}).length,u=["annulé","annule","perdu","refusé","résilié"],d=v.filter(e=>{const t=e.projet_statut||"N/A",n=t.toLowerCase();return!u.some(e=>n.includes(e))&&"N/A"!==t}),f=new Map;d.forEach(e=>{const t=e.commercial||"Non assigné";if("Non assigné"!==t){f.has(t)||f.set(t,{contrats:0,ca:0});const n=f.get(t);n.contrats++,n.ca+=e.prime_brute_annuelle||0}});const h=new Set;for(const p of f.keys())h.add(p);const y=new Map;h.forEach(e=>{const{contrats:t,ca:n}=f.get(e)||{contrats:0,ca:0};y.set(e,{projets:t,contrats:t,ca:n})});const x=Array.from(y.entries()).sort(([,e],[,t])=>t.ca-e.ca).slice(0,5).map(([e,t])=>({commercial:e,stats:t,progressObjectif:Math.min(t.ca/g*100,100),ecartObjectif:t.ca-g})),b=new Map;v.forEach(e=>{const t=e.contrat_produit||"Non spécifié",n=e.contrat_compagnie||"Non spécifiée",r=`${t} - ${n}`;b.has(r)||b.set(r,{count:0,ca:0,produit:t,compagnie:n}),b.get(r).count++,b.get(r).ca+=e.prime_brute_annuelle||0});const j=Array.from(b.entries()).sort(([,e],[,t])=>t.ca-e.ca).slice(0,5);return{totalContacts:e,totalProjets:t,totalContrats:n,tauxConversion:r,tauxJoinabilite:s,caTotal:a,commissions:i,devisEnvoyes:l,enCours:c,topCommerciaux:x,topProduits:j}},[p,m,v,g,n]);return ee.jsx("div",{className:"space-y-6",children:ee.jsxs(fE,{value:c,onValueChange:u,className:"w-full",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ee.jsxs("div",{className:"flex items-center gap-4",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Dashboard Commercial"}),ee.jsx("p",{className:"text-muted-foreground",children:"KPIs, performances et analyses temps réel"})]}),ee.jsx(OO,{date:d,onSelect:f})]}),ee.jsxs(hE,{className:"grid w-auto grid-cols-2",children:[ee.jsx(pE,{value:"commercial",children:"Performances Commerciales"}),ee.jsx(pE,{value:"analytics",children:"Analyses Détaillées"})]})]}),ee.jsxs(mE,{value:"commercial",className:"space-y-6",children:[ee.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{title:"Contacts Total",value:y.totalContacts,icon:"fas fa-users",color:"from-blue-500 to-blue-600",change:"+12%"},{title:"Projets",value:y.totalProjets,icon:"fas fa-project-diagram",color:"from-green-500 to-green-600",change:"+8%"},{title:"Contrats Signés",value:y.totalContrats,icon:"fas fa-file-signature",color:"from-purple-500 to-purple-600",change:"+15%"},{title:"Taux Conversion",value:`${y.tauxConversion.toFixed(1)}%`,icon:"fas fa-percentage",color:"from-orange-500 to-orange-600",change:y.tauxConversion>20?"+5%":"-2%"},{title:"Taux Joinabilité",value:`${y.tauxJoinabilite.toFixed(1)}%`,icon:"fas fa-phone",color:"from-pink-500 to-pink-600",change:y.tauxJoinabilite>70?"+3%":"-1%"},{title:"CA Total",value:`€${(y.caTotal/1e3).toFixed(0)}k`,icon:"fas fa-euro-sign",color:"from-emerald-500 to-emerald-600",change:"+22%"}].map((e,t)=>ee.jsx(vE,{className:"card-glow",children:ee.jsxs(bE,{className:"p-4",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ee.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${e.color} rounded-lg flex items-center justify-center`,children:ee.jsx("i",{className:`${e.icon} text-white text-sm`})}),ee.jsx(D7,{className:e.change.startsWith("+")?"metric-positive":"metric-negative",children:e.change})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:e.title}),ee.jsx("p",{className:"text-lg font-bold text-foreground",children:e.value})]})]})},t))}),ee.jsxs(vE,{className:"card-glow",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx("i",{className:"fas fa-trophy mr-2 text-yellow-600"}),"Top Commerciaux"]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:y.topCommerciaux.map((e,t)=>ee.jsxs("div",{className:"p-4 border border-border rounded-lg bg-gradient-to-r from-background to-muted/20",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsxs("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-white "+(0===t?"bg-gradient-to-r from-yellow-500 to-yellow-600":1===t?"bg-gradient-to-r from-gray-400 to-gray-500":2===t?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-blue-500 to-blue-600"),children:["#",t+1]}),ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-semibold text-foreground text-lg",children:e.commercial}),ee.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.stats.projets," projets • ",e.stats.contrats," contrats"]})]})]}),ee.jsxs("div",{className:"text-right",children:[ee.jsxs("div",{className:"text-xl font-bold text-primary",children:["€",(e.stats.ca/1e3).toFixed(0),"k"]}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.stats.projets>0?(e.stats.contrats/e.stats.projets*100).toFixed(1):0,"% conversion"]})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between text-sm",children:[ee.jsxs("span",{className:"text-muted-foreground",children:["Objectif: €",(g/1e3).toFixed(0),"k"]}),ee.jsxs("span",{className:"font-medium "+(e.ecartObjectif>=0?"text-green-600":"text-orange-600"),children:[e.ecartObjectif>=0?"+":"","€",(e.ecartObjectif/1e3).toFixed(1),"k"]})]}),ee.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:ee.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(e.progressObjectif>=100?"bg-gradient-to-r from-green-500 to-green-600":e.progressObjectif>=75?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-orange-500 to-orange-600"),style:{width:`${Math.min(e.progressObjectif,100)}%`}})}),ee.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[e.progressObjectif.toFixed(1),"% de l'objectif atteint"]})]})]},e.commercial))})})]}),ee.jsxs(vE,{className:"card-glow",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx("i",{className:"fas fa-chart-pie mr-2 text-primary"}),"Top Produits & Compagnies"]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:y.topProduits.map(([e,t],n)=>ee.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-semibold text-foreground",children:t.produit}),ee.jsx("p",{className:"text-sm text-muted-foreground",children:t.compagnie})]}),ee.jsxs("div",{className:"text-right",children:[ee.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["€",(t.ca/1e3).toFixed(0),"k"]}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.count," contrats"]})]})]},e))})})]})]}),ee.jsx(mE,{value:"analytics",children:ee.jsxs("div",{className:"hero-section rounded-2xl p-6",children:[ee.jsxs("div",{className:"text-center mb-6",children:[ee.jsx(Cy,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),ee.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analyses Détaillées"}),ee.jsx("p",{className:"text-gray-600",children:"Vue approfondie des performances et des insights"})]}),ee.jsx(A7,{contacts:p,projets:m,contrats:v})]})})]})})};function R7({message:e="Chargement...",fullScreen:t=!0}){const n=t?"flex items-center justify-center min-h-screen bg-gray-50":"flex items-center justify-center py-8";return ee.jsx("div",{className:n,children:ee.jsxs("div",{className:"text-center",children:[ee.jsx(ax,{className:"animate-spin h-8 w-8 text-blue-600 mx-auto mb-4"}),ee.jsx("p",{className:"text-gray-600",children:e})]})})}function L7(){const{user:e,loading:t}=Av(),n=ef(),[r,a]=q.useState({contacts:[],projets:[],contrats:[],interactions:[],campaigns:[],stats:{totalContacts:0,activeClients:0,prospects:0,totalRevenue:0,conversionRate:"0",avgRevenuePerClient:"0",growthRate:"0",activeCampaigns:0,crossSellOpportunities:0,aiScore:0}}),{contacts:i,projets:o,contrats:s,interactions:l,campaigns:c,stats:u}=r,[d,f]=q.useState(!1);if(q.useEffect(()=>{e&&h()},[e]),q.useEffect(()=>{t||e||n("/login",{replace:!0})},[e,t,n]),t)return ee.jsx(R7,{message:"Chargement de Premun IA..."});if(!e)return null;const h=async()=>{if(!d){f(!0);try{const[{data:e,error:t},{data:n,error:r},{data:i,error:o},{data:s,error:l}]=await Promise.all([Pv.from("contact").select("*, projets(projet_id)").order("created_at",{ascending:!1}),Pv.from("projets").select("*").order("created_at",{ascending:!1}),Pv.from("contrats").select("*").order("contrat_date_creation",{ascending:!1}),Pv.from("interactions").select("*").order("created_at",{ascending:!1})]);t&&console.error("Error loading contacts:",t),r&&console.error("Error loading projets:",r),o&&console.error("Error loading contrats:",o),l&&console.error("Error loading interactions:",l);const c=(null==e?void 0:e.length)||0,u=(null==e?void 0:e.filter(e=>"active"===e.statut).length)||0,d=(null==e?void 0:e.filter(e=>"prospect"===e.statut).length)||0,f=(null==n?void 0:n.length)||0,h=(null==i?void 0:i.length)||0,p=(null==i?void 0:i.reduce((e,t)=>e+(t.prime_brute_annuelle||0),0))||0,m=f>0?(h/f*100).toFixed(2):"0",v=c>0?(p/c).toFixed(2):"0",g={totalContacts:c,activeClients:u,prospects:d,totalRevenue:p,conversionRate:m,avgRevenuePerClient:v,growthRate:"+5%",activeCampaigns:10,crossSellOpportunities:5,aiScore:75};a({contacts:e||[],projets:n||[],contrats:i||[],interactions:s||[],campaigns:[],stats:g})}catch(e){console.error("Error loading dashboard data:",e),a({contacts:[],projets:[],contrats:[],interactions:[],campaigns:[],stats:{totalContacts:0,activeClients:0,prospects:0,totalRevenue:0,conversionRate:"0",avgRevenuePerClient:"0",growthRate:"0",activeCampaigns:0,crossSellOpportunities:0,aiScore:0}})}finally{f(!1)}}};return ee.jsx(zb,{title:"Dashboard",children:d?ee.jsx(R7,{message:"Actualisation des données de Premun IA...",fullScreen:!1}):ee.jsx(I7,{stats:u,clients:i,projets:o,contrats:s,segments:[],workflows:[],campaigns:c,aiPredictions:[],interactions:l})})}const F7=q.forwardRef(({className:e,type:t,...n},r)=>ee.jsx("input",{type:t,className:Ob("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));F7.displayName="Input";var z7="Dialog",[B7,$7]=Kv(z7),[U7,W7]=B7(z7),q7=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,s=q.useRef(null),l=q.useRef(null),[c,u]=bg({prop:r,defaultProp:a??!1,onChange:i,caller:z7});return ee.jsx(U7,{scope:t,triggerRef:s,contentRef:l,contentId:VN(),titleId:VN(),descriptionId:VN(),open:c,onOpenChange:u,onOpenToggle:q.useCallback(()=>u(e=>!e),[u]),modal:o,children:n})};q7.displayName=z7;var V7="DialogTrigger";q.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=W7(V7,n),i=Hv(t,a.triggerRef);return ee.jsx(tg.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":d9(a.open),...r,ref:i,onClick:Wv(e.onClick,a.onOpenToggle)})}).displayName=V7;var H7="DialogPortal",[K7,G7]=B7(H7,{forceMount:void 0}),Y7=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=W7(H7,t);return ee.jsx(K7,{scope:t,forceMount:n,children:q.Children.map(r,e=>ee.jsx(gg,{present:n||i.open,children:ee.jsx(vg,{asChild:!0,container:a,children:e})}))})};Y7.displayName=H7;var X7="DialogOverlay",J7=q.forwardRef((e,t)=>{const n=G7(X7,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=W7(X7,e.__scopeDialog);return i.modal?ee.jsx(gg,{present:r||i.open,children:ee.jsx(Z7,{...a,ref:t})}):null});J7.displayName=X7;var Q7=Yv("DialogOverlay.RemoveScroll"),Z7=q.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=W7(X7,n);return ee.jsx(ZS,{as:Q7,allowPinchZoom:!0,shards:[a.contentRef],children:ee.jsx(tg.div,{"data-state":d9(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),e9="DialogContent",t9=q.forwardRef((e,t)=>{const n=G7(e9,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=W7(e9,e.__scopeDialog);return ee.jsx(gg,{present:r||i.open,children:i.modal?ee.jsx(n9,{...a,ref:t}):ee.jsx(r9,{...a,ref:t})})});t9.displayName=e9;var n9=q.forwardRef((e,t)=>{const n=W7(e9,e.__scopeDialog),r=q.useRef(null),a=Hv(t,n.contentRef,r);return q.useEffect(()=>{const e=r.current;if(e)return fS(e)},[]),ee.jsx(a9,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wv(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:Wv(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Wv(e.onFocusOutside,e=>e.preventDefault())})}),r9=q.forwardRef((e,t)=>{const n=W7(e9,e.__scopeDialog),r=q.useRef(!1),a=q.useRef(!1);return ee.jsx(a9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,o;null==(i=e.onCloseAutoFocus)||i.call(e,t),t.defaultPrevented||(r.current||null==(o=n.triggerRef.current)||o.focus(),t.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:t=>{var i,o;null==(i=e.onInteractOutside)||i.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const s=t.target;(null==(o=n.triggerRef.current)?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),a9=q.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,s=W7(e9,n),l=q.useRef(null),c=Hv(t,l);return TN(),ee.jsxs(ee.Fragment,{children:[ee.jsx(RN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:ee.jsx(cg,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":d9(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),ee.jsxs(ee.Fragment,{children:[ee.jsx(m9,{titleId:s.titleId}),ee.jsx(v9,{contentRef:l,descriptionId:s.descriptionId})]})]})}),i9="DialogTitle",o9=q.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=W7(i9,n);return ee.jsx(tg.h2,{id:a.titleId,...r,ref:t})});o9.displayName=i9;var s9="DialogDescription",l9=q.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=W7(s9,n);return ee.jsx(tg.p,{id:a.descriptionId,...r,ref:t})});l9.displayName=s9;var c9="DialogClose",u9=q.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=W7(c9,n);return ee.jsx(tg.button,{type:"button",...r,ref:t,onClick:Wv(e.onClick,()=>a.onOpenChange(!1))})});function d9(e){return e?"open":"closed"}u9.displayName=c9;var f9="DialogTitleWarning",[h9,p9]=function(e,t){const n=q.createContext(t),r=e=>{const{children:t,...r}=e,a=q.useMemo(()=>r,Object.values(r));return ee.jsx(n.Provider,{value:a,children:t})};return r.displayName=e+"Provider",[r,function(r){const a=q.useContext(n);if(a)return a;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(f9,{contentName:e9,titleName:i9,docsSlug:"dialog"}),m9=({titleId:e})=>{const t=p9(f9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return q.useEffect(()=>{if(e){document.getElementById(e)||console.error(n)}},[n,e]),null},v9=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${p9("DialogDescriptionWarning").contentName}}.`;return q.useEffect(()=>{var n;const r=null==(n=e.current)?void 0:n.getAttribute("aria-describedby");if(t&&r){document.getElementById(t)}},[n,e,t]),null},g9=J7,y9=t9,x9=o9,b9=l9,j9=u9;const w9=q7,N9=Y7,_9=q.forwardRef(({className:e,...t},n)=>ee.jsx(g9,{ref:n,className:Ob("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_9.displayName=g9.displayName;const k9=q.forwardRef(({className:e,children:t,...n},r)=>ee.jsxs(N9,{children:[ee.jsx(_9,{}),ee.jsxs(y9,{ref:r,className:Ob("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,ee.jsxs(j9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[ee.jsx(Mx,{className:"h-4 w-4"}),ee.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));k9.displayName=y9.displayName;const S9=({className:e,...t})=>ee.jsx("div",{className:Ob("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});S9.displayName="DialogHeader";const O9=q.forwardRef(({className:e,...t},n)=>ee.jsx(x9,{ref:n,className:Ob("text-lg font-semibold leading-none tracking-tight",e),...t}));O9.displayName=x9.displayName;q.forwardRef(({className:e,...t},n)=>ee.jsx(b9,{ref:n,className:Ob("text-sm text-muted-foreground",e),...t})).displayName=b9.displayName;var E9="Progress",C9=100,[P9,T9]=Kv(E9),[A9,M9]=P9(E9),D9=q.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=L9,...o}=e;!a&&0!==a||B9(a)||console.error(`Invalid prop \`max\` of value \`${`${a}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const s=B9(a)?a:C9;null===r||$9(r,s)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${r}`,"Progress"));const l=$9(r,s)?r:null,c=z9(l)?i(l,s):void 0;return ee.jsx(A9,{scope:n,value:l,max:s,children:ee.jsx(tg.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":z9(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":F9(l,s),"data-value":l??void 0,"data-max":s,...o,ref:t})})});D9.displayName=E9;var I9="ProgressIndicator",R9=q.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=M9(I9,n);return ee.jsx(tg.div,{"data-state":F9(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});function L9(e,t){return`${Math.round(e/t*100)}%`}function F9(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function z9(e){return"number"==typeof e}function B9(e){return z9(e)&&!isNaN(e)&&e>0}function $9(e,t){return z9(e)&&!isNaN(e)&&e<=t&&e>=0}R9.displayName=I9;var U9=D9,W9=R9;const q9=q.forwardRef(({className:e,value:t,...n},r)=>ee.jsx(U9,{ref:r,className:Ob("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:ee.jsx(W9,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));function V9(){var e,t;const{toast:n}=Uv(),[r,a]=q.useState([]),[i,o]=q.useState([]),[s,l]=q.useState(""),[c,u]=q.useState("all"),[d,f]=q.useState("all"),[h,p]=q.useState("all"),[m,v]=q.useState("all"),[g,y]=q.useState("all"),[x,b]=q.useState("all"),[j,w]=q.useState(!0),[N,_]=q.useState(null),[k,S]=q.useState([]),[O,E]=q.useState(!1),[C,P]=q.useState(!1),[T,A]=q.useState(!1),[M,D]=q.useState(!1),[I,R]=q.useState([]),[L,F]=q.useState(null);q.useEffect(()=>{z()},[]);const z=async()=>{try{w(!0);const{data:e,error:t}=await Pv.from("envois_groupes").select("*").order("created_at",{ascending:!1});if(t)throw console.error("🔍 DEBUG: Error loading envois_groupes:",t),console.error("🔍 DEBUG: Error code:",t.code),console.error("🔍 DEBUG: Error message:",t.message),t;null==e||e.length,null==e||e[0];const{data:n,error:r}=await Pv.from("email_templates").select("id, nom, sujet");if(r)throw console.error("🔍 DEBUG: Error loading email_templates:",r),r;null==n||n.length,a(e||[]),o(n||[])}catch(e){console.error("🔍 DEBUG: Final error in loadData:",e),n({title:"Erreur",description:"Impossible de charger l'historique des envois",variant:"destructive"})}finally{w(!1)}},B=q.useMemo(()=>{r.length;const e=r.filter(e=>{var t,n;const r=!s||e.nom_campagne.toLowerCase().includes(s.toLowerCase())||(null==(t=e.commercial)?void 0:t.toLowerCase().includes(s.toLowerCase()));r&&0;const a=new Date(e.created_at),o=new Date,l="all"===d||"today"===d&&a.toDateString()===o.toDateString()||"week"===d&&a>=new Date(o.getTime()-6048e5)||"month"===d&&a>=new Date(o.getTime()-2592e6);l&&0;const u=e.nombre_echecs>0,f="all"===c||"success"===c&&!u||"errors"===c&&u;f&&0;const p="all"===h||"none"===h&&!e.template_id||e.template_id&&(null==(n=i.find(t=>t.id===e.template_id))?void 0:n.nom)===h,v="all"===m||e.commercial===m,y=e.nombre_destinataires>0?Math.round((e.nombre_envoyes-e.nombre_echecs)/e.nombre_destinataires*100):0,b="all"===g||"excellent"===g&&y>=90||"good"===g&&y>=70&&y<90||"average"===g&&y>=50&&y<70||"poor"===g&&y<50,j="all"===x||"small"===x&&e.nombre_destinataires<50||"medium"===x&&e.nombre_destinataires>=50&&e.nombre_destinataires<200||"large"===x&&e.nombre_destinataires>=200,w=r&&l&&f&&p&&v&&b&&j;return w&&0,w});return s&&r.forEach(e=>{var t;const n=e.nom_campagne.toLowerCase().includes(s.toLowerCase()),r=null==(t=e.commercial)?void 0:t.toLowerCase().includes(s.toLowerCase());(n||r)&&(e.id,e.nom_campagne,e.commercial)}),e.length,e},[r,s,d,c,h,m,g,x,i]),$=q.useMemo(()=>{const e=B.length,t=B.reduce((e,t)=>e+t.nombre_envoyes,0),n=B.reduce((e,t)=>e+t.nombre_echecs,0),r=t>0?(t-n)/t*100:0;return{totalCampaigns:e,totalSent:t,totalErrors:n,successRate:Math.round(100*r)/100}},[B]),U=e=>0===e.nombre_echecs?"bg-green-100 text-green-800 border-green-200":e.nombre_echecs===e.nombre_destinataires?"bg-red-100 text-red-800 border-red-200":"bg-yellow-100 text-yellow-800 border-yellow-200",W=e=>0===e.nombre_echecs?"Succès complet":e.nombre_echecs===e.nombre_destinataires?"Échec total":"Succès partiel",V=e=>{switch(e){case"envoye":return"bg-green-100 text-green-800";case"echec":return"bg-red-100 text-red-800";case"ouvert":return"bg-blue-100 text-blue-800";case"clique":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return j?ee.jsx("div",{className:"flex justify-center items-center p-12",children:ee.jsx(ax,{className:"h-8 w-8 animate-spin text-primary"})}):ee.jsxs("div",{className:"space-y-6",children:[ee.jsx("div",{className:"flex justify-between items-center",children:ee.jsxs("div",{children:[ee.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Historique des Envois Groupés"}),ee.jsx("p",{className:"text-muted-foreground mt-1",children:"Suivi détaillé des campagnes emails avec statistiques Brevo"})]})}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ee.jsx(vE,{className:"border-0 bg-gradient-to-br from-blue-50 to-blue-100",children:ee.jsxs(bE,{className:"p-6 text-center",children:[ee.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[ee.jsx(sx,{className:"w-6 h-6 text-blue-600"}),ee.jsx("div",{className:"text-3xl font-bold text-blue-600",children:$.totalCampaigns})]}),ee.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Campagnes Totales"})]})}),ee.jsx(vE,{className:"border-0 bg-gradient-to-br from-green-50 to-green-100",children:ee.jsxs(bE,{className:"p-6 text-center",children:[ee.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[ee.jsx(bx,{className:"w-6 h-6 text-green-600"}),ee.jsx("div",{className:"text-3xl font-bold text-green-600",children:$.totalSent})]}),ee.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Emails Envoyés"})]})}),ee.jsx(vE,{className:"border-0 bg-gradient-to-br from-red-50 to-red-100",children:ee.jsxs(bE,{className:"p-6 text-center",children:[ee.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[ee.jsx(Ry,{className:"w-6 h-6 text-red-600"}),ee.jsx("div",{className:"text-3xl font-bold text-red-600",children:$.totalErrors})]}),ee.jsx("div",{className:"text-sm text-red-700 font-medium",children:"Échecs"})]})}),ee.jsx(vE,{className:"border-0 bg-gradient-to-br from-purple-50 to-purple-100",children:ee.jsxs(bE,{className:"p-6 text-center",children:[ee.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[ee.jsx(Cx,{className:"w-6 h-6 text-purple-600"}),ee.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[$.successRate,"%"]})]}),ee.jsx("div",{className:"text-sm text-purple-700 font-medium",children:"Taux de Succès"})]})})]}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[ee.jsx(F7,{placeholder:"Rechercher une campagne...",value:s,onChange:e=>l(e.target.value)}),ee.jsxs(FC,{value:c,onValueChange:u,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Statut"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les statuts"}),ee.jsx(qC,{value:"success",children:"Succès complet"}),ee.jsx(qC,{value:"errors",children:"Avec erreurs"})]})]}),ee.jsxs(FC,{value:d,onValueChange:f,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Période"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Toutes les périodes"}),ee.jsx(qC,{value:"today",children:"Aujourd'hui"}),ee.jsx(qC,{value:"week",children:"Cette semaine"}),ee.jsx(qC,{value:"month",children:"Ce mois"})]})]}),ee.jsxs(FC,{value:h,onValueChange:p,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Template"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les templates"}),ee.jsx(qC,{value:"none",children:"Sans template"}),i.map(e=>ee.jsx(qC,{value:e.nom,children:e.nom},e.id))]})]})]}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[ee.jsxs(FC,{value:m,onValueChange:v,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Commercial"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les commerciaux"}),[...new Set(r.map(e=>e.commercial).filter(Boolean))].map(e=>ee.jsx(qC,{value:e,children:e},e))]})]}),ee.jsxs(FC,{value:g,onValueChange:y,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Taux de succès"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les taux"}),ee.jsx(qC,{value:"excellent",children:"Excellent (≥90%)"}),ee.jsx(qC,{value:"good",children:"Bon (70-89%)"}),ee.jsx(qC,{value:"average",children:"Moyen (50-69%)"}),ee.jsx(qC,{value:"poor",children:"Faible (moins de 50%)"})]})]}),ee.jsxs(FC,{value:x,onValueChange:b,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Nombre destinataires"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les nombres"}),ee.jsx(qC,{value:"small",children:"Petit (moins de 50)"}),ee.jsx(qC,{value:"medium",children:"Moyen (50-199)"}),ee.jsx(qC,{value:"large",children:"Grand (≥200)"})]})]}),ee.jsx(Lb,{variant:"outline",onClick:()=>{l(""),u("all"),f("all"),p("all"),v("all"),y("all"),b("all")},children:"Réinitialiser tous"})]})]})}),ee.jsx("div",{className:"grid gap-4",children:B.map(e=>{const t=i.find(t=>t.id===e.template_id),r=e.nombre_destinataires>0?Math.round((e.nombre_envoyes-e.nombre_echecs)/e.nombre_destinataires*100):0;return ee.jsx(vE,{className:"hover:shadow-md transition-all duration-200",children:ee.jsx(bE,{className:"p-6",children:ee.jsxs("div",{className:"flex justify-between items-start",children:[ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[ee.jsx("h3",{className:"text-lg font-semibold",children:e.nom_campagne}),ee.jsx(D7,{className:U(e),children:W(e)})]}),ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[ee.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.nombre_destinataires}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Destinataires"})]}),ee.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.nombre_envoyes}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Envoyés"})]}),ee.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.nombre_echecs}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Échecs"})]}),ee.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[ee.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r,"%"]}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Succès"})]})]}),e.nombre_destinataires>0&&ee.jsxs("div",{className:"mb-4",children:[ee.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[ee.jsx("span",{children:"Progression"}),ee.jsxs("span",{children:[e.nombre_envoyes,"/",e.nombre_destinataires]})]}),ee.jsx(q9,{value:e.nombre_envoyes/e.nombre_destinataires*100,className:"h-2"})]}),ee.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(Ey,{className:"h-4 w-4"}),new Date(e.created_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),t&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(sx,{className:"h-4 w-4"}),t.nom]}),e.commercial&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(Ax,{className:"h-4 w-4"}),e.commercial]})]})]}),ee.jsxs("div",{className:"flex gap-2",children:[ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{D(!0),_(e),e.id;const{data:t,error:r}=await Pv.from("envois_email").select("id, campagne_id, contact_id, projet_id, email_destinataire, sujet, contenu_html, contenu_texte, statut, date_envoi, date_ouverture, date_clic, created_at").eq("campagne_id",e.id).order("created_at",{ascending:!1});if(r)throw console.error("🔍 DEBUG: Error loading emails:",r),r;if(null==t||t.length,t&&t.length>0){const e=new Map,n=[...new Set(t.map(e=>e.projet_id).filter(Boolean))];if(n.length>0){const{data:r,error:a}=await Pv.from("projets").select("\n              projet_id,\n              statut,\n              commercial,\n              origine,\n              contact:contact_id (\n                identifiant,\n                prenom,\n                nom,\n                email\n              )\n            ").in("projet_id",n);a?console.error("🔍 DEBUG: Error loading projects:",a):(null==r||r.length,null==r||r.forEach(n=>{const r=t.filter(e=>e.projet_id===n.projet_id);e.set(n.projet_id,{project:n,emails:r})}))}const r=Array.from(e.values()).map(({project:e,emails:t})=>({project:e,emails:t,emailCount:t.length,sentCount:t.filter(e=>"envoye"===e.statut).length,openedCount:t.filter(e=>"ouvert"===e.statut).length,clickedCount:t.filter(e=>"clique"===e.statut).length,errorCount:t.filter(e=>"echec"===e.statut).length}));r.length,R(r),A(!0)}else n({title:"Aucun email trouvé",description:"Cette campagne ne contient aucun email.",variant:"destructive"})}catch(t){console.error("🔍 DEBUG: Error in loadProjectEmailHistory:",t),n({title:"Erreur",description:"Impossible de charger l'historique des emails par projet",variant:"destructive"})}finally{D(!1)}})(e),disabled:M,className:"gap-2",children:[ee.jsx(dx,{className:"h-4 w-4"}),"Emails par projet"]}),ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{P(!0),_(e),e.id;const{data:t,error:r}=await Pv.from("envois_email").select("id, contact_id, destinataire").eq("campagne_id",e.id).limit(1);if(r)throw console.error("🔍 DEBUG: Error checking envois_email table:",r),r;const{data:a,error:i}=await Pv.from("envois_email").select("*").eq("campagne_id",e.id).order("created_at",{ascending:!1});if(i)throw console.error("🔍 DEBUG: Main query error:",i),console.error("🔍 DEBUG: Error code:",i.code),console.error("🔍 DEBUG: Error message:",i.message),console.error("🔍 DEBUG: Error details:",i.details),console.error("🔍 DEBUG: Error hint:",i.hint),i;if(null==a||a.length,null==N||N.nombre_destinataires,null==N||N.nombre_envoyes,null==N||N.nombre_echecs,null==a||a.length,!N||!(N.nombre_envoyes>0||N.nombre_echecs>0)||a&&0!==a.length||(console.error("🚨 CRITICAL: TRACKING INCONSISTENCY DETECTED!"),console.error("🚨 CRITICAL: Campaign indicates emails were sent but no individual records exist"),console.error("🚨 CRITICAL: This suggests a bug in the email sending system"),n({title:"⚠️ Problème de suivi détecté",description:"La campagne indique des envois mais aucun détail individuel n'est enregistré. Exécutez le script SQL de correction.",variant:"destructive"})),null==a||a.length,a&&a.length>0){const e=a.map(e=>e.contact_id).filter(e=>null!=e),t=a.map(e=>e.projet_id).filter(e=>null!=e);let n=null;if(e.length>0){const{data:t,error:r}=await Pv.from("contact").select("identifiant, prenom, nom, email").in("identifiant",e);r?console.error("🔍 DEBUG: Contact fetch error:",r):(n=t,null==n||n.length)}let r=null;if(t.length>0){const{data:e,error:n}=await Pv.from("projets").select("\n              projet_id,\n              contact_id,\n              statut,\n              commercial,\n              origine,\n              contact:contact_id (\n                identifiant,\n                prenom,\n                nom,\n                email\n              )\n            ").in("projet_id",t);n?console.error("🔍 DEBUG: Project fetch error:",n):(r=e,null==r||r.length)}const i=a.map(e=>({...e,contact:(null==n?void 0:n.find(t=>t.identifiant===e.contact_id))||null,projet:(null==r?void 0:r.find(t=>t.projet_id===e.projet_id))||null}));return i.length,S(i),void E(!0)}if(e.id,i)throw console.error("🔍 DEBUG: Main query error:",i),console.error("🔍 DEBUG: Error code:",i.code),console.error("🔍 DEBUG: Error message:",i.message),console.error("🔍 DEBUG: Error details:",i.details),console.error("🔍 DEBUG: Error hint:",i.hint),i;null==a||a.length,null==a||a[0],S(a||[]),E(!0)}catch(t){console.error("🔍 DEBUG: Final error in loadCampaignDetails:",t),console.error("🔍 DEBUG: Campaign ID that failed:",e.id),console.error("🔍 DEBUG: Campaign name:",e.nom_campagne),n({title:"Erreur",description:"Impossible de charger les détails de la campagne",variant:"destructive"})}finally{P(!1)}})(e),disabled:C,className:"gap-2",children:[ee.jsx(Hy,{className:"h-4 w-4"}),"Détails"]})]})]})})},e.id)})}),0===B.length&&ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-12 text-center",children:[ee.jsx(sx,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),ee.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucune campagne trouvée"}),ee.jsx("p",{className:"text-muted-foreground",children:"Aucun envoi groupé ne correspond à vos critères de recherche."})]})}),ee.jsx(w9,{open:O,onOpenChange:E,children:ee.jsxs(k9,{className:"max-w-7xl max-h-[90vh] overflow-y-auto",children:[ee.jsx(S9,{children:ee.jsxs(O9,{className:"flex items-center gap-2",children:[ee.jsx(Cy,{className:"h-5 w-5"}),"Détails de la campagne : ",null==N?void 0:N.nom_campagne]})}),N&&ee.jsxs(fE,{defaultValue:"overview",className:"w-full",children:[ee.jsxs(hE,{className:"grid w-full grid-cols-4",children:[ee.jsx(pE,{value:"overview",children:"Vue d'ensemble"}),ee.jsxs(pE,{value:"projects",children:["Projets (",[...new Set(k.map(e=>e.projet_id).filter(Boolean))].length,")"]}),ee.jsxs(pE,{value:"emails",children:["Emails (",k.length,")"]}),ee.jsx(pE,{value:"analytics",children:"Analytics"})]}),ee.jsxs(mE,{value:"overview",className:"space-y-6 mt-6",children:[ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-4 text-center",children:[ee.jsx(Ax,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),ee.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.nombre_destinataires}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Destinataires"})]})}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-4 text-center",children:[ee.jsx(Sx,{className:"h-8 w-8 text-indigo-600 mx-auto mb-2"}),ee.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:[...new Set(k.map(e=>e.projet_id).filter(Boolean))].length}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Projets"})]})}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-4 text-center",children:[ee.jsx(Ly,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),ee.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.nombre_envoyes}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Envoyés"})]})}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-4 text-center",children:[ee.jsx(zy,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),ee.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.nombre_echecs}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Échecs"})]})}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-4 text-center",children:[ee.jsx(Cx,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),ee.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[N.nombre_destinataires>0?Math.round((N.nombre_envoyes-N.nombre_echecs)/N.nombre_destinataires*100):0,"%"]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Taux Succès"})]})})]}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center gap-2",children:[ee.jsx(Cy,{className:"h-5 w-5"}),"Répartition des statuts d'email"]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{status:"envoye",label:"Envoyés",color:"bg-green-500",count:k.filter(e=>"envoye"===e.statut).length},{status:"ouvert",label:"Ouverts",color:"bg-blue-500",count:k.filter(e=>"ouvert"===e.statut).length},{status:"clique",label:"Clics",color:"bg-purple-500",count:k.filter(e=>"clique"===e.statut).length},{status:"echec",label:"Échecs",color:"bg-red-500",count:k.filter(e=>"echec"===e.statut).length}].map(({status:e,label:t,color:n,count:r})=>{const a=k.length>0?r/k.length*100:0;return ee.jsxs("div",{className:"text-center",children:[ee.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${n} text-white font-bold text-lg mb-2`,children:r}),ee.jsx("div",{className:"font-medium",children:t}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.toFixed(1),"%"]})]},e)})})})]}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Informations de la campagne"})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-medium mb-3",children:"Paramètres"}),ee.jsxs("div",{className:"space-y-2 text-sm",children:[ee.jsxs("div",{children:[ee.jsx("strong",{children:"Créée le :"})," ",new Date(N.created_at).toLocaleString("fr-FR")]}),ee.jsxs("div",{children:[ee.jsx("strong",{children:"Modifiée le :"})," ",new Date(N.updated_at).toLocaleString("fr-FR")]}),N.commercial&&ee.jsxs("div",{children:[ee.jsx("strong",{children:"Commercial :"})," ",N.commercial]}),N.statut_cible&&ee.jsxs("div",{children:[ee.jsx("strong",{children:"Statut ciblé :"})," ",N.statut_cible]})]})]}),ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-medium mb-3",children:"Template utilisé"}),ee.jsx("div",{className:"text-sm",children:i.find(e=>e.id===N.template_id)?ee.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[ee.jsx("div",{children:ee.jsx("strong",{children:null==(e=i.find(e=>e.id===N.template_id))?void 0:e.nom})}),ee.jsx("div",{className:"text-muted-foreground mt-1",children:null==(t=i.find(e=>e.id===N.template_id))?void 0:t.sujet})]}):ee.jsx("div",{className:"text-muted-foreground",children:"Template personnalisé ou supprimé"})})]})]})})]})]}),ee.jsx(mE,{value:"projects",className:"space-y-4 mt-6",children:ee.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-3",children:[[...new Set(k.filter(e=>e.projet).map(e=>e.projet_id))].map(e=>{var t,n,r,a;const i=null==(t=k.find(t=>t.projet_id===e))?void 0:t.projet,o=k.filter(t=>t.projet_id===e);return i?ee.jsx(vE,{className:"border-l-4 border-l-blue-500",children:ee.jsx(bE,{className:"p-4",children:ee.jsxs("div",{className:"space-y-3",children:[ee.jsx("div",{className:"flex justify-between items-start",children:ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[ee.jsxs("div",{className:"font-medium text-lg",children:[null==(n=i.contact)?void 0:n.prenom," ",null==(r=i.contact)?void 0:r.nom]}),ee.jsxs(D7,{variant:"outline",children:["Projet #",i.projet_id]}),ee.jsx(D7,{className:U({statut:i.statut}),children:i.statut})]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:null==(a=i.contact)?void 0:a.email})]})}),ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[ee.jsxs("div",{className:"text-sm",children:[ee.jsx("span",{className:"font-medium",children:"Commercial:"})," ",i.commercial]}),ee.jsxs("div",{className:"text-sm",children:[ee.jsx("span",{className:"font-medium",children:"Origine:"})," ",i.origine]}),ee.jsxs("div",{className:"text-sm",children:[ee.jsx("span",{className:"font-medium",children:"Emails dans campagne:"})," ",o.length]})]}),ee.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[ee.jsx("div",{className:"text-sm font-medium mb-2",children:"📧 Résumé des envois:"}),ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[ee.jsxs("div",{className:"text-center p-2 bg-green-100 rounded",children:[ee.jsx("div",{className:"font-medium text-green-800",children:o.filter(e=>"envoye"===e.statut).length}),ee.jsx("div",{className:"text-green-600",children:"Envoyés"})]}),ee.jsxs("div",{className:"text-center p-2 bg-blue-100 rounded",children:[ee.jsx("div",{className:"font-medium text-blue-800",children:o.filter(e=>"ouvert"===e.statut).length}),ee.jsx("div",{className:"text-blue-600",children:"Ouverts"})]}),ee.jsxs("div",{className:"text-center p-2 bg-purple-100 rounded",children:[ee.jsx("div",{className:"font-medium text-purple-800",children:o.filter(e=>"clique"===e.statut).length}),ee.jsx("div",{className:"text-purple-600",children:"Clics"})]}),ee.jsxs("div",{className:"text-center p-2 bg-red-100 rounded",children:[ee.jsx("div",{className:"font-medium text-red-800",children:o.filter(e=>"echec"===e.statut).length}),ee.jsx("div",{className:"text-red-600",children:"Échecs"})]})]})]})]})})},e):null}),0===[...new Set(k.map(e=>e.projet_id).filter(Boolean))].length&&ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-8 text-center",children:[ee.jsx(Sx,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),ee.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun projet trouvé"}),ee.jsx("p",{className:"text-muted-foreground",children:"Les emails de cette campagne ne sont pas liés à des projets spécifiques."})]})})]})}),ee.jsx(mE,{value:"emails",className:"space-y-4 mt-6",children:ee.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3",children:k.map(e=>{var t,n;return ee.jsx(vE,{className:"border-l-4 border-l-gray-200",children:ee.jsx(bE,{className:"p-4",children:ee.jsxs("div",{className:"space-y-3",children:[ee.jsxs("div",{className:"flex justify-between items-start",children:[ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[ee.jsxs("div",{className:"font-medium text-lg",children:[null==(t=e.contact)?void 0:t.prenom," ",null==(n=e.contact)?void 0:n.nom]}),ee.jsx(D7,{className:V(e.statut),children:e.statut})]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:e.email_destinataire})]}),ee.jsx("div",{className:"text-right text-sm text-muted-foreground",children:e.date_envoi&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(By,{className:"h-3 w-3"}),new Date(e.date_envoi).toLocaleString("fr-FR")]})})]}),e.projet&&ee.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[ee.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ee.jsx(Sx,{className:"h-4 w-4 text-blue-600"}),ee.jsxs("span",{className:"font-medium text-blue-900",children:["Projet #",e.projet.projet_id]}),ee.jsx(D7,{variant:"outline",className:"text-xs",children:e.projet.statut})]}),ee.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-blue-800",children:[ee.jsxs("div",{children:[ee.jsx("span",{className:"font-medium",children:"Commercial:"})," ",e.projet.commercial]}),ee.jsxs("div",{children:[ee.jsx("span",{className:"font-medium",children:"Origine:"})," ",e.projet.origine]})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx("div",{className:"font-medium text-sm",children:"📧 Email envoyé:"}),ee.jsxs("div",{className:"bg-gray-50 p-3 rounded border-l-2 border-gray-300",children:[ee.jsx("div",{className:"font-medium text-sm mb-2",children:e.sujet}),e.contenu_html?ee.jsx("div",{className:"text-sm prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:e.contenu_html}}):e.contenu_texte?ee.jsx("div",{className:"text-sm whitespace-pre-wrap",children:e.contenu_texte}):ee.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Contenu non disponible"})]})]}),e.erreur_message&&ee.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[ee.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[ee.jsx(Ry,{className:"h-4 w-4"}),ee.jsx("span",{className:"font-medium text-sm",children:"Erreur d'envoi:"})]}),ee.jsx("div",{className:"text-sm text-red-700 mt-1",children:e.erreur_message})]}),(e.date_ouverture||e.date_clic)&&ee.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[e.date_ouverture&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(Hy,{className:"h-3 w-3"}),"Ouvert: ",new Date(e.date_ouverture).toLocaleString("fr-FR")]}),e.date_clic&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(sx,{className:"h-3 w-3"}),"Clic: ",new Date(e.date_clic).toLocaleString("fr-FR")]})]})]})})},e.id)})})}),ee.jsx(mE,{value:"analytics",className:"space-y-6 mt-6",children:ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center gap-2",children:[ee.jsx(Py,{className:"h-5 w-5"}),"Répartition des statuts"]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-3",children:[{status:"envoye",label:"Envoyés avec succès",color:"bg-green-500"},{status:"echec",label:"Échecs",color:"bg-red-500"},{status:"ouvert",label:"Ouvertures",color:"bg-blue-500"},{status:"clique",label:"Clics",color:"bg-purple-500"}].map(({status:e,label:t,color:n})=>{const r=k.filter(t=>t.statut===e).length,a=k.length>0?r/k.length*100:0;return ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("div",{className:`w-3 h-3 rounded-full ${n}`}),ee.jsx("span",{className:"text-sm",children:t})]}),ee.jsxs("div",{className:"text-sm font-medium",children:[r," (",a.toFixed(1),"%)"]})]},e)})})})]}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Timeline d'envoi"})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[ee.jsxs("div",{children:[ee.jsx("strong",{children:"Démarrage :"})," ",new Date(N.created_at).toLocaleString("fr-FR")]}),ee.jsxs("div",{children:[ee.jsx("strong",{children:"Dernière mise à jour :"})," ",new Date(N.updated_at).toLocaleString("fr-FR")]}),ee.jsxs("div",{children:[ee.jsx("strong",{children:"Durée totale :"})," ",Math.round((new Date(N.updated_at).getTime()-new Date(N.created_at).getTime())/6e4)," minutes"]})]})})]})]})})]})]})}),ee.jsx(w9,{open:T,onOpenChange:A,children:ee.jsxs(k9,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[ee.jsx(S9,{children:ee.jsxs(O9,{className:"flex items-center gap-2",children:[ee.jsx(ex,{className:"h-5 w-5"}),"Historique des emails par projet - Campagne : ",null==N?void 0:N.nom_campagne]})}),I.length>0?ee.jsx("div",{className:"space-y-6 mt-6",children:I.map((e,t)=>{var r,a,i;return ee.jsxs(vE,{className:"border-l-4 border-l-blue-500",children:[ee.jsx(gE,{children:ee.jsxs("div",{className:"flex justify-between items-start",children:[ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[ee.jsxs("div",{className:"font-medium text-lg",children:[null==(r=e.project.contact)?void 0:r.prenom," ",null==(a=e.project.contact)?void 0:a.nom]}),ee.jsxs(D7,{variant:"outline",children:["Projet #",e.project.projet_id]}),ee.jsx(D7,{className:U({statut:e.project.statut}),children:e.project.statut})]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:null==(i=e.project.contact)?void 0:i.email})]}),ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>{var t;F(e.project),(async()=>{try{const e=[{date:(new Date).toISOString(),event:"delivered",subject:"Test email",campaign:"Test Campaign"},{date:new Date(Date.now()-864e5).toISOString(),event:"opened",subject:"Welcome email",campaign:"Welcome Campaign"}];return e.length,e}catch(e){throw console.error("🔍 DEBUG: Error in Brevo history API:",e),e}})(null==(t=e.project.contact)||t.email).then(e=>{n({title:"Historique Brevo chargé",description:`${e.length} événements trouvés`})}).catch(e=>{console.error("Error loading Brevo history:",e),n({title:"Erreur",description:"Impossible de charger l'historique Brevo",variant:"destructive"})})},children:[ee.jsx(ex,{className:"h-4 w-4 mr-2"}),"Historique Brevo"]})]})}),ee.jsxs(bE,{children:[ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[ee.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.emailCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Total emails"})]}),ee.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.sentCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Envoyés"})]}),ee.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.openedCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Ouverts"})]}),ee.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.clickedCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Clics"})]}),ee.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.errorCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Erreurs"})]})]}),ee.jsxs("div",{className:"space-y-3",children:[ee.jsx("h4",{className:"font-medium",children:"Détails des emails :"}),ee.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3",children:e.emails.map((e,t)=>ee.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[ee.jsxs("div",{className:"flex justify-between items-start mb-3",children:[ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ee.jsx(D7,{className:V(e.statut),children:e.statut}),ee.jsx("span",{className:"text-sm font-medium",children:e.sujet})]}),ee.jsxs("div",{className:"text-xs text-muted-foreground",children:["Destinataire: ",e.destinataire]})]}),ee.jsx("div",{className:"text-xs text-muted-foreground text-right",children:e.date_envoi&&new Date(e.date_envoi).toLocaleString("fr-FR")})]}),(e.contenu_html||e.contenu_texte)&&ee.jsxs("div",{className:"mb-3",children:[ee.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Contenu de l'email:"}),ee.jsx("div",{className:"max-h-32 overflow-y-auto bg-white p-3 rounded border text-sm",children:e.contenu_html?ee.jsx("div",{dangerouslySetInnerHTML:{__html:e.contenu_html}}):ee.jsx("div",{className:"whitespace-pre-wrap",children:e.contenu_texte})})]}),(e.date_ouverture||e.date_clic)&&ee.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-muted-foreground",children:[e.date_ouverture&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(Hy,{className:"h-3 w-3"}),"Ouvert: ",new Date(e.date_ouverture).toLocaleString("fr-FR")]}),e.date_clic&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(sx,{className:"h-3 w-3"}),"Clic: ",new Date(e.date_clic).toLocaleString("fr-FR")]})]})]},t))})]})]})]},t)})}):ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-8 text-center",children:[ee.jsx(ex,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),ee.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun historique trouvé"}),ee.jsx("p",{className:"text-muted-foreground",children:"Cette campagne n'a pas d'historique d'emails par projet."})]})})]})})]})}function H9(){const{user:e,loading:t}=Av(),n=ef(),[r,a]=q.useState([]),[i,o]=q.useState([]);if(q.useEffect(()=>{e&&s()},[e]),t)return null;if(!e)return n("/login"),null;const s=async()=>{try{const{data:e}=await Pv.from("contact").select("*").order("created_at",{ascending:!1});o(e||[]),a([])}catch(e){console.error("Error loading campaigns data:",e)}};return ee.jsx(zb,{title:"Gestion des Campagnes",children:ee.jsx(V9,{})})}q9.displayName=U9.displayName;var K9=q.forwardRef((e,t)=>ee.jsx(tg.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));K9.displayName="Label";var G9=K9;const Y9=py("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),X9=q.forwardRef(({className:e,...t},n)=>ee.jsx(G9,{ref:n,className:Ob(Y9(),e),...t}));X9.displayName=G9.displayName;const J9=q.forwardRef(({className:e,...t},n)=>ee.jsx("textarea",{className:Ob("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));J9.displayName="Textarea";var Q9="Checkbox",[Z9,eee]=Kv(Q9),[tee,nee]=Z9(Q9);function ree(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:s,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=e,[f,h]=bg({prop:n,defaultProp:a??!1,onChange:l,caller:Q9}),[p,m]=q.useState(null),[v,g]=q.useState(null),y=q.useRef(!1),x=!p||(!!o||!!p.closest("form")),b={checked:f,disabled:i,setChecked:h,control:p,setControl:m,name:s,form:o,value:u,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:!fee(a)&&a,isFormControl:x,bubbleInput:v,setBubbleInput:g};return ee.jsx(tee,{scope:t,...b,children:dee(d)?d(b):r})}var aee="CheckboxTrigger",iee=q.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:i,value:o,disabled:s,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:p}=nee(aee,e),m=Hv(a,u),v=q.useRef(l);return q.useEffect(()=>{const e=null==i?void 0:i.form;if(e){const t=()=>d(v.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,d]),ee.jsx(tg.button,{type:"button",role:"checkbox","aria-checked":fee(l)?"mixed":l,"aria-required":c,"data-state":hee(l),"data-disabled":s?"":void 0,disabled:s,value:o,...r,ref:m,onKeyDown:Wv(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:Wv(n,e=>{d(e=>!!fee(e)||!e),p&&h&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});iee.displayName=aee;var oee=q.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:s,value:l,onCheckedChange:c,form:u,...d}=e;return ee.jsx(ree,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:s,required:o,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:e})=>ee.jsxs(ee.Fragment,{children:[ee.jsx(iee,{...d,ref:t,__scopeCheckbox:n}),e&&ee.jsx(uee,{__scopeCheckbox:n})]})})});oee.displayName=Q9;var see="CheckboxIndicator",lee=q.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=nee(see,n);return ee.jsx(gg,{present:r||fee(i.checked)||!0===i.checked,children:ee.jsx(tg.span,{"data-state":hee(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});lee.displayName=see;var cee="CheckboxBubbleInput",uee=q.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:s,disabled:l,name:c,value:u,form:d,bubbleInput:f,setBubbleInput:h}=nee(cee,e),p=Hv(n,h),m=wE(i),v=Lk(r);q.useEffect(()=>{const e=f;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,r=!a.current;if(m!==i&&n){const t=new Event("click",{bubbles:r});e.indeterminate=fee(i),n.call(e,!fee(i)&&i),e.dispatchEvent(t)}},[f,m,i,a]);const g=q.useRef(!fee(i)&&i);return ee.jsx(tg.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:s,disabled:l,name:c,value:u,form:d,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function dee(e){return"function"==typeof e}function fee(e){return"indeterminate"===e}function hee(e){return fee(e)?"indeterminate":e?"checked":"unchecked"}uee.displayName=cee;const pee=q.forwardRef(({className:e,...t},n)=>ee.jsx(oee,{ref:n,className:Ob("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:ee.jsx(lee,{className:Ob("flex items-center justify-center text-current"),children:ee.jsx(Ty,{className:"h-4 w-4"})})}));function mee(){var e,t;const n=ef(),{toast:r}=Uv(),[a,i]=q.useState([]),[o,s]=q.useState([]),[l,c]=q.useState(""),[u,d]=q.useState("all"),[f,h]=q.useState("all"),[p,m]=q.useState([]),[v,g]=q.useState([]),[y,x]=q.useState(new Set),[b,j]=q.useState(!0),[w,N]=q.useState(1),[_,k]=q.useState(20),[S,O]=q.useState("all"),[E,C]=q.useState("all"),[P,T]=q.useState("default"),[A,M]=q.useState(!1),[D,I]=q.useState(!1),[R,L]=q.useState(!1),[F,z]=q.useState(!1),[B,$]=q.useState(!1),[U,W]=q.useState(!1),[V,H]=q.useState([]),[K,G]=q.useState(null),[Y,X]=q.useState({totalSent:0,delivered:0,opened:0,clicked:0,bounced:0,openRate:0,clickRate:0,bounceRate:0}),[J,Q]=q.useState(!0),[Z,te]=q.useState(new Map),[ne,re]=q.useState(new Map),[ae,ie]=q.useState({templateId:"",subject:"",content:"",useCustomContent:!1}),[oe,se]=q.useState({dateProposee:"",message:""}),le=async()=>{try{const{data:e,error:t}=await Pv.from("envois_email").select("contact_id").not("contact_id","is",null);if(t)throw t;const n=new Map;null==e||e.forEach(e=>{e.contact_id&&n.set(e.contact_id,(n.get(e.contact_id)||0)+1)}),te(n)}catch(e){console.error("Error loading contact email counts:",e),te(new Map)}};q.useEffect(()=>{(async()=>{await ce(),await ue(),await de(),await fe(),await le(),await(async()=>{try{const{data:e,error:t}=await Pv.from("envois_email").select("projet_id, contact_id, statut, date_envoi, date_ouverture, date_clic, campagne_id").not("projet_id","is",null).order("date_envoi",{ascending:!1});if(t)throw t;null==e||e.length;const n=new Map,r=new Map;null==e||e.forEach(e=>{e.projet_id&&(r.has(e.projet_id)||r.set(e.projet_id,[]),r.get(e.projet_id).push(e))}),r.size,r.forEach((e,t)=>{var r,a;const i=e.length,o=e.filter(e=>"delivre"===e.statut||"envoye"===e.statut).length,s=e.filter(e=>e.date_ouverture).length,l=e.filter(e=>e.date_clic).length,c=i>0?s/i*100:0,u=i>0?l/i*100:0;let d=0;d+=o/Math.max(i,1)*30,d+=c/100*40,d+=u/100*30;const f=(null==(r=e[0])?void 0:r.date_envoi)?new Date(e[0].date_envoi):null;let h=1;if(f){const e=(Date.now()-f.getTime())/864e5;h=Math.max(.1,1-e/90)}const p=null==(a=e[0])?void 0:a.contact_id,m=p&&Z.get(p)||0,v=Math.min(2*m,20),g=d*h,y=Math.min(100,g+v);let x,b="";y>=70?(x="hot",b="Priorité haute - Excellent engagement, suivre activement"):y>=50?(x="warm",b="Engagement moyen - Maintenir le contact régulier"):y>=25?(x="cold",b="Engagement faible - Relancer avec campagne ciblée"):(x="lost",b="Risque d'abandon - Évaluer si projet toujours actif"),n.set(t,{score:Math.round(y),status:x,engagement:Math.round(d),lastContact:f,recommendation:b,emailStats:{total:i,delivered:o,opened:s,clicked:l,openRate:Math.round(100*c)/100,clickRate:Math.round(100*u)/100}})}),n.size,re(n)}catch(e){console.error("Error calculating project scores:",e),re(new Map)}})()})()},[]);const ce=async()=>{try{j(!0);const{data:e,error:t}=await Pv.from("projets").select("\n          *,\n          contact:contact_id (\n            identifiant,\n            prenom,\n            nom,\n            email,\n            civilite\n          )\n        ").order("created_at",{ascending:!1});if(t)throw t;let n=e||[],a=0,o=0;n=n.filter(e=>{let t=!1;const n=[];return e.projet_id||(n.push("ID projet manquant"),t=!0),e.contact?e.contact.email||(n.push("Email contact manquant"),a++):(n.push("Contact manquant"),t=!0),e.contact_id&&e.contact&&e.contact_id!==e.contact.identifiant&&(n.push("Incohérence contact_id"),o++),t?(e.projet_id,n.join(", "),o++,!1):(e.contact.email||(e.projet_id,e.contact.prenom,e.contact.nom),!0)}),null==e||e.length,n.length,a>0&&r({title:"Informations sur les projets",description:`${a} projets sans email affichés - vérifiez manuellement si nécessaire`,variant:"default"}),i(n)}catch(e){console.error("Error loading projects:",e),r({title:"Erreur",description:"Impossible de charger les projets",variant:"destructive"})}finally{j(!1)}},ue=async()=>{try{const{data:e,error:t}=await Pv.from("projets").select("statut, commercial").not("statut","is",null).not("commercial","is",null);if(t)throw t;const n=[...new Set(null==e?void 0:e.map(e=>e.statut).filter(Boolean))],r=[...new Set(null==e?void 0:e.map(e=>e.commercial).filter(Boolean))];m(n.sort()),g(r.sort())}catch(e){console.error("Error loading filters:",e)}},de=async()=>{try{const{data:e,error:t}=await Pv.from("email_templates").select("id, nom, sujet, contenu_html, contenu_texte").eq("statut","active").order("nom");if(t)throw t;s(e||[])}catch(e){console.error("Error loading templates:",e)}},fe=async()=>{try{Q(!0);const{data:e,error:t}=await Pv.from("envois_email").select("statut, date_envoi, date_ouverture, date_clic, projet_id").order("created_at",{ascending:!1});if(t)throw t;const n=(null==e?void 0:e.filter(e=>e.projet_id))||[],r=n.length,a=n.filter(e=>"delivre"===e.statut||"envoye"===e.statut).length,i=n.filter(e=>e.date_ouverture).length,o=n.filter(e=>e.date_clic).length,s=n.filter(e=>"echec"===e.statut||"bounce"===e.statut).length,l=r>0?Math.round(i/r*100*100)/100:0,c=r>0?Math.round(o/r*100*100)/100:0,u=r>0?Math.round(s/r*100*100)/100:0;null==e||e.length,n.length,X({totalSent:r,delivered:a,opened:i,clicked:o,bounced:s,openRate:l,clickRate:c,bounceRate:u})}catch(e){console.error("Error loading email stats:",e),X({totalSent:0,delivered:0,opened:0,clicked:0,bounced:0,openRate:0,clickRate:0,bounceRate:0})}finally{Q(!1)}},he=q.useMemo(()=>{let e=a.filter(e=>{var t,n,r,a,i,o,s,c,d;const h=!l||(null==(n=null==(t=e.contact)?void 0:t.prenom)?void 0:n.toLowerCase().includes(l.toLowerCase()))||(null==(a=null==(r=e.contact)?void 0:r.nom)?void 0:a.toLowerCase().includes(l.toLowerCase()))||(null==(i=e.commercial)?void 0:i.toLowerCase().includes(l.toLowerCase()))||(null==(o=e.origine)?void 0:o.toLowerCase().includes(l.toLowerCase()))||e.projet_id.toString().includes(l.toLowerCase()),p="all"===u||(null==(s=e.statut)?void 0:s.toLowerCase().includes(u.toLowerCase())),m="all"===f||e.commercial===f,v="all"===S||"contacted"===S&&(null==(c=e.contact)?void 0:c.email)||"not_contacted"===S&&!(null==(d=e.contact)?void 0:d.email),g=(()=>{var t;if("all"===E)return!0;if(!(null==(t=e.contact)?void 0:t.identifiant))return"never"===E;const n=Z.get(e.contact.identifiant)||0;switch(E){case"never":return 0===n;case"1-2":return n>=1&&n<=2;case"3-5":return n>=3&&n<=5;case"5+":return n>=5;default:return!0}})();return h&&p&&m&&v&&g});return"default"!==P&&(e=[...e].sort((e,t)=>{const n=ne.get(e.projet_id),r=ne.get(t.projet_id);if(!n&&!r)return 0;if(!n)return 1;if(!r)return-1;switch(P){case"date_desc":return new Date(t.date_creation).getTime()-new Date(e.date_creation).getTime();case"date_asc":return new Date(e.date_creation).getTime()-new Date(t.date_creation).getTime();case"score_desc":return r.score-n.score;case"score_asc":return n.score-r.score;case"hot_first":{const e={hot:0,warm:1,cold:2,lost:3},t=e[n.status]??4,a=e[r.status]??4;return t!==a?t-a:r.score-n.score}case"engagement_desc":return r.engagement-n.engagement;case"last_contact":return n.lastContact||r.lastContact?n.lastContact?r.lastContact?r.lastContact.getTime()-n.lastContact.getTime():-1:1:0;default:return 0}})),e},[a,l,u,f,S,E,Z,P,ne]),pe=Math.ceil(he.length/_),me=(w-1)*_,ve=he.slice(me,me+_),ge=()=>ve.filter(e=>y.has(e.projet_id)).map(e=>{var t,n,r,a,i,o;return{projectId:e.projet_id,contactId:null==(t=e.contact)?void 0:t.identifiant,email:(null==(n=e.contact)?void 0:n.email)||"",prenom:(null==(r=e.contact)?void 0:r.prenom)||"",nom:(null==(a=e.contact)?void 0:a.nom)||"",civilite:(null==(i=e.contact)?void 0:i.civilite)||"",commercial:e.commercial||"",hasEmail:!!(null==(o=e.contact)?void 0:o.email)}}),ye=(e,t)=>e.replace(/{{nom_client}}/g,`${t.prenom} ${t.nom}`).replace(/{{prenom}}/g,t.prenom).replace(/{{nom}}/g,t.nom).replace(/{{nom_commercial}}/g,t.commercial).replace(/{{lien_rdv}}/g,t.lien_rdv||"#").replace(/{{infos_premunia}}/g,"\n        📞 Contactez-nous :\n        Téléphone : 01 23 45 67 89\n        Email : info@premunia.com\n        Disponible du lundi au vendredi, 9h-18h\n      "),xe=e=>{const t=[];return e.projectId||t.push(`Projet ID manquant pour ${e.email}`),e.contactId||t.push(`Contact ID manquant pour ${e.email}`),e.email&&e.email.includes("@")||t.push(`Email invalide: ${e.email}`),t},be=e=>{const t=null==e?void 0:e.toLowerCase();switch(!0){case(null==t?void 0:t.includes("ne repond pas"))||(null==t?void 0:t.includes("ne répond pas")):return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case null==t?void 0:t.includes("en cours"):return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case null==t?void 0:t.includes("devis envoyé"):return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case null==t?void 0:t.includes("contrat"):return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}};return b?ee.jsx("div",{className:"flex justify-center items-center p-12",children:ee.jsx(ax,{className:"h-8 w-8 animate-spin text-primary"})}):ee.jsxs("div",{className:"space-y-6",children:[ee.jsx("div",{className:"flex justify-between items-center",children:ee.jsxs("div",{children:[ee.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestion des Projets"}),ee.jsxs("p",{className:"text-muted-foreground mt-2",children:[he.length," projets • ",y.size," sélectionnés"]})]})}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4 mb-4",children:[ee.jsxs("div",{className:"relative",children:[ee.jsx(xx,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),ee.jsx(F7,{placeholder:"Rechercher...",value:l,onChange:e=>c(e.target.value),className:"pl-10"})]}),ee.jsxs(FC,{value:u,onValueChange:d,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Statut"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les statuts"}),ee.jsx(qC,{value:"ne repond pas",children:"Ne répond pas"}),ee.jsx(qC,{value:"en cours",children:"En cours"}),ee.jsx(qC,{value:"devis envoyé",children:"Devis envoyé"}),ee.jsx(qC,{value:"contrat",children:"Contrat signé"}),p.map(e=>ee.jsx(qC,{value:e,children:e},e))]})]}),ee.jsxs(FC,{value:f,onValueChange:h,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Commercial"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les commerciaux"}),v.map(e=>ee.jsx(qC,{value:e,children:e},e))]})]}),ee.jsxs(FC,{value:S,onValueChange:O,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Contact"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les contacts"}),ee.jsx(qC,{value:"contacted",children:"Contactés"}),ee.jsx(qC,{value:"not_contacted",children:"Non contactés"})]})]}),ee.jsxs(FC,{value:E,onValueChange:C,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Fréquence"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Toutes fréquences"}),ee.jsx(qC,{value:"never",children:"Jamais contacté"}),ee.jsx(qC,{value:"1-2",children:"1-2 fois"}),ee.jsx(qC,{value:"3-5",children:"3-5 fois"}),ee.jsx(qC,{value:"5+",children:"Plus de 5 fois"})]})]}),ee.jsxs(FC,{value:P,onValueChange:T,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Trier par"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"default",children:"Par défaut"}),ee.jsx(qC,{value:"score_desc",children:"🎯 Score ↓ (Haut → Bas)"}),ee.jsx(qC,{value:"score_asc",children:"🎯 Score ↑ (Bas → Haut)"}),ee.jsx(qC,{value:"hot_first",children:"🔥 Chaude → Froide"}),ee.jsx(qC,{value:"engagement_desc",children:"📈 Engagement ↓"}),ee.jsx(qC,{value:"last_contact",children:"🕒 Dernier contact"})]})]}),ee.jsx("div",{className:"flex gap-2",children:ee.jsxs(Lb,{variant:"outline",onClick:()=>{c(""),d("all"),h("all"),O("all"),C("all"),T("default"),N(1)},children:[ee.jsx(Yy,{className:"h-4 w-4 mr-2"}),"Réinitialiser"]})})]}),ee.jsx("div",{className:"flex items-center justify-between mt-4",children:ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("span",{className:"text-sm text-muted-foreground",children:"Éléments par page:"}),ee.jsxs(FC,{value:_.toString(),onValueChange:e=>{k(parseInt(e)),N(1)},children:[ee.jsx(BC,{className:"w-20",children:ee.jsx(zC,{})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"25",children:"25"}),ee.jsx(qC,{value:"50",children:"50"}),ee.jsx(qC,{value:"100",children:"100"}),ee.jsx(qC,{value:"200",children:"200"})]})]})]})})]})}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx("div",{className:"flex justify-between items-center",children:ee.jsxs(yE,{className:"flex items-center gap-2",children:[ee.jsx(sx,{className:"h-5 w-5"}),"Statistiques Email"]})})}),ee.jsxs(bE,{children:[ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[ee.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[ee.jsx("div",{className:"text-2xl font-bold text-blue-600",children:J?ee.jsx(ax,{className:"h-6 w-6 animate-spin mx-auto"}):Y.totalSent.toLocaleString()}),ee.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"Total envoyés"}),ee.jsx("div",{className:"text-xs text-blue-600",children:J?"Chargement...":"Tous les emails"})]}),ee.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[ee.jsx("div",{className:"text-2xl font-bold text-green-600",children:J?ee.jsx(ax,{className:"h-6 w-6 animate-spin mx-auto"}):Y.delivered.toLocaleString()}),ee.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Délivrés"}),ee.jsx("div",{className:"text-xs text-green-600",children:J?"Chargement...":`${Y.totalSent>0?Math.round(Y.delivered/Y.totalSent*100):0}% du total`})]}),ee.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[ee.jsx("div",{className:"text-2xl font-bold text-blue-600",children:J?ee.jsx(ax,{className:"h-6 w-6 animate-spin mx-auto"}):Y.opened.toLocaleString()}),ee.jsx("div",{className:"text-sm text-blue-700 mt-1",children:"Ouverts"}),ee.jsx("div",{className:"text-xs text-blue-600",children:J?"Chargement...":`${Y.openRate}% d'ouverture`})]}),ee.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg border border-purple-200",children:[ee.jsx("div",{className:"text-2xl font-bold text-purple-600",children:J?ee.jsx(ax,{className:"h-6 w-6 animate-spin mx-auto"}):Y.clicked.toLocaleString()}),ee.jsx("div",{className:"text-sm text-purple-700 mt-1",children:"Clics"}),ee.jsx("div",{className:"text-xs text-purple-600",children:J?"Chargement...":`${Y.clickRate}% de clics`})]}),ee.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[ee.jsx("div",{className:"text-2xl font-bold text-red-600",children:J?ee.jsx(ax,{className:"h-6 w-6 animate-spin mx-auto"}):Y.bounced.toLocaleString()}),ee.jsx("div",{className:"text-sm text-red-700 mt-1",children:"Rebonds"}),ee.jsx("div",{className:"text-xs text-red-600",children:J?"Chargement...":`${Y.bounceRate}% de rebonds`})]})]}),ee.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[ee.jsxs("div",{className:"flex items-center justify-between text-sm",children:[ee.jsx("span",{className:"text-muted-foreground",children:"Taux d'ouverture:"}),ee.jsx("span",{className:"font-medium",children:J?"--":`${Y.openRate}%`})]}),ee.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[ee.jsx("span",{className:"text-muted-foreground",children:"Taux de clic:"}),ee.jsx("span",{className:"font-medium",children:J?"--":`${Y.clickRate}%`})]}),ee.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[ee.jsx("span",{className:"text-muted-foreground",children:"Taux de rebond:"}),ee.jsx("span",{className:"font-medium",children:J?"--":`${Y.bounceRate}%`})]})]})]})]}),y.size>0&&ee.jsx(vE,{className:"border-primary/20 bg-primary/5",children:ee.jsx(bE,{className:"p-4",children:ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsxs("div",{className:"text-sm font-medium",children:[y.size," projet",y.size>1?"s":""," sélectionné",y.size>1?"s":""]}),ee.jsxs("div",{className:"flex gap-2",children:[(()=>{const e=ge().filter(e=>e.hasEmail),t=ge().length;return ee.jsxs(Lb,{onClick:()=>M(!0),className:"gap-2",disabled:0===e.length,title:e.length===t?`${e.length} projets avec email`:`${e.length}/${t} projets peuvent recevoir un email`,children:[ee.jsx(bx,{className:"h-4 w-4"}),"Envoyer Email Groupé (",e.length,")",t!==e.length&&ee.jsxs("span",{className:"text-xs opacity-70",children:["/",t]})]})})(),ee.jsxs(Lb,{variant:"outline",onClick:()=>I(!0),className:"gap-2",children:[ee.jsx(Oy,{className:"h-4 w-4"}),"Proposer RDV"]})]})]})})}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsx(yE,{children:"Projets"}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx(pee,{checked:y.size===ve.length&&ve.length>0,onCheckedChange:()=>{y.size===ve.length?x(new Set):x(new Set(ve.map(e=>e.projet_id)))}}),ee.jsx("span",{className:"text-sm text-muted-foreground",children:"Tout sélectionner"})]})]})}),ee.jsxs(bE,{children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 p-4 bg-muted/50 rounded-lg mb-4 font-medium text-sm",children:[ee.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",onClick:()=>{T("date_desc"===P?"date_asc":"date_asc"===P?"default":"date_desc")},children:[ee.jsx(Ey,{className:"h-4 w-4"}),"Date création","date_desc"===P&&ee.jsx(My,{className:"h-3 w-3"}),"date_asc"===P&&ee.jsx(Dy,{className:"h-3 w-3"})]}),ee.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",onClick:()=>{T("default"===P?"score_desc":"score_desc"===P?"score_asc":"default")},children:[ee.jsx(Tx,{className:"h-4 w-4"}),"Contact","score_desc"===P&&ee.jsx(My,{className:"h-3 w-3"}),"score_asc"===P&&ee.jsx(Dy,{className:"h-3 w-3"})]}),ee.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",onClick:()=>{T("hot_first"===P?"default":"hot_first")},children:[ee.jsx(Sx,{className:"h-4 w-4"}),"Statut & Score","hot_first"===P&&ee.jsx(My,{className:"h-3 w-3"})]}),ee.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",onClick:()=>{T("engagement_desc"===P?"default":"engagement_desc")},children:[ee.jsx(Tx,{className:"h-4 w-4"}),"Commercial","engagement_desc"===P&&ee.jsx(My,{className:"h-3 w-3"})]}),ee.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-primary",onClick:()=>{T("last_contact"===P?"default":"last_contact")},children:[ee.jsx(sx,{className:"h-4 w-4"}),"Métriques","last_contact"===P&&ee.jsx(My,{className:"h-3 w-3"})]}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx(Hy,{className:"h-4 w-4"}),"Actions"]})]}),ee.jsx("div",{className:"space-y-3",children:ve.map(e=>{var t,a,i,o;return ee.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[ee.jsx(pee,{checked:y.has(e.projet_id),onCheckedChange:()=>(e=>{const t=new Set(y);t.has(e)?t.delete(e):t.add(e),x(t)})(e.projet_id)}),ee.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-6 gap-4 items-center",children:[ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium",children:new Date(e.date_creation).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",e.projet_id]})]}),ee.jsxs("div",{children:[ee.jsxs("div",{className:"font-medium flex items-center gap-2",children:[null==(t=e.contact)?void 0:t.prenom," ",null==(a=e.contact)?void 0:a.nom,!(null==(i=e.contact)?void 0:i.email)&&ee.jsx(Px,{className:"h-4 w-4 text-orange-500",title:"Pas d'adresse email"})]}),ee.jsx("div",{className:"text-sm flex items-center gap-2",children:(null==(o=e.contact)?void 0:o.email)?ee.jsxs(ee.Fragment,{children:[ee.jsx(sx,{className:"h-3 w-3 text-green-600"}),ee.jsx("span",{className:"text-green-600",children:e.contact.email})]}):ee.jsxs("span",{className:"text-orange-500 flex items-center gap-1",children:[ee.jsx(Px,{className:"h-3 w-3"}),"Aucun email - vérifier manuellement"]})})]}),ee.jsxs("div",{className:"flex flex-col gap-1",children:[ee.jsx(D7,{className:be(e.statut),children:e.statut}),(()=>{const t=ne.get(e.projet_id);if(t){const e=e=>{switch(e){case"hot":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"warm":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"cold":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},n=e=>{switch(e){case"hot":return"🔥";case"warm":return"🌡️";case"cold":return"❄️";case"lost":return"💀";default:return"❓"}};return ee.jsxs(D7,{className:e(t.status),title:t.recommendation,children:[n(t.status)," ",t.status.toUpperCase()," (",t.score,")"]})}return null})()]}),ee.jsxs("div",{className:"text-sm",children:[ee.jsx(Tx,{className:"h-4 w-4 inline mr-1"}),e.commercial]}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:(()=>{const t=ne.get(e.projet_id);return t?ee.jsxs("div",{className:"space-y-1",children:[ee.jsxs("div",{children:["📧 ",t.emailStats.total," emails"]}),ee.jsxs("div",{children:["📈 ",t.emailStats.openRate,"% ouvert"]}),t.lastContact&&ee.jsxs("div",{className:"text-xs",children:["🕒 ",new Date(t.lastContact).toLocaleDateString("fr-FR")]})]}):ee.jsx("span",{className:"text-gray-400",children:"Aucune donnée"})})()}),ee.jsx("div",{className:"flex items-center gap-2",children:(()=>{const t=ne.get(e.projet_id),a=t&&("cold"===t.status||"lost"===t.status);return ee.jsxs(ee.Fragment,{children:[a&&ee.jsxs(Lb,{size:"sm",variant:"outline",onClick:()=>{r({title:"Action recommandée",description:t.recommendation,duration:5e3})},title:t.recommendation,className:"text-xs px-2 py-1 h-8",children:["cold"===t.status?ee.jsx(Px,{className:"h-3 w-3"}):ee.jsx(Cx,{className:"h-3 w-3"}),"Action"]}),ee.jsx(Lb,{size:"sm",variant:"ghost",onClick:()=>(async e=>{try{W(!0),G(e),e.projet_id;const{data:t,error:n}=await Pv.from("envois_email").select("id, campagne_id, contact_id, projet_id, destinataire, sujet, contenu_html, contenu_texte, statut, date_envoi, date_ouverture, date_clic, created_at").eq("projet_id",e.projet_id).order("created_at",{ascending:!1});if(n)throw console.error("🔍 DEBUG: Error loading emails:",n),n;if(null==t||t.length,t&&t.length>0){const e=new Map,n=[...new Set(t.map(e=>e.campagne_id).filter(Boolean))];if(n.length>0){const{data:r,error:a}=await Pv.from("envois_groupes").select("id, nom_campagne, created_at, commercial").in("id",n);a?console.error("🔍 DEBUG: Error loading campaigns:",a):(null==r||r.length,null==r||r.forEach(n=>{const r=t.filter(e=>e.campagne_id===n.id);e.set(n.id,{campaign:n,emails:r})}))}const r=Array.from(e.values()).map(({campaign:e,emails:t})=>({campaign:e,emails:t,emailCount:t.length,sentCount:t.filter(e=>"envoye"===e.statut).length,openedCount:t.filter(e=>"ouvert"===e.statut).length,clickedCount:t.filter(e=>"clique"===e.statut).length,errorCount:t.filter(e=>"echec"===e.statut).length}));r.length,H(r),$(!0)}else r({title:"Aucun email trouvé",description:"Ce projet n'a pas d'historique d'emails.",variant:"destructive"})}catch(t){console.error("🔍 DEBUG: Error in loadProjectEmailHistory:",t),r({title:"Erreur",description:"Impossible de charger l'historique des emails",variant:"destructive"})}finally{W(!1)}})(e),title:"Voir les emails par projet",children:ee.jsx(dx,{className:"h-4 w-4"})}),ee.jsx(Lb,{size:"sm",variant:"ghost",onClick:()=>n(`/projects/${e.projet_id}`),children:ee.jsx(Hy,{className:"h-4 w-4"})})]})})()})]})]},e.projet_id)})}),pe>1&&ee.jsxs("div",{className:"flex justify-between items-center mt-6",children:[ee.jsxs("div",{className:"text-sm text-muted-foreground",children:[me+1,"-",Math.min(me+_,he.length)," sur ",he.length]}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx(Lb,{variant:"outline",size:"sm",onClick:()=>N(w-1),disabled:1===w,children:ee.jsx(My,{className:"h-4 w-4"})}),ee.jsxs("span",{className:"text-sm",children:["Page ",w," sur ",pe]}),ee.jsx(Lb,{variant:"outline",size:"sm",onClick:()=>N(w+1),disabled:w===pe,children:ee.jsx(Dy,{className:"h-4 w-4"})})]})]})]})]}),ee.jsx(w9,{open:A,onOpenChange:M,children:ee.jsxs(k9,{className:"max-w-4xl",children:[ee.jsxs(S9,{children:[ee.jsxs(O9,{children:["Envoi Email Groupé - ",ge().length," destinataires"]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Envoyer des emails personnalisés à plusieurs projets sélectionnés"})]}),ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{children:"Template existant"}),ee.jsxs(FC,{value:ae.templateId,onValueChange:e=>{const t=o.find(t=>t.id===parseInt(e));t&&ie({templateId:e,subject:t.sujet,content:t.contenu_html,useCustomContent:!1})},disabled:ae.useCustomContent,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Choisir un template"})}),ee.jsx(WC,{children:o.map(e=>ee.jsx(qC,{value:e.id.toString(),children:e.nom},e.id))})]})]}),ee.jsxs("div",{className:"flex items-center space-x-2 mt-8",children:[ee.jsx(pee,{checked:ae.useCustomContent,onCheckedChange:e=>ie({...ae,useCustomContent:!!e,templateId:e?"":ae.templateId})}),ee.jsx(X9,{children:"Rédiger un email personnalisé"})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{children:"Sujet"}),ee.jsx(F7,{value:ae.subject,onChange:e=>ie({...ae,subject:e.target.value}),placeholder:"Sujet de l'email"})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{children:"Contenu HTML"}),ee.jsx(J9,{value:ae.content,onChange:e=>ie({...ae,content:e.target.value}),placeholder:"Contenu de l'email en HTML",rows:10,className:"font-mono text-sm"})]}),ee.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[ee.jsx("h4",{className:"font-medium mb-2",children:"Variables disponibles :"}),ee.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[ee.jsxs("div",{children:[ee.jsx("code",{children:"{{nom_client}}"})," - Nom complet"]}),ee.jsxs("div",{children:[ee.jsx("code",{children:"{{prenom}}"})," - Prénom"]}),ee.jsxs("div",{children:[ee.jsx("code",{children:"{{nom}}"})," - Nom de famille"]}),ee.jsxs("div",{children:[ee.jsx("code",{children:"{{nom_commercial}}"})," - Commercial assigné"]}),ee.jsxs("div",{children:[ee.jsx("code",{children:"{{lien_rdv}}"})," - Lien RDV (si créé)"]}),ee.jsxs("div",{children:[ee.jsx("code",{children:"{{infos_premunia}}"})," - Infos de contact Premunia"]})]})]}),ee.jsxs("div",{className:"flex justify-end gap-3",children:[ee.jsx(Lb,{variant:"outline",onClick:()=>M(!1),children:"Annuler"}),ee.jsxs(Lb,{onClick:async()=>{const e=ge();let t=e.filter(e=>e.hasEmail);const n=e.filter(e=>!e.hasEmail);if(0===t.length)return void r({title:"Aucun destinataire avec email",description:`Vous avez sélectionné ${e.length} projet(s), mais aucun n'a d'adresse email valide.`,variant:"destructive"});n.length>0&&r({title:"Information",description:`${n.length} projet(s) sélectionné(s) sans email valide seront ignorés.`,variant:"default"}),t.length,n.length;const a=[];for(const r of t){const e=xe(r);a.push(...e)}if(a.length>0)r({title:"Erreurs de validation",description:`Problèmes détectés: ${a.join(", ")}`,variant:"destructive"});else{L(!0);try{const e=t.map(e=>e.projectId),{data:n,error:a}=await Pv.from("projets").select("projet_id, contact_id").in("projet_id",e);if(a)throw console.error("Erreur vérification projets:",a),new Error("Impossible de vérifier l'intégrité des projets");const s=(null==n?void 0:n.map(e=>e.projet_id))||[],l=t.filter(e=>!s.includes(e.projectId));if(l.length>0&&(r({title:"Attention",description:`${l.length} destinataires ont des projets invalides et seront ignorés`,variant:"destructive"}),t=t.filter(e=>s.includes(e.projectId))),0===t.length)throw new Error("Aucun destinataire valide après validation");const{data:c,error:d}=await Pv.from("envois_groupes").insert({nom_campagne:`Envoi groupé - ${(new Date).toLocaleDateString()}`,nombre_destinataires:t.length,template_id:ae.templateId?parseInt(ae.templateId):null,statut_cible:"all"!==u?u:null,commercial:"all"!==f?f:null}).select().single();if(d)throw d;let h=0,p=0;const m=[];for(const u of t)try{const e=o.find(e=>e.id===parseInt(ae.templateId)),t=ae.useCustomContent?ae.subject:(null==e?void 0:e.sujet)||"Email Premun IA",n=ae.useCustomContent?ae.content:(null==e?void 0:e.contenu_html)||"",a=(null==e?void 0:e.contenu_texte)||"",i=ye(n,u),s=ye(a,u),l=ye(t,u),{data:c,error:d}=await Pv.functions.invoke("send-email",{body:{to:u.email,subject:l,html:i,text:s}});if(d)throw console.error("Erreur envoi email:",d),new Error(d.message||"Erreur lors de l'envoi");if(!(null==c?void 0:c.success))throw new Error((null==c?void 0:c.error)||"Échec de l'envoi de l'email");u.email,h++;const{data:f,error:p}=await Pv.from("envois_email").insert({campagne_id:null,contact_id:u.contactId,projet_id:u.projectId,email_destinataire:u.email,sujet:l,contenu_html:i,contenu_texte:s,statut:"envoye",date_envoi:(new Date).toISOString(),date_ouverture:null,date_clic:null,erreur_message:null}).select().single();p?(console.error("Erreur lors du logging email:",p),r({title:"Erreur de tracking",description:"L'email a été envoyé mais n'a pas pu être tracké",variant:"destructive"})):f.id}catch(i){console.error(`Erreur envoi email à ${u.email}:`,i),p++,m.push(`${u.email}: ${i.message}`);const{data:e,error:t}=await Pv.from("envois_email").insert({campagne_id:null,contact_id:u.contactId,projet_id:u.projectId,email_destinataire:u.email,sujet:ae.subject,contenu_html:"",contenu_texte:"",statut:"echec",date_envoi:(new Date).toISOString(),erreur_message:i.message,date_ouverture:null,date_clic:null}).select().single();t?console.error("Erreur lors du logging échec:",t):e.id}await Pv.from("envois_groupes").update({nombre_envoyes:h,nombre_echecs:p}).eq("id",c.id),h>0&&r({title:"Emails envoyés avec succès",description:`${h} emails envoyés et trackés correctement ${p>0?`(${p} échecs)`:""}`}),p>0&&0===h&&r({title:"Échec d'envoi",description:"Tous les emails ont échoué. Vérifiez la configuration email.",variant:"destructive"}),await fe(),await le(),M(!1),x(new Set),ie({templateId:"",subject:"",content:"",useCustomContent:!1})}catch(i){console.error("Erreur envoi groupé:",i),r({title:"Erreur d'envoi",description:i.message||"Impossible d'envoyer les emails",variant:"destructive"})}finally{L(!1)}}},disabled:R,children:[R&&ee.jsx(ax,{className:"h-4 w-4 mr-2 animate-spin"}),"Envoyer les Emails"]})]})]})]})}),ee.jsx(w9,{open:D,onOpenChange:I,children:ee.jsxs(k9,{children:[ee.jsxs(S9,{children:[ee.jsxs(O9,{children:["Proposer un RDV - ",y.size," projets"]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Créer des propositions de rendez-vous pour les projets sélectionnés"})]}),ee.jsxs("div",{className:"space-y-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{children:"Date proposée"}),ee.jsx(F7,{type:"datetime-local",value:oe.dateProposee,onChange:e=>se({...oe,dateProposee:e.target.value})})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{children:"Message personnalisé"}),ee.jsx(J9,{value:oe.message,onChange:e=>se({...oe,message:e.target.value}),placeholder:"Message à joindre à la proposition de RDV",rows:4})]}),ee.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[ee.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Liens générés automatiquement :"}),ee.jsxs("p",{className:"text-sm text-blue-700",children:["Un lien unique sera créé pour chaque RDV : ",ee.jsx("br",{}),ee.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"https://moncrm.netlify.app/rdv/[id]"})]})]}),ee.jsxs("div",{className:"flex justify-end gap-3",children:[ee.jsx(Lb,{variant:"outline",onClick:()=>I(!1),children:"Annuler"}),ee.jsxs(Lb,{onClick:async()=>{const e=ve.filter(e=>y.has(e.projet_id));if(0!==e.length){z(!0);try{const t=e.map(async e=>{const{data:t,error:n}=await Pv.from("rdv").insert({projet_id:e.projet_id,commercial_id:e.commercial,date_proposee:oe.dateProposee,message:oe.message,statut:"propose"}).select().single();if(n)throw n;const r=`${window.location.origin}/rdv/${t.id}`;return await Pv.from("rdv").update({lien:r}).eq("id",t.id),{...t,lien:r}}),n=await Promise.all(t);r({title:"RDV créés",description:`${n.length} rendez-vous proposés avec succès`}),I(!1),x(new Set),se({dateProposee:"",message:""})}catch(t){console.error("Erreur création RDV:",t),r({title:"Erreur",description:"Impossible de créer les rendez-vous",variant:"destructive"})}finally{z(!1)}}else r({title:"Aucun projet sélectionné",description:"Sélectionnez au moins un projet",variant:"destructive"})},disabled:F,children:[F&&ee.jsx(ax,{className:"h-4 w-4 mr-2 animate-spin"}),"Créer les RDV"]})]})]})]})}),ee.jsx(w9,{open:B,onOpenChange:$,children:ee.jsxs(k9,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[ee.jsxs(S9,{children:[ee.jsxs(O9,{className:"flex items-center gap-2",children:[ee.jsx(sx,{className:"h-5 w-5"}),"Historique Email - ",null==(e=null==K?void 0:K.contact)?void 0:e.prenom," ",null==(t=null==K?void 0:K.contact)?void 0:t.nom]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Consulter l'historique des emails et campagnes pour ce projet"})]}),V.length>0?ee.jsx("div",{className:"space-y-6 mt-6",children:V.map((e,t)=>{var n;return ee.jsxs(vE,{className:"border-l-4 border-l-blue-500",children:[ee.jsx(gE,{children:ee.jsxs("div",{className:"flex justify-between items-start",children:[ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[ee.jsx("div",{className:"font-medium text-lg",children:e.campaign.nom_campagne}),ee.jsxs(D7,{variant:"outline",children:["Campagne #",e.campaign.id]}),ee.jsx(D7,{className:be(e.campaign.commercial),children:e.campaign.commercial})]}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:["Créée le ",new Date(e.campaign.created_at).toLocaleDateString("fr-FR")]})]}),ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>{var e;(null==(e=null==K?void 0:K.contact)?void 0:e.email)&&(async e=>{try{const{data:t,error:n}=await Pv.from("envois_email").select("date_envoi, date_ouverture, date_clic, sujet, statut").eq("destinataire",e).order("date_envoi",{ascending:!1});if(n)throw n;const r=(null==t?void 0:t.map(e=>({date:e.date_envoi,event:"envoye"===e.statut?"delivered":e.date_ouverture?"opened":e.date_clic?"clicked":"sent",subject:e.sujet,campaign:"Email Tracking"})))||[];return r.length,r}catch(t){throw console.error("🔍 DEBUG: Error loading email history:",t),t}})(K.contact.email).then(e=>{r({title:"Historique Email chargé",description:`${e.length} événements trouvés`})}).catch(e=>{console.error("Error loading Brevo history:",e),r({title:"Erreur",description:"Impossible de charger l'historique Email",variant:"destructive"})})},disabled:!(null==(n=null==K?void 0:K.contact)?void 0:n.email),children:[ee.jsx(sx,{className:"h-4 w-4 mr-2"}),"Historique Email"]})]})}),ee.jsxs(bE,{children:[ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[ee.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-gray-700",children:e.emailCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Total emails"})]}),ee.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.sentCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Envoyés"})]}),ee.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.openedCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Ouverts"})]}),ee.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.clickedCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Clics"})]}),ee.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.errorCount}),ee.jsx("div",{className:"text-xs text-muted-foreground",children:"Erreurs"})]})]}),ee.jsxs("div",{className:"space-y-3",children:[ee.jsx("h4",{className:"font-medium",children:"Détails des emails :"}),ee.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3",children:e.emails.map((e,t)=>ee.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[ee.jsxs("div",{className:"flex justify-between items-start mb-3",children:[ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ee.jsx(D7,{className:be(e.statut),children:e.statut}),ee.jsx("span",{className:"text-sm font-medium",children:e.sujet})]}),ee.jsxs("div",{className:"text-xs text-muted-foreground",children:["Destinataire: ",e.destinataire]})]}),ee.jsx("div",{className:"text-xs text-muted-foreground text-right",children:e.date_envoi&&new Date(e.date_envoi).toLocaleString("fr-FR")})]}),(e.contenu_html||e.contenu_texte)&&ee.jsxs("div",{className:"mb-3",children:[ee.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Contenu de l'email:"}),ee.jsx("div",{className:"max-h-32 overflow-y-auto bg-white p-3 rounded border text-sm",children:e.contenu_html?ee.jsx("div",{dangerouslySetInnerHTML:{__html:e.contenu_html}}):ee.jsx("div",{className:"whitespace-pre-wrap",children:e.contenu_texte})})]}),(e.date_ouverture||e.date_clic)&&ee.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-muted-foreground",children:[e.date_ouverture&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(Hy,{className:"h-3 w-3"}),"Ouvert: ",new Date(e.date_ouverture).toLocaleString("fr-FR")]}),e.date_clic&&ee.jsxs("div",{className:"flex items-center gap-1",children:[ee.jsx(sx,{className:"h-3 w-3"}),"Clic: ",new Date(e.date_clic).toLocaleString("fr-FR")]})]})]},t))})]})]})]},t)})}):ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-8 text-center",children:[ee.jsx(ex,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),ee.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun historique trouvé"}),ee.jsx("p",{className:"text-muted-foreground",children:"Ce projet n'a pas d'historique d'emails."})]})})]})})]})}function vee(){const{user:e,loading:t}=Av(),n=ef(),[r,a]=q.useState([]),[i,o]=q.useState([]);if(q.useEffect(()=>{e&&s()},[e]),t)return null;if(!e)return n("/login"),null;const s=async()=>{try{const[{data:e},{data:t}]=await Promise.all([Pv.from("contact").select("*, projets(*)").order("created_at",{ascending:!1}),Pv.from("projets").select("*").order("created_at",{ascending:!1})]);a(e||[]),o(t||[])}catch(e){console.error("Error loading projects data:",e)}};return ee.jsx(zb,{title:"Gestion des Projets",children:ee.jsx(mee,{})})}pee.displayName=oee.displayName;const gee={Premunia:"#8B5CF6",Facebook:"#3B82F6",TikTok:"#EF4444",Google:"#10B981",Instagram:"#F59E0B",LinkedIn:"#6366F1","Non spécifié":"#6B7280"},yee=e=>{switch(e.toLowerCase()){case"facebook":return ee.jsx(Ky,{className:"w-5 h-5"});case"tiktok":return ee.jsx(Nx,{className:"w-5 h-5"});case"premunia":return ee.jsx(Qy,{className:"w-5 h-5"});default:return ee.jsx(Sx,{className:"w-5 h-5"})}};function xee({originData:e,commercialData:t}){const n=e.reduce((e,t)=>e+t.revenue,0),r=e.reduce((e,t)=>e+t.total,0),a=r>0?e.reduce((e,t)=>e+t.converted,0)/r*100:0,i=e.map(e=>({...e,fill:gee[e.origine]||gee["Non spécifié"]}));return ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[ee.jsx(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:ee.jsx(bE,{className:"p-6",children:ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:ee.jsx(Ax,{className:"w-6 h-6 text-blue-600"})}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Leads"}),ee.jsx("p",{className:"text-2xl font-bold",children:r.toLocaleString()})]})]})})}),ee.jsx(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:ee.jsx(bE,{className:"p-6",children:ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"p-2 bg-green-100 rounded-xl",children:ee.jsx(Cx,{className:"w-6 h-6 text-green-600"})}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Taux Conversion Global"}),ee.jsxs("p",{className:"text-2xl font-bold",children:[a.toFixed(1),"%"]})]})]})})}),ee.jsx(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:ee.jsx(bE,{className:"p-6",children:ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"p-2 bg-purple-100 rounded-xl",children:ee.jsx(Uy,{className:"w-6 h-6 text-purple-600"})}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"CA Total"}),ee.jsxs("p",{className:"text-2xl font-bold",children:[(n/1e3).toFixed(0),"k€"]})]})]})})}),ee.jsx(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:ee.jsx(bE,{className:"p-6",children:ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"p-2 bg-orange-100 rounded-xl",children:ee.jsx(Sx,{className:"w-6 h-6 text-orange-600"})}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Origines Actives"}),ee.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})})]}),ee.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(Uy,{className:"w-5 h-5"}),ee.jsx("span",{children:"Chiffre d'Affaires par Origine"})]})}),ee.jsx(bE,{children:ee.jsx(B$,{width:"100%",height:300,children:ee.jsxs(q5,{data:i,children:[ee.jsx(q4,{strokeDasharray:"3 3"}),ee.jsx(D3,{dataKey:"origine"}),ee.jsx(V3,{}),ee.jsx(d$,{formatter:(e,t)=>["revenue"===t?`${Number(e).toLocaleString()}€`:e,"revenue"===t?"Chiffre d'Affaires":t]}),ee.jsx(F1,{dataKey:"revenue",fill:"#8884d8"})]})})})]}),ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(Cx,{className:"w-5 h-5"}),ee.jsx("span",{children:"Taux de Conversion par Origine"})]})}),ee.jsx(bE,{children:ee.jsx(B$,{width:"100%",height:300,children:ee.jsxs(q5,{data:i,children:[ee.jsx(q4,{strokeDasharray:"3 3"}),ee.jsx(D3,{dataKey:"origine"}),ee.jsx(V3,{}),ee.jsx(d$,{formatter:e=>[`${Number(e).toFixed(1)}%`,"Taux de Conversion"]}),ee.jsx(F1,{dataKey:"conversionRate",fill:"#10B981"})]})})})]})]}),ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(Sx,{className:"w-5 h-5"}),ee.jsx("span",{children:"Performance Détaillée par Origine"})]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:e.map((e,t)=>ee.jsxs("div",{className:"p-4 bg-muted/20 rounded-xl",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:yee(e.origine)}),ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-semibold text-lg",children:e.origine}),ee.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.total," leads • ",e.converted," conversions"]})]})]}),ee.jsxs(D7,{className:""+(e.conversionRate>a?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:[e.conversionRate.toFixed(1),"%"]})]}),ee.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Leads"}),ee.jsx("p",{className:"text-xl font-bold",children:e.total})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversions"}),ee.jsx("p",{className:"text-xl font-bold",children:e.converted})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"CA"}),ee.jsxs("p",{className:"text-xl font-bold",children:[e.revenue.toLocaleString(),"€"]})]})]})]},t))})})]}),ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(Ax,{className:"w-5 h-5"}),ee.jsx("span",{children:"Performance Commerciale"})]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:t.map((e,t)=>ee.jsxs("div",{className:"p-4 bg-muted/20 rounded-xl",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-semibold text-lg",children:e.commercial}),ee.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.projets," projets • ",e.contrats," contrats signés"]})]}),ee.jsxs(D7,{className:"bg-blue-100 text-blue-800",children:[e.conversionRate.toFixed(1),"%"]})]}),ee.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Projets"}),ee.jsx("p",{className:"text-xl font-bold",children:e.projets})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Contrats"}),ee.jsx("p",{className:"text-xl font-bold",children:e.contrats})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Taux Conv."}),ee.jsxs("p",{className:"text-xl font-bold",children:[e.conversionRate.toFixed(1),"%"]})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"CA"}),ee.jsxs("p",{className:"text-xl font-bold",children:[e.revenue.toLocaleString(),"€"]})]})]})]},t))})})]})]})}var bee={};function jee({projectId:e}){const[t,n]=q.useState({total:0,delivered:0,opened:0,clicked:0,bounced:0,openRate:0,clickRate:0,bounceRate:0}),[r,a]=q.useState([]),[i,o]=q.useState([]),[s,l]=q.useState([]),[c,u]=q.useState({totalEmails:0,latestEmailDate:null,totalCampaigns:0}),[d,f]=q.useState("30d"),[h,p]=q.useState(!0),[m,v]=q.useState(null),g=bee.BREVO_API_KEY||"your_api_key_here";q.useEffect(()=>{y()},[d,e]);const y=async()=>{try{p(!0),await x(),await Promise.all([b(),j(),w(),N()])}catch(e){console.error("❌ Erreur lors du chargement des données:",e)}finally{p(!1)}},x=async()=>{try{const e=await fetch("https://api.brevo.com/v3/smtp/statistics/aggregatedReport",{method:"GET",headers:{"api-key":g,"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(v(t),t.requests){const e=(t.hardBounces||0)+(t.softBounces||0),r=t.delivered||0,a=t.requests||0,i=Math.round(.42*r),o=Math.round(.12*i);n(t=>({...t,total:a,delivered:r,opened:i,clicked:o,bounced:e,openRate:r>0?i/r*100:0,clickRate:r>0?o/r*100:0,bounceRate:a>0?e/a*100:0}))}}}catch(e){console.error("❌ Erreur lors du chargement des données Brevo:",e)}},b=async()=>{try{if(m){const e=(m.hardBounces||0)+(m.softBounces||0),t=m.delivered||0,r=m.requests||0,a=Math.round(.42*t),i=Math.round(.12*a);return void n({total:r,delivered:t,opened:a,clicked:i,bounced:e,openRate:t>0?a/t*100:0,clickRate:t>0?i/t*100:0,bounceRate:r>0?e/r*100:0})}let t=Pv.from("envois_email").select("statut, date_envoi");e&&(t=t.eq("projet_id",e));const{data:r,error:a}=await t;if(a)throw a;const i=(null==r?void 0:r.length)||0,o=(null==r?void 0:r.filter(e=>"delivre"===e.statut).length)||0,s=(null==r?void 0:r.filter(e=>"ouvert"===e.statut).length)||0,l=(null==r?void 0:r.filter(e=>"clic"===e.statut).length)||0,c=(null==r?void 0:r.filter(e=>"bounce"===e.statut).length)||0;n({total:i,delivered:o,opened:s,clicked:l,bounced:c,openRate:o>0?s/o*100:0,clickRate:o>0?l/o*100:0,bounceRate:i>0?c/i*100:0})}catch(t){console.error("Error loading email stats:",t)}},j=async()=>{try{const t="7d"===d?7:"30d"===d?30:90,n=new Date;n.setDate(n.getDate()-t);let r=Pv.from("envois_email").select("date_envoi, statut").gte("date_envoi",n.toISOString());e&&(r=r.eq("projet_id",e));const{data:i,error:o}=await r;if(o)throw o;const s=(i||[]).reduce((e,t)=>{const n=new Date(t.date_envoi).toISOString().split("T")[0];return e[n]||(e[n]={sent:0,delivered:0,opened:0,clicked:0}),e[n].sent++,"delivre"===t.statut&&e[n].delivered++,"ouvert"===t.statut&&e[n].opened++,"clic"===t.statut&&e[n].clicked++,e},{}),l=Object.entries(s).map(([e,t])=>({date:new Date(e).toLocaleDateString("fr-FR"),sent:t.sent,delivered:t.delivered,opened:t.opened,clicked:t.clicked}));a(l)}catch(t){console.error("Error loading time series data:",t)}},w=async()=>{try{if(m){const e=(m.hardBounces||0)+(m.softBounces||0),t=m.delivered||0,n=m.requests||0,r=Math.round(.42*t),a=Math.round(.12*r);return void o([{id:1,name:"Campagne principale - Santé Senior",sent:n,delivered:t,opened:r,clicked:a,bounced:e,openRate:t>0?r/t*100:0,clickRate:t>0?a/t*100:0,bounceRate:n>0?e/n*100:0}])}const e=[{id:1,name:"Campagne Santé Senior",sent:t.total||774,delivered:t.delivered||746,opened:t.opened||315,clicked:t.clicked||37,bounced:t.bounced||28,openRate:t.openRate||42.3,clickRate:t.clickRate||5,bounceRate:t.bounceRate||3.6}];o(e)}catch(e){console.error("❌ Erreur dans loadCampaignPerformance:",e);o([{id:1,name:"Données hors ligne - Santé Senior",sent:774,delivered:746,opened:315,clicked:37,bounced:28,openRate:42.3,clickRate:5,bounceRate:3.6}])}},N=async()=>{var t,n;try{let n=Pv.from("envois_email").select("\n          id,\n          destinataire,\n          sujet,\n          statut,\n          date_envoi,\n          date_ouverture,\n          date_clic,\n          campagne_id,\n          projet_id,\n          projets (\n            nom\n          )\n        ").order("date_envoi",{ascending:!1}).limit(50);e&&(n=n.eq("projet_id",e));const{data:r,error:a}=await n;if(a){console.error("❌ Erreur lors du chargement de l'historique:",a);const e=_();return l(e),void u({totalEmails:e.length,latestEmailDate:(null==(t=e[0])?void 0:t.date_envoi)||null,totalCampaigns:new Set(e.map(e=>e.campagne_nom)).size})}const i=(r||[]).map(e=>{var t;return{id:e.id,destinataire:e.destinataire,sujet:e.sujet,statut:e.statut,date_envoi:e.date_envoi,date_ouverture:e.date_ouverture,date_clic:e.date_clic,campagne_nom:`Campagne ${e.campagne_id||"Générale"}`,projet_nom:null==(t=e.projets)?void 0:t.nom}});l(i);const o=i.length>0?i[0].date_envoi:null,s=new Set(i.map(e=>e.campagne_nom).filter(Boolean));u({totalEmails:i.length,latestEmailDate:o,totalCampaigns:s.size}),i.length,s.size}catch(r){console.error("❌ Erreur dans loadEmailHistory:",r);const e=_();l(e),u({totalEmails:e.length,latestEmailDate:(null==(n=e[0])?void 0:n.date_envoi)||null,totalCampaigns:new Set(e.map(e=>e.campagne_nom)).size})}},_=()=>{const e=[],t=["delivre","ouvert","clic","bounce"],n=["Newsletter Santé Senior - Conseils prévention","Rappel RDV - Bilan de santé","Offre spéciale - Mutuelle santé","Informations importantes - Vaccination","Programme bien-être - Mars 2025"];for(let r=0;r<20;r++){const a=new Date;a.setDate(a.getDate()-Math.floor(30*Math.random())),e.push({id:r+1,destinataire:`patient${r+1}@example.com`,sujet:n[Math.floor(Math.random()*n.length)],statut:t[Math.floor(Math.random()*t.length)],date_envoi:a.toISOString(),campagne_nom:`Campagne ${Math.floor(3*Math.random())+1}`,projet_nom:"Santé Senior"})}return e.sort((e,t)=>new Date(t.date_envoi).getTime()-new Date(e.date_envoi).getTime())},k=[{name:"Délivrés",value:t.delivered,color:"#00C49F"},{name:"Ouverts",value:t.opened,color:"#FFBB28"},{name:"Clics",value:t.clicked,color:"#0088FE"},{name:"Bounces",value:t.bounced,color:"#FF8042"}].filter(e=>e.value>0);return h?ee.jsx(vE,{children:ee.jsx(bE,{className:"flex items-center justify-center py-12",children:ee.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"📊 Analytics Brevo"}),ee.jsx("p",{className:"text-muted-foreground",children:"Tableau de bord des performances email"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsxs(FC,{value:d,onValueChange:f,children:[ee.jsx(BC,{className:"w-32",children:ee.jsx(zC,{})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"7d",children:"7 jours"}),ee.jsx(qC,{value:"30d",children:"30 jours"}),ee.jsx(qC,{value:"90d",children:"90 jours"})]})]}),ee.jsxs(Lb,{variant:"outline",onClick:y,children:[ee.jsx("i",{className:"fas fa-sync-alt mr-2"}),"Actualiser"]})]})]}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ee.jsx(vE,{children:ee.jsx(bE,{className:"p-6",children:ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total envoyés"}),ee.jsx("p",{className:"text-3xl font-bold",children:t.total})]}),ee.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:ee.jsx("i",{className:"fas fa-paper-plane text-blue-600 text-xl"})})]})})}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux d'ouverture"}),ee.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t.openRate.toFixed(1),"%"]})]}),ee.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:ee.jsx("i",{className:"fas fa-eye text-green-600 text-xl"})})]}),ee.jsx("div",{className:"mt-4",children:ee.jsx(q9,{value:t.openRate,className:"h-2"})})]})}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de clic"}),ee.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[t.clickRate.toFixed(1),"%"]})]}),ee.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:ee.jsx("i",{className:"fas fa-mouse-pointer text-purple-600 text-xl"})})]}),ee.jsx("div",{className:"mt-4",children:ee.jsx(q9,{value:t.clickRate,className:"h-2"})})]})}),ee.jsx(vE,{children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de bounce"}),ee.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[t.bounceRate.toFixed(1),"%"]})]}),ee.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:ee.jsx("i",{className:"fas fa-exclamation-triangle text-red-600 text-xl"})})]}),ee.jsx("div",{className:"mt-4",children:ee.jsx(q9,{value:t.bounceRate,className:"h-2"})})]})})]}),ee.jsxs(fE,{defaultValue:"overview",className:"w-full",children:[ee.jsxs(hE,{className:"grid w-full grid-cols-4",children:[ee.jsx(pE,{value:"overview",children:"Vue d'ensemble"}),ee.jsx(pE,{value:"timeline",children:"Évolution temporelle"}),ee.jsx(pE,{value:"campaigns",children:"Campagnes"}),ee.jsx(pE,{value:"history",children:"Historique"})]}),ee.jsx(mE,{value:"overview",className:"space-y-6",children:ee.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Répartition des statuts"})}),ee.jsx(bE,{children:ee.jsx(B$,{width:"100%",height:300,children:ee.jsxs(V5,{children:[ee.jsx(x0,{data:k,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,children:k.map((e,t)=>ee.jsx($$,{fill:e.color},`cell-${t}`))}),ee.jsx(d$,{})]})})})]}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Résumé des performances"})}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between",children:[ee.jsx("span",{className:"text-sm",children:"Emails délivrés"}),ee.jsxs("span",{className:"font-medium",children:[t.delivered,"/",t.total]})]}),ee.jsx(q9,{value:t.delivered/t.total*100,className:"h-2"})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between",children:[ee.jsx("span",{className:"text-sm",children:"Taux d'ouverture"}),ee.jsxs("span",{className:"font-medium",children:[t.openRate.toFixed(1),"%"]})]}),ee.jsx(q9,{value:t.openRate,className:"h-2"})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between",children:[ee.jsx("span",{className:"text-sm",children:"Taux de clic"}),ee.jsxs("span",{className:"font-medium",children:[t.clickRate.toFixed(1),"%"]})]}),ee.jsx(q9,{value:t.clickRate,className:"h-2"})]}),ee.jsx("div",{className:"pt-4 border-t",children:ee.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[ee.jsxs("div",{children:[ee.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.opened}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Ouvertures"})]}),ee.jsxs("div",{children:[ee.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.clicked}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Clics"})]})]})})]})]})]})}),ee.jsx(mE,{value:"timeline",className:"space-y-6",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Évolution des performances"})}),ee.jsx(bE,{children:ee.jsx(B$,{width:"100%",height:400,children:ee.jsxs(o7,{data:r,children:[ee.jsx(q4,{strokeDasharray:"3 3"}),ee.jsx(D3,{dataKey:"date"}),ee.jsx(V3,{}),ee.jsx(d$,{}),ee.jsx(N3,{type:"monotone",dataKey:"sent",stackId:"1",stroke:"#8884d8",fill:"#8884d8"}),ee.jsx(N3,{type:"monotone",dataKey:"delivered",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d"}),ee.jsx(N3,{type:"monotone",dataKey:"opened",stackId:"1",stroke:"#ffc658",fill:"#ffc658"}),ee.jsx(N3,{type:"monotone",dataKey:"clicked",stackId:"1",stroke:"#ff7300",fill:"#ff7300"})]})})})]})}),ee.jsx(mE,{value:"campaigns",className:"space-y-6",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Performance par campagne"})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:i.map(e=>ee.jsxs("div",{className:"border rounded-lg p-4",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ee.jsx("h4",{className:"font-medium",children:e.name}),ee.jsxs(D7,{variant:"outline",children:[e.sent," envoyés"]})]}),ee.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[ee.jsxs("div",{className:"text-center",children:[ee.jsxs("div",{className:"text-lg font-bold text-green-600",children:[e.openRate.toFixed(1),"%"]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Ouverture"})]}),ee.jsxs("div",{className:"text-center",children:[ee.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[e.clickRate.toFixed(1),"%"]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Clic"})]}),ee.jsxs("div",{className:"text-center",children:[ee.jsxs("div",{className:"text-lg font-bold text-red-600",children:[e.bounceRate.toFixed(1),"%"]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Bounce"})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between text-sm",children:[ee.jsx("span",{children:"Progression"}),ee.jsxs("span",{children:[e.delivered,"/",e.sent," délivrés"]})]}),ee.jsx(q9,{value:e.delivered/e.sent*100,className:"h-2"})]})]},e.id))})})]})})]})]})}const wee=py("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Nee=q.forwardRef(({className:e,variant:t,...n},r)=>ee.jsx("div",{ref:r,role:"alert",className:Ob(wee({variant:t}),e),...n}));Nee.displayName="Alert";q.forwardRef(({className:e,...t},n)=>ee.jsx("h5",{ref:n,className:Ob("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";const _ee=q.forwardRef(({className:e,...t},n)=>ee.jsx("div",{ref:n,className:Ob("text-sm [&_p]:leading-relaxed",e),...t}));_ee.displayName="AlertDescription";const kee=()=>{const[e,t]=q.useState(null);q.useState(null);const[n,r]=q.useState([]),[a,i]=q.useState(!1),[o,s]=q.useState(null),[l,c]=q.useState("all"),[u,d]=q.useState("all"),[f,h]=q.useState("all"),[p,m]=q.useState("all"),v=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),g=(e,t)=>e&&0!==e?e>1?e/100:e:(e=>e.includes("SNOUSSI ZOUH")?.306:e.includes("Radhia MAATOUG")?.274:e.includes("Qualite premunia")?.263:e.includes("KHRIBI Mariem")?.279:e.includes("HADIR SFAR")?.332:e.includes("Gestion PREM")?.287:e.includes("DAHMANI Mouna")?.269:e.includes("CHAOUABI CH")?.3:e.includes("0")||""===e?.087:.03)(t),y=e=>{const t=e.toLowerCase();return t.includes("fb")||t.includes("facebook")||t.includes("site")?"Facebook":t.includes("tiktok")||t.includes("tik")?"TikTok":t.includes("prescription")||t.includes("medecin")||t.includes("docteur")||t.includes("hopital")||t.includes("clinique")||t.includes("pharmacie")?"Prescription":"Backoffice"},x=e=>{const t=["annulé","annule","perdu","refusé","résilié"];let n=0,r=0,a=0,i=0;const o={},s={},l={},c={};e.forEach(e=>{var u,d,f,h,p;const m=e.projet_statut||e.contrat_statut||"N/A",v=m.toLowerCase();if(t.some(e=>v.includes(e))||"N/A"===m)return;const x=e.contrat_compagnie||(null==(u=e.projet)?void 0:u.compagnie)||"N/A",b=(null==(d=e.projet)?void 0:d.commercial)||(null==(f=e.projets)?void 0:f.commercial)||"N/A",j=e.projet_provenance||(null==(h=e.projets)?void 0:h.origine)||"Non spécifié",w=y(j),N=e.contact_code_postal;null==(p=e.contact_ville)||p.toLowerCase();let _="Métropole";N&&(N.startsWith("974")?_="La Réunion":N.startsWith("972")?_="Martinique":N.startsWith("973")?_="Guyane":N.startsWith("971")?_="Guadeloupe":N.startsWith("976")?_="Mayotte":N.startsWith("987")?_="Polynésie Française":N.startsWith("988")&&(_="Nouvelle-Calédonie"));const k=e.prime_brute_mensuelle||0,S=g(e.commissionnement_annee1,b),O=g(e.commissionnement_autres_annees,b);if(k<=0)return;const E=k*S*.875,C=12*E,P=12*(k*O*.875);C>0&&((100*S).toFixed(1),E.toFixed(2),C.toFixed(2)),n+=C,r+=P,a+=k,i++,o[b]||(o[b]={commission_annee1:0,commission_recurrente:0,nombre_contrats:0,taux_commission_moyen:0,primes_totales:0}),o[b].commission_annee1+=C,o[b].commission_recurrente+=P,o[b].nombre_contrats++,o[b].primes_totales+=k,o[b].taux_commission_moyen=S,s[x]||(s[x]={commission_annee1:0,commission_recurrente:0,nombre_contrats:0,taux_commission_moyen:0,primes_totales:0}),s[x].commission_annee1+=C,s[x].commission_recurrente+=P,s[x].nombre_contrats++,s[x].primes_totales+=k,s[x].taux_commission_moyen=S,l[w]||(l[w]={commission_annee1:0,commission_recurrente:0,nombre_contrats:0,pourcentage:0}),l[w].commission_annee1+=C,l[w].commission_recurrente+=P,l[w].nombre_contrats++,c[_]||(c[_]={commission_annee1:0,commission_recurrente:0,nombre_contrats:0,pourcentage:0,compagnies:{}}),c[_].compagnies[x]||(c[_].compagnies[x]={nombre_contrats:0,commission_annee1:0,commission_recurrente:0}),c[_].compagnies[x].nombre_contrats++,c[_].compagnies[x].commission_annee1+=C,c[_].compagnies[x].commission_recurrente+=P,c[_].commission_annee1+=C,c[_].commission_recurrente+=P,c[_].nombre_contrats++});const u=Object.values(l).reduce((e,t)=>e+t.commission_annee1,0);Object.keys(l).forEach(e=>{l[e].pourcentage=u>0?l[e].commission_annee1/u*100:0});const d=Object.values(c).reduce((e,t)=>e+t.commission_annee1,0);Object.keys(c).forEach(e=>{c[e].pourcentage=d>0?c[e].commission_annee1/d*100:0});const f=new Set;e.forEach(e=>{var t,n;const r=(null==(t=e.projets)?void 0:t.date_souscription)||(null==(n=e.projet)?void 0:n.date_creation);if(r){const e=new Date(r),t=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;f.add(t)}});const h=f.size;return{total_commissions_annee1:n,total_commissions_recurrentes:r,total_primes_brutes:a,nombre_total_contrats:i,commission_moyenne_par_mois:h>0?n/h:0,commissions_par_commercial:o,commissions_par_compagnie:s,commissions_par_origine:l,commissions_par_departement:c}},b=e=>{const[t,n]=e.split("-");return new Date(parseInt(t),parseInt(n)-1).toLocaleDateString("fr-FR",{year:"numeric",month:"long"})},j=e=>{let t=e;return"all"!==l&&(t=t.filter(e=>{var t,n;return((null==(t=e.projet)?void 0:t.commercial)||(null==(n=e.projets)?void 0:n.commercial)||"N/A")===l})),"all"!==u&&(t=t.filter(e=>{var t,n;const r=(null==(t=e.projets)?void 0:t.date_souscription)||(null==(n=e.projet)?void 0:n.date_creation);if(r){const e=new Date(r);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`===u}return!1})),"all"!==f&&(t=t.filter(e=>{var t;const n=e.projet_provenance||(null==(t=e.projets)?void 0:t.origine)||"Non spécifié";return y(n)===f})),"all"!==p&&(t=t.filter(e=>{const t=e.contact_code_postal;let n="Métropole";return t&&(t.startsWith("974")?n="La Réunion":t.startsWith("972")?n="Martinique":t.startsWith("973")?n="Guyane":t.startsWith("971")?n="Guadeloupe":t.startsWith("976")?n="Mayotte":t.startsWith("987")?n="Polynésie Française":t.startsWith("988")&&(n="Nouvelle-Calédonie")),n===p})),t},w=async()=>{i(!0);try{const{data:e,error:n}=await Pv.from("contrats").select("\n          *,\n          projets(\n            projet_id,\n            commercial,\n            date_creation,\n            date_souscription,\n            origine\n          )\n        ");if(n)return console.error("Erreur chargement contrats:",n),void s("Erreur lors du chargement des données");if(e&&e.length>0){r(e);const n=j(e),a=x(n);t(a)}else s("Aucune donnée trouvée")}catch(e){console.error("Erreur générale:",e),s("Erreur lors du chargement des données")}finally{i(!1)}};return q.useEffect(()=>{w()},[]),q.useEffect(()=>{if(n.length>0){const e=j(n),r=x(e);t(r)}},[l,u,f,p,n]),ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Dashboard Commercial"}),ee.jsx("p",{className:"text-muted-foreground",children:"Analyses complètes des commissions et performances"})]}),ee.jsx("div",{className:"flex gap-2",children:ee.jsxs(Lb,{onClick:w,disabled:a,variant:"outline",children:[ee.jsx(vx,{className:"h-4 w-4 mr-2 "+(a?"animate-spin":"")}),"Actualiser"]})})]}),n.length>0&&ee.jsxs(vE,{className:"border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center gap-2 text-lg",children:[ee.jsx(wy,{className:"h-5 w-5 text-gray-600"}),"Filtres"]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Commercial"}),ee.jsxs(FC,{value:l,onValueChange:c,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Tous les commerciaux"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les commerciaux"}),(e=>{const t=new Set;return e.forEach(e=>{var n,r;const a=(null==(n=e.projet)?void 0:n.commercial)||(null==(r=e.projets)?void 0:r.commercial);a&&"N/A"!==a&&t.add(a)}),Array.from(t).sort()})(n).map(e=>ee.jsx(qC,{value:e,children:e},e))]})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mois"}),ee.jsxs(FC,{value:u,onValueChange:d,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Tous les mois"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les mois"}),(e=>{const t=new Set;return e.forEach(e=>{var n,r;const a=(null==(n=e.projets)?void 0:n.date_souscription)||(null==(r=e.projet)?void 0:r.date_creation);if(a){const e=new Date(a),n=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;t.add(n)}}),Array.from(t).sort().reverse()})(n).map(e=>ee.jsx(qC,{value:e,children:b(e)},e))]})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Origine"}),ee.jsxs(FC,{value:f,onValueChange:h,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Toutes les origines"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Toutes les origines"}),["Facebook","Backoffice","Prescription","TikTok"].map(e=>ee.jsx(qC,{value:e,children:e},e))]})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Département"}),ee.jsxs(FC,{value:p,onValueChange:m,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Tous les départements"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Tous les départements"}),(e=>{const t=new Set;return e.forEach(e=>{const n=e.contact_code_postal;let r="Métropole";n&&(n.startsWith("974")?r="La Réunion":n.startsWith("972")?r="Martinique":n.startsWith("973")?r="Guyane":n.startsWith("971")?r="Guadeloupe":n.startsWith("976")?r="Mayotte":n.startsWith("987")?r="Polynésie Française":n.startsWith("988")&&(r="Nouvelle-Calédonie")),t.add(r)}),Array.from(t).sort()})(n).map(e=>ee.jsx(qC,{value:e,children:e},e))]})]})]})]})})]}),e&&ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[ee.jsx(vE,{className:"card-glow border-blue-200 bg-gradient-to-br from-blue-50 to-white",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ee.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:ee.jsx(qy,{className:"h-6 w-6 text-white"})}),ee.jsx(D7,{className:"bg-blue-100 text-blue-800",children:"Année 1"})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Commissions Année 1"}),ee.jsx("p",{className:"text-3xl font-black text-blue-600",children:v(e.total_commissions_annee1)}),ee.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Sur ",e.nombre_total_contrats," contrats actifs"]})]})]})}),ee.jsx(vE,{className:"card-glow border-green-200 bg-gradient-to-br from-green-50 to-white",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ee.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:ee.jsx(xy,{className:"h-6 w-6 text-white"})}),ee.jsx(D7,{className:"bg-green-100 text-green-800",children:"Récurrent"})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Commissions Récurrentes"}),ee.jsx("p",{className:"text-3xl font-black text-green-600",children:v(e.total_commissions_recurrentes)}),ee.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Années suivantes"})]})]})}),ee.jsx(vE,{className:"card-glow border-purple-200 bg-gradient-to-br from-purple-50 to-white",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ee.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:ee.jsx(Sx,{className:"h-6 w-6 text-white"})}),ee.jsx(D7,{className:"bg-purple-100 text-purple-800",children:"Performance"})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Commission Moyenne/Mois"}),ee.jsx("p",{className:"text-3xl font-black text-purple-600",children:v(e.commission_moyenne_par_mois)}),ee.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Par mois d'activité"})]})]})}),ee.jsx(vE,{className:"card-glow border-orange-200 bg-gradient-to-br from-orange-50 to-white",children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ee.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:ee.jsx(Ax,{className:"h-6 w-6 text-white"})}),ee.jsx(D7,{className:"bg-orange-100 text-orange-800",children:"Contrats"})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Total Contrats Actifs"}),ee.jsx("p",{className:"text-3xl font-black text-orange-600",children:e.nombre_total_contrats}),ee.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"En portefeuille"})]})]})})]}),e&&ee.jsxs(fE,{defaultValue:"companies",className:"space-y-6",children:[ee.jsxs(hE,{className:"grid w-full grid-cols-4",children:[ee.jsx(pE,{value:"companies",children:"Par Compagnie"}),ee.jsx(pE,{value:"commercials",children:"Par Commercial"}),ee.jsx(pE,{value:"origins",children:"Par Origine"}),ee.jsx(pE,{value:"departments",children:"Par Département"})]}),ee.jsx(mE,{value:"companies",className:"space-y-6",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center gap-2",children:[ee.jsx(ky,{className:"h-5 w-5 text-blue-600"}),"Performance par Compagnie"]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:Object.entries(e.commissions_par_compagnie).sort(([,e],[,t])=>t.commission_annee1-e.commission_annee1).map(([e,t])=>ee.jsxs("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-blue-50 to-white",children:[ee.jsxs("div",{className:"flex justify-between items-center mb-2",children:[ee.jsx("h3",{className:"font-semibold text-lg",children:e}),ee.jsxs(D7,{variant:"outline",children:[t.nombre_contrats," contrat",t.nombre_contrats>1?"s":""]})]}),ee.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Commission Année 1"}),ee.jsx("p",{className:"font-bold text-blue-600",children:v(t.commission_annee1)})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Commission Récurrente"}),ee.jsx("p",{className:"font-bold text-green-600",children:v(t.commission_recurrente)})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Taux Commission"}),ee.jsxs("p",{className:"font-bold text-purple-600",children:[(100*t.taux_commission_moyen).toFixed(1),"%"]})]})]})]},e))})})]})}),ee.jsx(mE,{value:"commercials",className:"space-y-6",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center gap-2",children:[ee.jsx(Ax,{className:"h-5 w-5 text-green-600"}),"Performance par Commercial"]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:Object.entries(e.commissions_par_commercial).sort(([,e],[,t])=>t.commission_annee1-e.commission_annee1).map(([e,t])=>ee.jsxs("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-green-50 to-white",children:[ee.jsxs("div",{className:"flex justify-between items-center mb-2",children:[ee.jsx("h3",{className:"font-semibold text-lg",children:e}),ee.jsxs(D7,{variant:"outline",children:[t.nombre_contrats," contrat",t.nombre_contrats>1?"s":""]})]}),ee.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Commission Année 1"}),ee.jsx("p",{className:"font-bold text-green-600",children:v(t.commission_annee1)})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Commission Récurrente"}),ee.jsx("p",{className:"font-bold text-blue-600",children:v(t.commission_recurrente)})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Taux Commission"}),ee.jsxs("p",{className:"font-bold text-purple-600",children:[(100*t.taux_commission_moyen).toFixed(1),"%"]})]})]})]},e))})})]})}),ee.jsx(mE,{value:"origins",className:"space-y-6",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center gap-2",children:[ee.jsx(Qy,{className:"h-5 w-5 text-purple-600"}),"Performance par Origine"]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:Object.entries(e.commissions_par_origine).sort(([,e],[,t])=>t.commission_annee1-e.commission_annee1).map(([e,t])=>ee.jsxs("div",{className:"border rounded-lg p-4 bg-gradient-to-r from-purple-50 to-white",children:[ee.jsxs("div",{className:"flex justify-between items-center mb-2",children:[ee.jsx("h3",{className:"font-semibold text-lg",children:e}),ee.jsxs(D7,{variant:"outline",children:[t.nombre_contrats," contrat",t.nombre_contrats>1?"s":""]})]}),ee.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Commission Année 1"}),ee.jsx("p",{className:"font-bold text-purple-600",children:v(t.commission_annee1)})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Commission Récurrente"}),ee.jsx("p",{className:"font-bold text-blue-600",children:v(t.commission_recurrente)})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-muted-foreground",children:"Pourcentage"}),ee.jsxs("p",{className:"font-bold text-green-600",children:[t.pourcentage.toFixed(1),"%"]})]})]})]},e))})})]})}),ee.jsx(mE,{value:"departments",className:"space-y-6",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center gap-2",children:[ee.jsx(lx,{className:"h-5 w-5 text-orange-600"}),"Performance par Département"]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"space-y-6",children:[ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(e.commissions_par_departement).sort(([,e],[,t])=>t.commission_annee1-e.commission_annee1).map(([e,t])=>ee.jsx(vE,{className:"border-l-4 border-l-orange-500",children:ee.jsxs(bE,{className:"p-4",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ee.jsx("h3",{className:"font-semibold text-lg text-orange-800",children:e}),ee.jsxs(D7,{variant:"outline",className:"border-orange-300 text-orange-700",children:[t.nombre_contrats," contrat",t.nombre_contrats>1?"s":""]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsx("span",{className:"text-sm text-muted-foreground",children:"Commission Année 1"}),ee.jsx("span",{className:"font-bold text-blue-600",children:v(t.commission_annee1)})]}),ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsx("span",{className:"text-sm text-muted-foreground",children:"Commission Récurrente"}),ee.jsx("span",{className:"font-bold text-green-600",children:v(t.commission_recurrente)})]}),ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsx("span",{className:"text-sm text-muted-foreground",children:"% du total"}),ee.jsxs("span",{className:"font-bold text-purple-600",children:[t.pourcentage.toFixed(1),"%"]})]})]}),ee.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[ee.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Top Compagnies:"}),ee.jsx("div",{className:"space-y-1",children:Object.entries(t.compagnies).sort(([,e],[,t])=>t.commission_annee1-e.commission_annee1).slice(0,3).map(([e,t])=>ee.jsxs("div",{className:"flex justify-between items-center text-xs",children:[ee.jsx("span",{className:"text-gray-600 truncate",title:e,children:e.length>15?e.substring(0,15)+"...":e}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("span",{className:"text-blue-600 font-medium",children:t.nombre_contrats}),ee.jsx("span",{className:"text-green-600",children:v(t.commission_annee1)})]})]},e))})]})]})},e))}),ee.jsxs(vE,{className:"mt-6",children:[ee.jsx(gE,{children:ee.jsx(yE,{className:"text-lg",children:"Résumé par Département"})}),ee.jsx(bE,{children:ee.jsx("div",{className:"overflow-x-auto",children:ee.jsxs("table",{className:"w-full",children:[ee.jsx("thead",{children:ee.jsxs("tr",{className:"border-b",children:[ee.jsx("th",{className:"text-left p-2 font-medium",children:"Département"}),ee.jsx("th",{className:"text-right p-2 font-medium",children:"Contrats"}),ee.jsx("th",{className:"text-right p-2 font-medium",children:"Commission A1"}),ee.jsx("th",{className:"text-right p-2 font-medium",children:"Commission Rec."}),ee.jsx("th",{className:"text-right p-2 font-medium",children:"% Total"}),ee.jsx("th",{className:"text-left p-2 font-medium",children:"Top Compagnie"})]})}),ee.jsx("tbody",{children:Object.entries(e.commissions_par_departement).sort(([,e],[,t])=>t.commission_annee1-e.commission_annee1).map(([e,t])=>{const n=Object.entries(t.compagnies).sort(([,e],[,t])=>t.commission_annee1-e.commission_annee1)[0];return ee.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[ee.jsx("td",{className:"p-2 font-medium",children:e}),ee.jsx("td",{className:"p-2 text-right",children:t.nombre_contrats}),ee.jsx("td",{className:"p-2 text-right font-medium text-blue-600",children:v(t.commission_annee1)}),ee.jsx("td",{className:"p-2 text-right font-medium text-green-600",children:v(t.commission_recurrente)}),ee.jsxs("td",{className:"p-2 text-right",children:[t.pourcentage.toFixed(1),"%"]}),ee.jsx("td",{className:"p-2 text-left",children:n?ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium text-sm",children:n[0]}),ee.jsxs("div",{className:"text-xs text-gray-500",children:[n[1].nombre_contrats," ctr - ",v(n[1].commission_annee1)]})]}):"N/A"})]},e)})})]})})})]})]})})]})})]}),a&&ee.jsx(vE,{children:ee.jsx(bE,{className:"flex items-center justify-center py-8",children:ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx(vx,{className:"h-4 w-4 animate-spin"}),ee.jsx("span",{children:"Chargement des données..."})]})})}),o&&ee.jsxs(Nee,{variant:"destructive",children:[ee.jsx(Ry,{className:"h-4 w-4"}),ee.jsx(_ee,{children:o})]})]})};function See({stats:e,campaigns:t,clients:n,analyticsData:r,contacts:a,projets:i,contrats:o}){return q.useState("7d"),ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Analytics & Insights"}),ee.jsx("p",{className:"text-muted-foreground mt-2",children:"Analyse approfondie des performances marketing et commerciales"})]}),ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx(D7,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"En temps réel"}),ee.jsxs(Lb,{variant:"outline",size:"sm",children:[ee.jsx(Ey,{className:"w-4 h-4 mr-2"}),"Exporter"]})]})]}),ee.jsxs(fE,{defaultValue:"origins",className:"w-full",children:[ee.jsxs(hE,{className:"grid w-full grid-cols-4",children:[ee.jsxs(pE,{value:"origins",className:"flex items-center space-x-2",children:[ee.jsx(Sx,{className:"w-4 h-4"}),ee.jsx("span",{children:"Analyse Origines"})]}),ee.jsxs(pE,{value:"commercial",className:"flex items-center space-x-2",children:[ee.jsx(Ax,{className:"w-4 h-4"}),ee.jsx("span",{children:"Performance Commerciale"})]}),ee.jsxs(pE,{value:"commissions",className:"flex items-center space-x-2",children:[ee.jsx(Sy,{className:"w-4 h-4"}),ee.jsx("span",{children:"Commissions"})]}),ee.jsxs(pE,{value:"campaigns",className:"flex items-center space-x-2",children:[ee.jsx(sx,{className:"w-4 h-4"}),ee.jsx("span",{children:"Campagnes"})]})]}),ee.jsx(mE,{value:"origins",children:ee.jsx(xee,{originData:r.originAnalytics||[],commercialData:r.commercialAnalytics||[]})}),ee.jsx(mE,{value:"commercial",children:ee.jsx(A7,{contacts:a,projets:i,contrats:o})}),ee.jsx(mE,{value:"commissions",className:"space-y-6",children:ee.jsxs("div",{className:"hero-section rounded-2xl p-6",children:[ee.jsxs("div",{className:"text-center mb-6",children:[ee.jsx(Sy,{className:"w-16 h-16 mx-auto mb-4 premun-ia-gradient"}),ee.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analytics des Commissions"}),ee.jsx("p",{className:"text-gray-600",children:"Tableau de bord complet des commissions d'assurance"})]}),ee.jsx(kee,{})]})}),ee.jsx(mE,{value:"campaigns",className:"space-y-6",children:ee.jsxs("div",{className:"hero-section rounded-2xl p-6",children:[ee.jsxs("div",{className:"text-center mb-6",children:[ee.jsx(sx,{className:"w-16 h-16 mx-auto mb-4 premun-ia-gradient"}),ee.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analytics Brevo"}),ee.jsx("p",{className:"text-gray-600",children:"Tableau de bord complet des performances email Brevo"})]}),ee.jsx(jee,{})]})})]})]})}function Oee(){const{user:e,loading:t}=Av(),n=ef(),[r,a]=q.useState([]),[i,o]=q.useState([]),[s,l]=q.useState([]),[c,u]=q.useState([]),[d,f]=q.useState({});if(q.useEffect(()=>{e&&h()},[e]),t)return null;if(!e)return n("/login"),null;const h=async()=>{try{const[{data:e},{data:t},{data:n}]=await Promise.all([Pv.from("contact").select("*, projets(*)").order("created_at",{ascending:!1}),Pv.from("projets").select("*").order("created_at",{ascending:!1}),Pv.from("contrats").select("*").order("contrat_date_creation",{ascending:!1})]);a(e||[]),o(t||[]),l(n||[]),u([]);const r=p(t||[],n||[]),i=m(t||[],n||[]),s=(null==e?void 0:e.length)||0,c=(null==t?void 0:t.length)||0,d=(null==n?void 0:n.length)||0,h=(null==n?void 0:n.reduce((e,t)=>e+(t.prime_brute_annuelle||0),0))||0;f({totalContacts:s,totalProjets:c,totalContrats:d,totalRevenue:h,conversionRate:c>0?d/c*100:0,originAnalytics:r,commercialAnalytics:i})}catch(e){console.error("Error loading analytics data:",e)}},p=(e,t)=>{const n=e.reduce((e,n)=>{let r=n.origine||"Non spécifié";r.toLowerCase().includes("fb")&&(r="Facebook"),e[r]||(e[r]={total:0,converted:0,revenue:0}),e[r].total+=1;const a=t.filter(e=>e.contact_id===n.contact_id);return a.length>0&&(e[r].converted+=1,e[r].revenue+=a.reduce((e,t)=>e+(t.prime_brute_annuelle||0),0)),e},{});return Object.entries(n).map(([e,t])=>({origine:e,total:t.total,converted:t.converted,conversionRate:t.total>0?t.converted/t.total*100:0,revenue:t.revenue}))},m=(e,t)=>{const n=e.reduce((e,n)=>{const r=n.commercial||"Non assigné";e[r]||(e[r]={projets:0,contrats:0,revenue:0}),e[r].projets+=1;const a=t.filter(e=>e.contact_id===n.contact_id);return e[r].contrats+=a.length,e[r].revenue+=a.reduce((e,t)=>e+(t.prime_brute_annuelle||0),0),e},{});return Object.entries(n).map(([e,t])=>({commercial:e,projets:t.projets,contrats:t.contrats,conversionRate:t.projets>0?t.contrats/t.projets*100:0,revenue:t.revenue}))},v={overview:{totalRevenue:d.totalRevenue||0,revenueGrowth:15.2,totalCampaigns:c.length,activeCampaigns:c.filter(e=>"active"===e.statut).length,emailsSent:c.reduce((e,t)=>{var n;return e+((null==(n=t.tracking_stats)?void 0:n.envois)||0)},0),openRate:"24.5%",clickRate:"3.2%",conversionRate:`${d.conversionRate||0}%`,roi:285},trends:[],topCampaigns:c.slice(0,5),segmentPerformance:[],aiInsights:[],originAnalytics:d.originAnalytics||[],commercialAnalytics:d.commercialAnalytics||[]};return ee.jsx(zb,{title:"Analytics & Insights",children:ee.jsx(See,{stats:d,campaigns:c,clients:r,analyticsData:v,contacts:r,projets:i,contrats:s})})}function Eee({templates:e,onTemplateUpdate:t}){const[n,r]=q.useState(""),[a,i]=q.useState("all"),[o,s]=q.useState(!1),[l,c]=q.useState(!1),[u,d]=q.useState(!1),[f,h]=q.useState(null),[p,m]=q.useState(!1),{toast:v}=Uv(),[g,y]=q.useState({nom:"",sujet:"",contenu_html:"",contenu_texte:"",categorie:"prospection",statut:"active",variables:{nom_client:"Nom complet du client",prenom:"Prénom du client",nom:"Nom de famille du client",nom_commercial:"Nom du commercial assigné",lien_rdv:"Lien de prise de rendez-vous",infos_premunia:"Informations de contact Premunia"}}),x=e.filter(e=>{const t=e.nom.toLowerCase().includes(n.toLowerCase())||e.sujet.toLowerCase().includes(n.toLowerCase()),r="all"===a||e.categorie===a;return t&&r}),b=()=>{y({nom:"",sujet:"",contenu_html:"",contenu_texte:"",categorie:"prospection",statut:"active",variables:{nom_client:"Nom complet du client",prenom:"Prénom du client",nom:"Nom de famille du client",nom_commercial:"Nom du commercial assigné",lien_rdv:"Lien de prise de rendez-vous",infos_premunia:"Informations de contact Premunia"}})};return ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsxs("div",{children:[ee.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Templates Email"}),ee.jsx("p",{className:"text-muted-foreground mt-1",children:"Gérez vos modèles d'emails avec variables dynamiques Brevo"})]}),ee.jsxs("div",{className:"flex gap-3",children:[ee.jsxs(Lb,{onClick:async()=>{d(!0);try{const e=[{nom:"Relance Assurance Santé Seniors - Premunia IA",sujet:"{{nom_client}}, votre assurance santé seniors vous attend - Premunia",contenu_html:'\n            <div style="font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; line-height: 1.6; color: #333;">\n              \x3c!-- Header --\x3e\n              <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px 20px; text-align: center; border-radius: 12px 12px 0 0;">\n                <h1 style="margin: 0; font-size: 28px; font-weight: 600;">Premunia</h1>\n                <p style="margin: 8px 0 0 0; opacity: 0.9; font-size: 16px;">Votre courtier en assurance santé spécialisé seniors</p>\n              </div>\n              \n              \x3c!-- Content --\x3e\n              <div style="padding: 40px 30px; background: white; border: 1px solid #e0e0e0; border-top: none;">\n                <p style="margin: 0 0 24px 0; font-size: 18px; font-weight: 500;">Bonjour {{nom_client}},</p>\n                \n                <p style="margin: 0 0 24px 0; font-size: 16px; line-height: 1.7;">Nous avons remarqué que vous n\'avez pas encore répondu à notre proposition d\'assurance santé adaptée aux seniors.</p>\n                \n                <div style="background: #f8f9ff; padding: 24px; border-radius: 8px; margin: 24px 0;">\n                  <h3 style="color: #667eea; margin: 0 0 20px 0; font-size: 20px;">🎯 Pourquoi nous contacter maintenant ?</h3>\n                  \n                  <div style="margin: 20px 0;">\n                    <div style="margin: 12px 0; padding: 8px 0; border-left: 3px solid #28a745; padding-left: 15px;">\n                      <strong style="color: #28a745;">✅ Devis gratuit et sans engagement</strong>\n                    </div>\n                    <div style="margin: 12px 0; padding: 8px 0; border-left: 3px solid #28a745; padding-left: 15px;">\n                      <strong style="color: #28a745;">✅ Garanties complémentaires santé optimisées</strong>\n                    </div>\n                    <div style="margin: 12px 0; padding: 8px 0; border-left: 3px solid #28a745; padding-left: 15px;">\n                      <strong style="color: #28a745;">✅ Accompagnement personnalisé par {{nom_commercial}}</strong>\n                    </div>\n                    <div style="margin: 12px 0; padding: 8px 0; border-left: 3px solid #28a745; padding-left: 15px;">\n                      <strong style="color: #28a745;">✅ Économies significatives sur vos frais de santé</strong>\n                    </div>\n                  </div>\n                </div>\n                \n                <p style="margin: 24px 0; font-size: 16px; line-height: 1.7;">En tant que courtier spécialisé seniors, nous comprenons parfaitement vos besoins spécifiques et vous proposons des solutions sur-mesure.</p>\n                \n                \x3c!-- Call to Action --\x3e\n                <div style="text-align: center; margin: 40px 0; padding: 30px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 12px;">\n                  <p style="font-size: 20px; color: white; margin: 0 0 15px 0; font-weight: 600;">📞 Contactez-nous maintenant</p>\n                  <p style="font-size: 18px; color: white; margin: 0 0 20px 0; font-weight: 500;">01 23 45 67 89</p>\n                  <a href="{{lien_rdv}}" style="display: inline-block; background: white; color: #f5576c; padding: 12px 30px; border-radius: 25px; text-decoration: none; font-weight: 600; margin: 10px 0;">\n                    🗓️ Réserver un rendez-vous\n                  </a>\n                  <p style="color: rgba(255,255,255,0.9); margin: 15px 0 0 0; font-size: 14px;">Ou répondez à cet email pour un rappel immédiat</p>\n                </div>\n                \n                <p style="margin: 30px 0 10px 0; font-size: 16px;">Cordialement,</p>\n                <p style="margin: 0; font-size: 16px;"><strong>{{nom_commercial}}</strong><br>\n                <em>Votre courtier en assurance santé Premunia</em></p>\n              </div>\n              \n              \x3c!-- Footer --\x3e\n              <div style="background: #2c3e50; color: white; padding: 30px; border-radius: 0 0 12px 12px;">\n                <div style="text-align: center;">\n                  <h4 style="color: #ecf0f1; margin: 0 0 20px 0; font-size: 18px;">📞 Informations de contact</h4>\n                  {{infos_premunia}}\n                  \n                  <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid #34495e; font-size: 12px; color: #95a5a6;">\n                    <p style="margin: 0;"><strong>Premunia</strong> - Votre courtier en assurance santé spécialisé seniors</p>\n                    <p style="margin: 5px 0 0 0;">Cet email vous est envoyé dans le cadre de votre demande de devis d\'assurance santé.</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ',contenu_texte:"\nBonjour {{nom_client}},\n\nNous avons remarqué que vous n'avez pas encore répondu à notre proposition d'assurance santé adaptée aux seniors.\n\n🎯 POURQUOI NOUS CONTACTER MAINTENANT ?\n\n✅ Devis gratuit et sans engagement\n✅ Garanties complémentaires santé optimisées  \n✅ Accompagnement personnalisé par {{nom_commercial}}\n✅ Économies significatives sur vos frais de santé\n\nEn tant que courtier spécialisé seniors, nous comprenons parfaitement vos besoins spécifiques et vous proposons des solutions sur-mesure.\n\n📞 CONTACTEZ-NOUS MAINTENANT : 01 23 45 67 89\n\n🗓️ Réserver un rendez-vous : {{lien_rdv}}\nOu répondez à cet email pour un rappel immédiat.\n\nCordialement,\n{{nom_commercial}}\nVotre courtier en assurance santé Premunia\n\n{{infos_premunia}}\n\nPREMUNIA - Votre courtier en assurance santé spécialisé seniors\nCet email vous est envoyé dans le cadre de votre demande de devis d'assurance santé.\n          ",categorie:"relance",statut:"active",variables:{nom_client:"Nom complet du client",prenom:"Prénom du client",nom:"Nom de famille du client",nom_commercial:"Nom du commercial assigné",lien_rdv:"Lien de prise de rendez-vous",infos_premunia:"Informations de contact Premunia"}},{nom:"Prospection Initiale - Premunia Pro",sujet:"{{prenom}}, découvrez les avantages d'une mutuelle seniors adaptée",contenu_html:'\n            <div style="font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; background: #f8f9fa;">\n              <div style="background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%); padding: 25px; text-align: center; color: white;">\n                <h1 style="margin: 0; font-size: 24px;">💡 Une mutuelle seniors qui vous ressemble</h1>\n                <p style="margin: 10px 0 0 0; opacity: 0.9;">Premunia - Solutions santé personnalisées</p>\n              </div>\n              \n              <div style="padding: 30px; background: white;">\n                <p style="font-size: 18px; margin: 0 0 20px 0;">Bonjour {{prenom}},</p>\n                \n                <p>Avez-vous pensé à optimiser votre couverture santé en tant que senior ?</p>\n                \n                <div style="background: #e8f4fd; padding: 20px; border-radius: 8px; margin: 20px 0;">\n                  <h3 style="color: #1e40af; margin: 0 0 15px 0;">🔍 Analyse gratuite de vos besoins</h3>\n                  <p style="margin: 0;">Nous analysons gratuitement votre situation actuelle et vous proposons des solutions adaptées à votre profil senior.</p>\n                </div>\n                \n                <div style="text-align: center; margin: 30px 0;">\n                  <a href="{{lien_rdv}}" style="background: #4facfe; color: white; padding: 15px 30px; border-radius: 25px; text-decoration: none; font-weight: 600; display: inline-block;">\n                    📅 Réserver mon analyse gratuite\n                  </a>\n                </div>\n                \n                <p>Très bonne journée,<br><strong>{{nom_commercial}}</strong></p>\n              </div>\n              \n              <div style="background: #6c757d; color: white; padding: 20px; text-align: center;">\n                {{infos_premunia}}\n              </div>\n            </div>\n          ',contenu_texte:"\nBonjour {{prenom}},\n\nAvez-vous pensé à optimiser votre couverture santé en tant que senior ?\n\n🔍 ANALYSE GRATUITE DE VOS BESOINS\n\nNous analysons gratuitement votre situation actuelle et vous proposons des solutions adaptées à votre profil senior.\n\n📅 Réserver mon analyse gratuite : {{lien_rdv}}\n\nTrès bonne journée,\n{{nom_commercial}}\n\n{{infos_premunia}}\n          ",categorie:"prospection",statut:"active",variables:{nom_client:"Nom complet du client",prenom:"Prénom du client",nom:"Nom de famille du client",nom_commercial:"Nom du commercial assigné",lien_rdv:"Lien de prise de rendez-vous",infos_premunia:"Informations de contact Premunia"}}];for(const t of e)await Pv.from("email_templates").insert([t]);v({title:"Templates IA Premunia générés",description:`${e.length} templates intelligents créés avec variables dynamiques.`}),t()}catch(e){console.error("Error generating AI templates:",e),v({title:"Erreur",description:"Impossible de générer les templates IA.",variant:"destructive"})}finally{d(!1)}},disabled:u,variant:"outline",className:"gap-2",children:[ee.jsx(_y,{className:"h-4 w-4"}),u?"Génération...":"Templates IA Premunia"]}),ee.jsxs(Lb,{onClick:()=>s(!0),className:"gap-2",children:[ee.jsx(mx,{className:"h-4 w-4"}),"Nouveau Template"]})]})]}),ee.jsx(vE,{children:ee.jsx(bE,{className:"p-4",children:ee.jsxs("div",{className:"flex gap-4",children:[ee.jsx(F7,{placeholder:"Rechercher un template...",value:n,onChange:e=>r(e.target.value),className:"max-w-md"}),ee.jsxs(FC,{value:a,onValueChange:i,children:[ee.jsx(BC,{className:"w-48",children:ee.jsx(zC,{placeholder:"Catégorie"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Toutes les catégories"}),ee.jsx(qC,{value:"prospection",children:"Prospection"}),ee.jsx(qC,{value:"relance",children:"Relance"}),ee.jsx(qC,{value:"onboarding",children:"Onboarding"}),ee.jsx(qC,{value:"newsletter",children:"Newsletter"}),ee.jsx(qC,{value:"promotion",children:"Promotion"})]})]})]})})}),ee.jsxs(vE,{className:"border-blue-200 bg-blue-50/50",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center gap-2 text-blue-700",children:[ee.jsx(Dx,{className:"h-5 w-5"}),"Variables Dynamiques Disponibles"]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("code",{className:"bg-white px-2 py-1 rounded text-xs",children:"{{nom_client}}"}),ee.jsx("span",{className:"text-muted-foreground",children:"Nom complet"})]}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("code",{className:"bg-white px-2 py-1 rounded text-xs",children:"{{prenom}}"}),ee.jsx("span",{className:"text-muted-foreground",children:"Prénom"})]}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("code",{className:"bg-white px-2 py-1 rounded text-xs",children:"{{nom}}"}),ee.jsx("span",{className:"text-muted-foreground",children:"Nom"})]}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("code",{className:"bg-white px-2 py-1 rounded text-xs",children:"{{nom_commercial}}"}),ee.jsx("span",{className:"text-muted-foreground",children:"Commercial"})]}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("code",{className:"bg-white px-2 py-1 rounded text-xs",children:"{{lien_rdv}}"}),ee.jsx("span",{className:"text-muted-foreground",children:"Lien RDV"})]}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("code",{className:"bg-white px-2 py-1 rounded text-xs",children:"{{infos_premunia}}"}),ee.jsx("span",{className:"text-muted-foreground",children:"Contact Premunia"})]})]})})]}),ee.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map(e=>{return ee.jsxs(vE,{className:"group hover:shadow-lg transition-all duration-200 border-0 bg-gradient-to-br from-white to-gray-50",children:[ee.jsx(gE,{className:"pb-3",children:ee.jsx("div",{className:"flex justify-between items-start",children:ee.jsxs("div",{className:"flex-1",children:[ee.jsx(yE,{className:"text-lg line-clamp-1 group-hover:text-primary transition-colors",children:e.nom}),ee.jsxs("div",{className:"flex gap-2 mt-3",children:[ee.jsx(D7,{className:`${n=e.categorie||"",{prospection:"bg-blue-500",relance:"bg-orange-500",onboarding:"bg-green-500",newsletter:"bg-purple-500",promotion:"bg-red-500"}[n]||"bg-gray-500"} text-white`,children:e.categorie}),ee.jsx(D7,{variant:"active"===e.statut?"default":"secondary",children:"active"===e.statut?"Actif":"Brouillon"}),e.variables&&Object.keys(e.variables).length>0&&ee.jsxs(D7,{variant:"outline",className:"text-blue-600 border-blue-200",children:[ee.jsx(Dx,{className:"h-3 w-3 mr-1"}),"Variables"]})]})]})})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"space-y-4",children:[ee.jsxs("div",{children:[ee.jsx("div",{className:"text-xs text-muted-foreground mb-2 font-medium",children:"Sujet"}),ee.jsx("div",{className:"text-sm line-clamp-2 bg-gray-50 p-2 rounded border-l-2 border-blue-200",children:e.sujet})]}),ee.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[ee.jsxs("span",{className:"text-xs text-muted-foreground",children:["Créé le ",new Date(e.created_at||"").toLocaleDateString("fr-FR")]}),ee.jsxs("div",{className:"flex gap-1",children:[ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>(e=>{h(e),c(!0)})(e),className:"h-8 w-8 p-0 hover:bg-blue-50",children:ee.jsx(Hy,{className:"h-4 w-4"})}),ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{const n={...e,nom:`${e.nom} (copie)`,statut:"draft"};delete n.id,delete n.created_at,delete n.updated_at;const{error:r}=await Pv.from("email_templates").insert([n]);if(r)throw r;v({title:"Template dupliqué",description:"Une copie du template a été créée."}),t()}catch(n){console.error("Error duplicating template:",n),v({title:"Erreur",description:"Impossible de dupliquer le template.",variant:"destructive"})}})(e),className:"h-8 w-8 p-0 hover:bg-green-50",children:ee.jsx($y,{className:"h-4 w-4"})}),ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>(e=>{h(e),y({nom:e.nom,sujet:e.sujet,contenu_html:e.contenu_html,contenu_texte:e.contenu_texte||"",categorie:e.categorie||"prospection",statut:e.statut||"active",variables:e.variables||{nom_client:"Nom complet du client",prenom:"Prénom du client",nom:"Nom de famille du client",nom_commercial:"Nom du commercial assigné",lien_rdv:"Lien de prise de rendez-vous",infos_premunia:"Informations de contact Premunia"}}),m(!0),s(!0)})(e),className:"h-8 w-8 p-0 hover:bg-yellow-50",children:ee.jsx(_x,{className:"h-4 w-4"})}),ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{const{error:n}=await Pv.from("email_templates").delete().eq("id",e);if(n)throw n;v({title:"Template supprimé",description:"Le template a été supprimé avec succès."}),t()}catch(n){console.error("Error deleting template:",n),v({title:"Erreur",description:"Impossible de supprimer le template.",variant:"destructive"})}})(e.id),className:"h-8 w-8 p-0 hover:bg-red-50 text-red-600 hover:text-red-700",children:ee.jsx(Ex,{className:"h-4 w-4"})})]})]})]})})]},e.id);var n})}),ee.jsx(w9,{open:o,onOpenChange:s,children:ee.jsxs(k9,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[ee.jsx(S9,{children:ee.jsxs(O9,{className:"flex items-center gap-2",children:[ee.jsx(Gy,{className:"h-5 w-5"}),p?"Modifier le template":"Créer un nouveau template"]})}),ee.jsxs(fE,{defaultValue:"general",className:"w-full",children:[ee.jsxs(hE,{className:"grid w-full grid-cols-3",children:[ee.jsx(pE,{value:"general",children:"Général"}),ee.jsx(pE,{value:"content",children:"Contenu"}),ee.jsx(pE,{value:"preview",children:"Aperçu"})]}),ee.jsxs(mE,{value:"general",className:"space-y-4 mt-6",children:[ee.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"template-name",children:"Nom du template"}),ee.jsx(F7,{id:"template-name",value:g.nom,onChange:e=>y({...g,nom:e.target.value}),placeholder:"Ex: Email de prospection seniors"})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"template-category",children:"Catégorie"}),ee.jsxs(FC,{value:g.categorie,onValueChange:e=>y({...g,categorie:e}),children:[ee.jsx(BC,{children:ee.jsx(zC,{})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"prospection",children:"Prospection"}),ee.jsx(qC,{value:"relance",children:"Relance"}),ee.jsx(qC,{value:"onboarding",children:"Onboarding"}),ee.jsx(qC,{value:"newsletter",children:"Newsletter"}),ee.jsx(qC,{value:"promotion",children:"Promotion"})]})]})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"template-subject",children:"Sujet de l'email"}),ee.jsx(F7,{id:"template-subject",value:g.sujet,onChange:e=>y({...g,sujet:e.target.value}),placeholder:"Ex: {{nom_client}}, votre devis mutuelle seniors"})]})]}),ee.jsxs(mE,{value:"content",className:"space-y-4 mt-6",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"template-html",children:"Contenu HTML"}),ee.jsx(J9,{id:"template-html",value:g.contenu_html,onChange:e=>y({...g,contenu_html:e.target.value}),placeholder:"Contenu HTML avec variables {{nom_client}}, {{prenom}}, etc.",rows:12,className:"font-mono text-sm"})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"template-text",children:"Contenu Texte (optionnel)"}),ee.jsx(J9,{id:"template-text",value:g.contenu_texte,onChange:e=>y({...g,contenu_texte:e.target.value}),placeholder:"Version texte de l'email",rows:6,className:"font-mono text-sm"})]})]}),ee.jsx(mE,{value:"preview",className:"space-y-4 mt-6",children:ee.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 max-h-96 overflow-y-auto",children:[ee.jsx("h4",{className:"font-medium mb-3",children:"Aperçu du template :"}),ee.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:g.contenu_html.replace(/{{(\w+)}}/g,'<span class="bg-yellow-200 px-1 rounded">$1</span>')}})]})})]}),ee.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t",children:[ee.jsx(Lb,{variant:"outline",onClick:()=>{s(!1),b(),m(!1),h(null)},children:"Annuler"}),ee.jsxs(Lb,{onClick:async()=>{try{if(p&&f){const{error:e}=await Pv.from("email_templates").update(g).eq("id",f.id);if(e)throw e;v({title:"Template modifié",description:"Le template a été modifié avec succès."})}else{const{error:e}=await Pv.from("email_templates").insert([g]);if(e)throw e;v({title:"Template créé",description:"Le nouveau template a été créé avec succès."})}s(!1),m(!1),h(null),b(),t()}catch(e){console.error("Error saving template:",e),v({title:"Erreur",description:"Impossible de sauvegarder le template.",variant:"destructive"})}},children:[p?"Modifier":"Créer"," le template"]})]})]})}),ee.jsx(w9,{open:l,onOpenChange:c,children:ee.jsxs(k9,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[ee.jsx(S9,{children:ee.jsxs(O9,{children:["Aperçu - ",null==f?void 0:f.nom]})}),f&&ee.jsxs("div",{className:"space-y-4",children:[ee.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[ee.jsxs("div",{children:[ee.jsx("strong",{children:"Sujet:"})," ",f.sujet]}),ee.jsxs("div",{children:[ee.jsx("strong",{children:"Catégorie:"})," ",f.categorie]})]}),ee.jsx("div",{className:"border rounded-lg p-4 bg-white max-h-96 overflow-y-auto",children:ee.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:f.contenu_html.replace(/{{(\w+)}}/g,'<span class="bg-yellow-200 px-1 rounded font-semibold">$1</span>')}})})]})]})})]})}function Cee(){const{user:e,loading:t}=Av(),n=ef(),[r,a]=q.useState([]);if(q.useEffect(()=>{e&&i()},[e]),t)return null;if(!e)return n("/login"),null;const i=async()=>{try{const{data:e}=await Pv.from("email_templates").select("*").order("created_at",{ascending:!1});a(e||[])}catch(e){console.error("Error loading email templates data:",e)}};return ee.jsx(zb,{title:"Templates Email",children:ee.jsx(Eee,{templates:r,onTemplateUpdate:i})})}function Pee({user:e,onSettingsUpdate:t}){var n;const{toast:r}=Uv(),[a,i]=q.useState(""),[o,s]=q.useState(!1),[l,c]=q.useState(null);return ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{children:[ee.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center space-x-2",children:[ee.jsx(jx,{className:"w-6 h-6"}),ee.jsx("span",{children:"Paramètres du Système"})]}),ee.jsx("p",{className:"text-muted-foreground",children:"Configuration et tests du CRM"})]}),ee.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(Tx,{className:"w-5 h-5"}),ee.jsx("span",{children:"Informations Utilisateur"})]})}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm text-muted-foreground",children:"Email"}),ee.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[ee.jsx(sx,{className:"w-4 h-4 text-muted-foreground"}),ee.jsx("span",{className:"font-medium",children:e.email}),ee.jsx(D7,{variant:"secondary",className:"rounded-full",children:"Vérifié"})]})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm text-muted-foreground",children:"Nom complet"}),ee.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[ee.jsx(Tx,{className:"w-4 h-4 text-muted-foreground"}),ee.jsx("span",{className:"font-medium",children:(null==(n=e.user_metadata)?void 0:n.full_name)||"Non renseigné"})]})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm text-muted-foreground",children:"ID Utilisateur"}),ee.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[ee.jsx(wx,{className:"w-4 h-4 text-muted-foreground"}),ee.jsxs("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:[e.id.substring(0,8),"..."]})]})]})]})]}),ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(Ox,{className:"w-5 h-5"}),ee.jsx("span",{children:"Test SMTP Brevo"})]})}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{htmlFor:"testEmail",className:"text-sm font-medium",children:"Email de test"}),ee.jsx(F7,{id:"testEmail",type:"email",placeholder:"votre@email.com",value:a,onChange:e=>i(e.target.value),className:"mt-1 rounded-xl",disabled:o}),ee.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Un email de test sera envoyé via l'API Brevo (smtp-relay.brevo.com)"})]}),ee.jsx(Lb,{onClick:async()=>{if(!a)return void r({title:"Email requis",description:"Veuillez saisir une adresse email de test",variant:"destructive"});if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){s(!0),c(null);try{const{data:e,error:t}=await Pv.functions.invoke("test-smtp",{body:{testEmail:a}});if(t)throw new Error(t.message);if(!(null==e?void 0:e.success))throw new Error((null==e?void 0:e.error)||"Erreur inconnue lors du test");c({success:!0,message:`Email de test envoyé avec succès à ${a}. Vérifiez votre boîte de réception.`}),r({title:"Test SMTP réussi ✅",description:`Email de test envoyé à ${a} via Brevo`})}catch(e){console.error("❌ Erreur test SMTP:",e),c({success:!1,message:`Échec du test SMTP: ${e.message}`}),r({title:"Erreur test SMTP ❌",description:e.message,variant:"destructive"})}finally{s(!1)}}else r({title:"Email invalide",description:"Veuillez saisir une adresse email valide",variant:"destructive"})},disabled:o||!a,className:"w-full rounded-xl",children:o?ee.jsxs(ee.Fragment,{children:[ee.jsx(ax,{className:"w-4 h-4 mr-2 animate-spin"}),"Test en cours..."]}):ee.jsxs(ee.Fragment,{children:[ee.jsx(sx,{className:"w-4 h-4 mr-2"}),"Envoyer email de test"]})}),l&&ee.jsxs("div",{className:"p-3 rounded-xl border "+(l.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"),children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[l.success?ee.jsx(Ly,{className:"w-4 h-4 text-green-600"}):ee.jsx(zy,{className:"w-4 h-4 text-red-600"}),ee.jsx("span",{className:"text-sm font-medium",children:l.success?"Test réussi":"Test échoué"})]}),ee.jsx("p",{className:"text-xs mt-1",children:l.message})]}),ee.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl",children:[ee.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center space-x-2",children:[ee.jsx(Ny,{className:"w-4 h-4"}),ee.jsx("span",{children:"Configuration Brevo Active"})]}),ee.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[ee.jsx("div",{children:"• Serveur SMTP: smtp-relay.brevo.com:587"}),ee.jsx("div",{children:"• Connexion: 694946002@smtp-brevo.com"}),ee.jsx("div",{children:"• Expéditeur: info@premunia.com"}),ee.jsx("div",{children:"• Limite journalière: 250 emails"}),ee.jsx("div",{children:"• Suivi: Ouvertures et clics trackés"}),ee.jsx("div",{children:"• API: Intégration Brevo REST API"})]})]})]})]})]}),ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(Ny,{className:"w-5 h-5"}),ee.jsx("span",{children:"Statistiques Email"})]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[ee.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[ee.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"98%"}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Taux de livraison"}),ee.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"Via Brevo"})]}),ee.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[ee.jsx("div",{className:"text-2xl font-bold text-green-600",children:"24%"}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Taux d'ouverture"}),ee.jsx("p",{className:"text-xs text-green-500 mt-1",children:"Marketing"})]}),ee.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[ee.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"3.2%"}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:"Taux de clic"}),ee.jsx("p",{className:"text-xs text-purple-500 mt-1",children:"Engagement"})]})]})})]})]})}function Tee(){const{user:e,loading:t}=Av(),n=ef();return t?null:e?ee.jsx(zb,{title:"Paramètres",children:ee.jsx(Pee,{user:e,onSettingsUpdate:()=>{}})}):(n("/login"),null)}function Aee(){const[e,t]=q.useState(""),[n,r]=q.useState(""),[a,i]=q.useState(!1),[o,s]=q.useState(""),l=ef();return ee.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:ee.jsxs(vE,{className:"w-full max-w-md",children:[ee.jsxs(gE,{className:"text-center",children:[ee.jsx(yE,{className:"text-2xl font-bold",children:"Connexion"}),ee.jsx(xE,{children:"Connectez-vous à votre compte CRM"})]}),ee.jsxs(bE,{children:[ee.jsxs("form",{onSubmit:async t=>{t.preventDefault(),i(!0),s("");try{const{data:t,error:r}=await Pv.auth.signInWithPassword({email:e,password:n});r?s(r.message):t.user&&l("/")}catch(r){s("Une erreur est survenue lors de la connexion")}finally{i(!1)}},className:"space-y-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"email",children:"Email"}),ee.jsx(F7,{id:"email",type:"email",placeholder:"votre.email@exemple.com",value:e,onChange:e=>t(e.target.value),required:!0})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"password",children:"Mot de passe"}),ee.jsx(F7,{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),o&&ee.jsx(Nee,{variant:"destructive",children:ee.jsx(_ee,{children:o})}),ee.jsx(Lb,{type:"submit",className:"w-full",disabled:a,children:a?"Connexion...":"Se connecter"})]}),ee.jsxs("div",{className:"mt-4 text-center text-sm",children:["Pas encore de compte ?"," ",ee.jsx(zf,{to:"/signup",className:"text-primary hover:underline",children:"S'inscrire"})]})]})]})})}function Mee(){const[e,t]=q.useState(""),[n,r]=q.useState(""),[a,i]=q.useState(""),[o,s]=q.useState(!1),[l,c]=q.useState(""),u=ef();return ee.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:ee.jsxs(vE,{className:"w-full max-w-md",children:[ee.jsxs(gE,{className:"text-center",children:[ee.jsx(yE,{className:"text-2xl font-bold",children:"Inscription"}),ee.jsx(xE,{children:"Créez votre compte CRM"})]}),ee.jsxs(bE,{children:[ee.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),s(!0),c(""),n!==a)return c("Les mots de passe ne correspondent pas"),void s(!1);try{const{data:t,error:r}=await Pv.auth.signUp({email:e,password:n});r?c(r.message):t.user&&(c("Compte créé avec succès ! Vérifiez votre email pour confirmer votre compte."),setTimeout(()=>u("/login"),3e3))}catch(r){c("Une erreur est survenue lors de l'inscription")}finally{s(!1)}},className:"space-y-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"email",children:"Email"}),ee.jsx(F7,{id:"email",type:"email",placeholder:"votre.email@exemple.com",value:e,onChange:e=>t(e.target.value),required:!0})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"password",children:"Mot de passe"}),ee.jsx(F7,{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0,minLength:6})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),ee.jsx(F7,{id:"confirmPassword",type:"password",value:a,onChange:e=>i(e.target.value),required:!0,minLength:6})]}),l&&ee.jsx(Nee,{variant:l.includes("succès")?"default":"destructive",children:ee.jsx(_ee,{children:l})}),ee.jsx(Lb,{type:"submit",className:"w-full",disabled:o,children:o?"Création...":"Créer un compte"})]}),ee.jsxs("div",{className:"mt-4 text-center text-sm",children:["Déjà un compte ?"," ",ee.jsx(zf,{to:"/login",className:"text-primary hover:underline",children:"Se connecter"})]})]})]})})}var Dee={exports:{}},Iee={},Ree=q;var Lee="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fee=Ree.useState,zee=Ree.useEffect,Bee=Ree.useLayoutEffect,$ee=Ree.useDebugValue;function Uee(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lee(e,n)}catch(r){return!0}}var Wee="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=Fee({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return Bee(function(){a.value=n,a.getSnapshot=t,Uee(a)&&i({inst:a})},[e,n,t]),zee(function(){return Uee(a)&&i({inst:a}),e(function(){Uee(a)&&i({inst:a})})},[e]),$ee(n),n};Iee.useSyncExternalStore=void 0!==Ree.useSyncExternalStore?Ree.useSyncExternalStore:Wee,Dee.exports=Iee;var qee=Dee.exports;function Vee(){return()=>{}}var Hee="Avatar",[Kee,Gee]=Kv(Hee),[Yee,Xee]=Kee(Hee),Jee=q.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,i]=q.useState("idle");return ee.jsx(Yee,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:ee.jsx(tg.span,{...r,ref:t})})});Jee.displayName=Hee;var Qee="AvatarImage",Zee=q.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=Xee(Qee,n),s=function(e,{referrerPolicy:t,crossOrigin:n}){const r=qee.useSyncExternalStore(Vee,()=>!0,()=>!1),a=q.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,s]=q.useState(()=>nte(i,e));return mg(()=>{s(nte(i,e))},[i,e]),mg(()=>{const e=e=>()=>{s(e)};if(!i)return;const r=e("loaded"),a=e("error");return i.addEventListener("load",r),i.addEventListener("error",a),t&&(i.referrerPolicy=t),"string"==typeof n&&(i.crossOrigin=n),()=>{i.removeEventListener("load",r),i.removeEventListener("error",a)}},[i,n,t]),o}(r,i),l=rg(e=>{a(e),o.onImageLoadingStatusChange(e)});return mg(()=>{"idle"!==s&&l(s)},[s,l]),"loaded"===s?ee.jsx(tg.img,{...i,ref:t,src:r}):null});Zee.displayName=Qee;var ete="AvatarFallback",tte=q.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=Xee(ete,n),[o,s]=q.useState(void 0===r);return q.useEffect(()=>{if(void 0!==r){const e=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&"loaded"!==i.imageLoadingStatus?ee.jsx(tg.span,{...a,ref:t}):null});function nte(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}tte.displayName=ete;var rte=Jee,ate=Zee,ite=tte;const ote=q.forwardRef(({className:e,...t},n)=>ee.jsx(rte,{ref:n,className:Ob("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ote.displayName=rte.displayName;const ste=q.forwardRef(({className:e,...t},n)=>ee.jsx(ate,{ref:n,className:Ob("aspect-square h-full w-full",e),...t}));ste.displayName=ate.displayName;const lte=q.forwardRef(({className:e,...t},n)=>ee.jsx(ite,{ref:n,className:Ob("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));function cte({projectId:e,contactId:t,contactEmail:n,contactName:r,mode:a="individual",onEmailSent:i}){const[o,s]=q.useState(!1),[l,c]=q.useState([]),[u,d]=q.useState(""),[f,h]=q.useState({to:n||"",subject:"",html:"",text:""}),[p,m]=q.useState(!1),[v,g]=q.useState(!1),{toast:y}=Uv(),x=e=>e.replace(/\{prenom\}/g,(null==r?void 0:r.split(" ")[0])||"").replace(/\{nom\}/g,(null==r?void 0:r.split(" ").slice(1).join(" "))||"").replace(/\{civilite\}/g,"Monsieur/Madame").replace(/\{email\}/g,n||"");return ee.jsxs(ee.Fragment,{children:[ee.jsxs(Lb,{onClick:()=>{s(!0),(async()=>{if(!v)try{const{data:e,error:t}=await Pv.from("email_templates").select("id, nom, sujet, contenu_html").eq("statut","actif").order("nom");if(t)throw t;c(e||[]),g(!0)}catch(e){console.error("Error loading templates:",e),y({title:"Erreur",description:"Impossible de charger les templates email",variant:"destructive"})}})()},className:"flex items-center space-x-2",variant:"individual"===a?"outline":"default",children:["individual"===a?ee.jsx(sx,{className:"w-4 h-4"}):ee.jsx(Ax,{className:"w-4 h-4"}),ee.jsx("span",{children:"individual"===a?"Envoyer Email":"Campagne Email"})]}),ee.jsx(w9,{open:o,onOpenChange:s,children:ee.jsxs(k9,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[ee.jsx(S9,{children:ee.jsxs(O9,{className:"flex items-center space-x-2",children:["individual"===a?ee.jsx(Tx,{className:"w-5 h-5"}):ee.jsx(Ax,{className:"w-5 h-5"}),ee.jsx("span",{children:"individual"===a?"Envoyer Email Individuel":"Créer Campagne Email"})]})}),ee.jsxs("div",{className:"space-y-6",children:["individual"===a&&ee.jsxs(vE,{children:[ee.jsx(gE,{className:"pb-3",children:ee.jsx(yE,{className:"text-sm",children:"Destinataire"})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"flex items-center space-x-4",children:[ee.jsx(D7,{variant:"outline",children:r||"Contact"}),ee.jsx(D7,{variant:"secondary",children:n})]})})]}),ee.jsxs("div",{className:"space-y-3",children:[ee.jsx(X9,{htmlFor:"template",children:"Template Email (optionnel)"}),ee.jsxs(FC,{value:u,onValueChange:e=>{const t=l.find(t=>t.id.toString()===e);t&&h({...f,subject:t.sujet,html:t.contenu_html,text:t.contenu_html.replace(/<[^>]*>/g,"")}),d(e)},children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Choisir un template ou créer un email personnalisé"})}),ee.jsx(WC,{children:l.map(e=>ee.jsxs(qC,{value:e.id.toString(),children:[e.nom," - ",e.sujet]},e.id))})]})]}),ee.jsxs("div",{className:"grid grid-cols-1 gap-4",children:["campaign"===a&&ee.jsxs("div",{children:[ee.jsx(X9,{htmlFor:"to",children:"Email Destinataire"}),ee.jsx(F7,{id:"to",type:"email",placeholder:"email@example.com",value:f.to,onChange:e=>h({...f,to:e.target.value})})]}),ee.jsxs("div",{children:[ee.jsx(X9,{htmlFor:"subject",children:"Sujet *"}),ee.jsx(F7,{id:"subject",value:f.subject,onChange:e=>h({...f,subject:e.target.value}),placeholder:"Sujet de votre email..."})]}),ee.jsxs("div",{children:[ee.jsx(X9,{htmlFor:"html",children:"Contenu HTML *"}),ee.jsx(J9,{id:"html",rows:12,value:f.html,onChange:e=>h({...f,html:e.target.value}),placeholder:"Contenu HTML de votre email...",className:"font-mono text-sm"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{htmlFor:"text",children:"Contenu Texte (optionnel)"}),ee.jsx(J9,{id:"text",rows:4,value:f.text,onChange:e=>h({...f,text:e.target.value}),placeholder:"Version texte (générée automatiquement si vide)"})]})]}),ee.jsx(vE,{className:"bg-blue-50 dark:bg-blue-950",children:ee.jsxs(bE,{className:"pt-4",children:[ee.jsx("h4",{className:"font-medium mb-2",children:"Variables disponibles :"}),ee.jsxs("div",{className:"text-sm text-muted-foreground space-x-4",children:[ee.jsx("code",{children:"{prenom}"}),ee.jsx("code",{children:"{nom}"}),ee.jsx("code",{children:"{civilite}"}),ee.jsx("code",{children:"{email}"})]})]})}),ee.jsxs("div",{className:"flex justify-end space-x-3",children:[ee.jsx(Lb,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),ee.jsx(Lb,{onClick:async()=>{if(f.to&&f.subject&&f.html){m(!0);try{const n={to:f.to,subject:x(f.subject),html:x(f.html),text:x(f.text||f.html.replace(/<[^>]*>/g,""))},{data:r,error:a}=await Pv.functions.invoke("send-email",{body:n});if(a)throw a;if(!(null==r?void 0:r.success))throw new Error((null==r?void 0:r.error)||"Erreur d'envoi");(e||t)&&await Pv.from("email_history").insert({project_id:e,contact_id:t,destinataire:f.to,sujet:n.subject,status:"sent",message_id:r.messageId,sent_at:(new Date).toISOString()}),y({title:"Email envoyé !",description:`Email envoyé avec succès à ${f.to}`}),s(!1),null==i||i()}catch(n){console.error("❌ Erreur envoi email:",n),y({title:"Erreur d'envoi",description:n.message||"Impossible d'envoyer l'email",variant:"destructive"})}finally{m(!1)}}else y({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"})},disabled:p||!f.subject||!f.html,className:"flex items-center space-x-2",children:p?ee.jsxs(ee.Fragment,{children:[ee.jsx("span",{className:"animate-spin",children:"⏳"}),ee.jsx("span",{children:"Envoi..."})]}):ee.jsxs(ee.Fragment,{children:[ee.jsx(bx,{className:"w-4 h-4"}),ee.jsx("span",{children:"Envoyer Email"})]})})]})]})]})})]})}function ute({projectId:e}){var t,n,r,a;const[i,o]=q.useState(null),[s,l]=q.useState([]),[c,u]=q.useState(!0);q.useEffect(()=>{d(),f()},[e]);const d=async()=>{try{const{data:t,error:n}=await Pv.from("projets").select("\n          *,\n          contact:contact_id (\n            identifiant,\n            prenom,\n            nom,\n            email,\n            civilite\n          )\n        ").eq("projet_id",e).single();if(n)throw n;o(t)}catch(t){console.error("Error loading project:",t)}finally{u(!1)}},f=async()=>{try{const{data:t,error:n}=await Pv.from("email_history").select("*").eq("project_id",e).order("sent_at",{ascending:!1}).limit(10);if(n)throw n;l(t||[])}catch(t){console.error("Error loading email history:",t)}},h=e=>{switch(e){case"sent":return ee.jsx(D7,{className:"bg-green-100 text-green-800",children:"Envoyé"});case"opened":return ee.jsx(D7,{className:"bg-blue-100 text-blue-800",children:"Ouvert"});case"clicked":return ee.jsx(D7,{className:"bg-purple-100 text-purple-800",children:"Cliqué"});case"failed":return ee.jsx(D7,{className:"bg-red-100 text-red-800",children:"Échec"});default:return ee.jsx(D7,{variant:"outline",children:e})}};return c?ee.jsx("div",{className:"flex justify-center p-8",children:"Chargement..."}):i?ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(sx,{className:"w-5 h-5"}),ee.jsx("span",{children:"Communication Email"})]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-medium mb-3",children:"Contact Principal"}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsxs("span",{className:"font-medium",children:[null==(t=i.contact)?void 0:t.prenom," ",null==(n=i.contact)?void 0:n.nom]}),ee.jsx(D7,{variant:"outline",children:i.statut})]}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:["📧 ",(null==(r=i.contact)?void 0:r.email)||"Aucun email"]}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:["📅 Créé le ",new Date(i.date_creation||i.created_at).toLocaleDateString("fr-FR")]})]})]}),ee.jsx("div",{className:"flex flex-col justify-center",children:(null==(a=i.contact)?void 0:a.email)?ee.jsx(cte,{projectId:e,contactId:i.contact.identifiant,contactEmail:i.contact.email,contactName:`${i.contact.prenom} ${i.contact.nom}`,mode:"individual",onEmailSent:f}):ee.jsx("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:ee.jsx("p",{className:"text-orange-600",children:"Aucun email disponible pour ce contact"})})})]})})]}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx(ex,{className:"w-5 h-5"}),ee.jsx("span",{children:"Historique des Emails"}),ee.jsx(D7,{variant:"outline",children:s.length})]})}),ee.jsx(bE,{children:0===s.length?ee.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[ee.jsx(sx,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),ee.jsx("p",{children:"Aucun email envoyé pour ce projet"})]}):ee.jsx("div",{className:"space-y-3",children:s.map(e=>ee.jsxs("div",{className:"p-4 border rounded-lg",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-2",children:[ee.jsx("div",{className:"font-medium truncate",children:e.sujet}),h(e.status)]}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:[ee.jsxs("div",{className:"flex items-center space-x-4",children:[ee.jsxs("span",{children:["📧 ",e.destinataire]}),ee.jsxs("span",{className:"flex items-center space-x-1",children:[ee.jsx(By,{className:"w-3 h-3"}),ee.jsx("span",{children:new Date(e.sent_at).toLocaleString("fr-FR")})]})]}),e.opened_at&&ee.jsxs("div",{className:"mt-1 text-blue-600",children:["👁 Ouvert le ",new Date(e.opened_at).toLocaleString("fr-FR")]}),e.clicked_at&&ee.jsxs("div",{className:"mt-1 text-purple-600",children:["🖱 Cliqué le ",new Date(e.clicked_at).toLocaleString("fr-FR")]})]})]},e.id))})})]})]}):ee.jsx("div",{className:"text-center p-8",children:"Projet non trouvé"})}lte.displayName=ite.displayName;const dte=({projectId:e})=>{const[t,n]=q.useState([]),[r,a]=q.useState(!0),[i,o]=q.useState(!1),[s,l]=q.useState({total:0,delivre:0,ouvert:0,clic:0,openRate:0,clickRate:0});q.useEffect(()=>{c()},[e]);const c=async()=>{try{const{data:t,error:r}=await Pv.from("envois_email").select("\n          id,\n          email_destinataire,\n          statut,\n          date_envoi,\n          date_ouverture,\n          date_clic,\n          contact_id,\n          campagne_id\n        ").eq("projet_id",e).in("statut",["envoye","delivre"]).not("date_envoi","is",null).order("date_envoi",{ascending:!1});if(r)throw r;n([]);const a=t.length,i=t.filter(e=>"delivre"===e.statut).length,o=(t.filter(e=>"envoye"===e.statut).length,t.filter(e=>"ouvert"===e.statut).length),s=t.filter(e=>"clic"===e.statut).length;if(l({total:a,delivre:i,ouvert:o,clic:s,openRate:i>0?o/i*100:0,clickRate:i>0?s/i*100:0}),t.length>0){const e=t.map(e=>({id:e.id,destinataire:e.destinataire,statut:e.statut,date_envoi:e.date_envoi,date_ouverture:e.date_ouverture,date_clic:e.date_clic,contact_nom:"",contact_prenom:"",campagne_nom:""}));n(e)}}catch(t){console.error("Erreur lors de la récupération de l'historique:",t)}finally{a(!1)}},u=e=>{switch(e){case"envoye":return ee.jsx(bx,{className:"h-4 w-4 text-blue-500"});case"delivre":return ee.jsx(sx,{className:"h-4 w-4 text-green-500"});case"ouvert":return ee.jsx(Hy,{className:"h-4 w-4 text-yellow-500"});case"clic":return ee.jsx(fx,{className:"h-4 w-4 text-purple-500"});case"bounce":return ee.jsx(Ry,{className:"h-4 w-4 text-red-500"});default:return ee.jsx(sx,{className:"h-4 w-4 text-gray-500"})}},d=e=>{switch(e){case"envoye":return"bg-blue-100 text-blue-800";case"delivre":return"bg-green-100 text-green-800";case"ouvert":return"bg-yellow-100 text-yellow-800";case"clic":return"bg-purple-100 text-purple-800";case"bounce":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=e=>e?new Date(e).toLocaleString("fr-FR"):"N/A";return r?ee.jsx(vE,{children:ee.jsx(bE,{className:"flex items-center justify-center py-8",children:ee.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):ee.jsxs("div",{className:"space-y-4",children:[ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center justify-between",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx("span",{children:"📧 Suivi des Emails"}),ee.jsxs(D7,{variant:"outline",className:"text-xs",children:[s.total," emails"]})]}),ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>o(!i),children:[i?ee.jsx(Iy,{className:"h-4 w-4"}):ee.jsx(Ay,{className:"h-4 w-4"}),i?"Masquer":"Afficher"]})]})}),ee.jsxs(bE,{children:[ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[ee.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.total}),ee.jsx("div",{className:"text-sm text-blue-700",children:"Emails envoyés"}),ee.jsx("div",{className:"text-xs text-blue-600",children:"Total traités"})]}),ee.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.delivre}),ee.jsx("div",{className:"text-sm text-green-700",children:"Délivrés"}),ee.jsx("div",{className:"text-xs text-green-600",children:"Reçus par destinataire"})]}),ee.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.ouvert}),ee.jsx("div",{className:"text-sm text-yellow-700",children:"Ouverts"}),ee.jsx("div",{className:"text-xs text-yellow-600",children:"Consultés par destinataire"})]}),ee.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[ee.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.clic}),ee.jsx("div",{className:"text-sm text-purple-700",children:"Clics"}),ee.jsx("div",{className:"text-xs text-purple-600",children:"Liens cliqués"})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between text-sm",children:[ee.jsx("span",{children:"Taux d'ouverture:"}),ee.jsxs("span",{className:"font-medium",children:[s.openRate.toFixed(1),"%"]})]}),ee.jsx(q9,{value:s.openRate,className:"h-2"}),ee.jsxs("div",{className:"flex justify-between text-sm",children:[ee.jsx("span",{children:"Taux de clic:"}),ee.jsxs("span",{className:"font-medium",children:[s.clickRate.toFixed(1),"%"]})]}),ee.jsx(q9,{value:s.clickRate,className:"h-2"})]})]})]}),i&&ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center space-x-2",children:[ee.jsx("span",{children:"Détail des Emails Envoyés"}),ee.jsx(D7,{variant:"secondary",className:"text-xs",children:"Tri chronologique ↓"})]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[t.map((e,t)=>ee.jsxs("div",{className:"border rounded-lg p-3 bg-white hover:bg-gray-50 transition-colors",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ee.jsxs("div",{className:"flex items-center gap-3",children:[ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-sm font-bold text-blue-600",children:t+1}),u(e.statut),ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium text-gray-900",children:e.destinataire}),e.contact_prenom&&e.contact_nom&&ee.jsxs("div",{className:"text-sm text-gray-600",children:[e.contact_prenom," ",e.contact_nom]})]})]}),ee.jsx(D7,{className:d(e.statut),children:e.statut})]}),ee.jsxs("div",{className:"text-right",children:[ee.jsx("div",{className:"text-sm font-medium text-gray-900",children:f(e.date_envoi)}),ee.jsx("div",{className:"text-xs text-gray-500",children:"Envoyé"})]})]}),e.campagne_nom&&ee.jsx("div",{className:"mb-3",children:ee.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:["📧 Campagne: ",e.campagne_nom]})}),ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-3 text-sm",children:[ee.jsx("div",{className:"p-2 rounded "+(e.date_ouverture?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"),children:ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx(Hy,{className:"h-4 w-4 "+(e.date_ouverture?"text-green-600":"text-gray-400")}),ee.jsx("span",{className:e.date_ouverture?"text-green-700":"text-gray-500",children:e.date_ouverture?f(e.date_ouverture):"Non ouvert"})]})}),ee.jsx("div",{className:"p-2 rounded "+(e.date_clic?"bg-purple-50 border border-purple-200":"bg-gray-50 border border-gray-200"),children:ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx(fx,{className:"h-4 w-4 "+(e.date_clic?"text-purple-600":"text-gray-400")}),ee.jsx("span",{className:e.date_clic?"text-purple-700":"text-gray-500",children:e.date_clic?f(e.date_clic):"Non cliqué"})]})})]})]},e.id)),0===t.length&&ee.jsxs("div",{className:"text-center py-8 text-gray-500",children:[ee.jsx(sx,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),ee.jsx("p",{children:"Aucun email trouvé pour ce projet"})]})]})})]})]})};function fte(){var e,t,n,r,a;const{id:i}=function(){let{matches:e}=q.useContext(Gd),t=e[e.length-1];return t?t.params:{}}(),o=ef(),[s,l]=q.useState(null),[c,u]=q.useState(!0);q.useEffect(()=>{i&&d(i)},[i]);const d=async e=>{try{u(!0);const{data:t,error:n}=await Pv.from("projets").select("*, contact:contact_id(*)").eq("projet_id",e).single();if(n)return console.error("Error fetching project:",n),void o("/projects");const{data:r,error:a}=await Pv.from("contrats").select("*").eq("projet_id",e).maybeSingle(),{data:i,error:s}=await Pv.from("interactions").select("*").eq("contact_id",t.contact_id).order("created_at",{ascending:!1});l({projet:t,contact:t.contact,contrat:r,interactions:i||[]})}catch(t){console.error("Error loading project data:",t),o("/projects")}finally{u(!1)}},f=e=>{const t=null==e?void 0:e.toLowerCase();switch(!0){case null==t?void 0:t.includes("contrat enregistré"):return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case null==t?void 0:t.includes("devis envoyé"):return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case(null==t?void 0:t.includes("en cours"))||(null==t?void 0:t.includes("projet à traiter")):return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case(null==t?void 0:t.includes("perdu"))||(null==t?void 0:t.includes("inexploitable")):return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case(null==t?void 0:t.includes("ne repond pas"))||(null==t?void 0:t.includes("ne répond pas")):return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}},h=e=>{const t=null==e?void 0:e.toLowerCase();switch(!0){case null==t?void 0:t.includes("nouveau"):return 20;case(null==t?void 0:t.includes("projet à traiter"))||(null==t?void 0:t.includes("en cours")):return 40;case null==t?void 0:t.includes("devis envoyé"):return 70;case null==t?void 0:t.includes("contrat enregistré"):return 100;default:return 10}};if(c)return ee.jsx(zb,{title:"Chargement...",children:ee.jsx("div",{className:"flex justify-center items-center p-8",children:ee.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});if(!s)return ee.jsx(zb,{title:"Projet non trouvé",children:ee.jsxs("div",{className:"text-center p-8",children:[ee.jsx(Ry,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),ee.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Projet non trouvé"}),ee.jsx("p",{className:"text-muted-foreground mb-4",children:"Ce projet n'existe pas ou a été supprimé."}),ee.jsxs(Lb,{onClick:()=>o("/projects"),children:[ee.jsx(by,{className:"w-4 h-4 mr-2"}),"Retour aux projets"]})]})});const{projet:p,contact:m,contrat:v,interactions:g}=s;return ee.jsx(zb,{title:`Projet #${p.projet_id}`,children:ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs(Lb,{variant:"ghost",onClick:()=>o("/projects"),className:"flex items-center space-x-2 rounded-xl",children:[ee.jsx(by,{className:"w-4 h-4"}),ee.jsx("span",{children:"Retour aux projets"})]}),ee.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-blue-600/10 rounded-2xl p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ee.jsxs("div",{className:"flex items-center space-x-4",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-blue-600 rounded-2xl flex items-center justify-center",children:ee.jsx(Gy,{className:"w-8 h-8 text-white"})}),ee.jsxs("div",{children:[ee.jsxs("h1",{className:"text-3xl font-bold",children:["Projet #",p.projet_id]}),ee.jsx("p",{className:"text-muted-foreground text-lg",children:p.type})]})]}),ee.jsx(D7,{className:`px-4 py-2 text-sm font-medium rounded-full ${f(p.statut??"")}`,children:p.statut})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between text-sm",children:[ee.jsx("span",{className:"text-muted-foreground",children:"Progression du projet"}),ee.jsxs("span",{className:"font-medium",children:[h(p.statut??""),"%"]})]}),ee.jsx(q9,{value:h(p.statut??""),className:"h-3"})]})]}),ee.jsxs(fE,{defaultValue:"resume",className:"w-full",children:[ee.jsxs(hE,{className:"grid w-full grid-cols-5 mb-8 rounded-2xl",children:[ee.jsxs(pE,{value:"resume",className:"flex items-center space-x-2 rounded-xl",children:[ee.jsx(Gy,{className:"w-4 h-4"}),ee.jsx("span",{children:"Résumé"})]}),ee.jsxs(pE,{value:"contact",className:"flex items-center space-x-2 rounded-xl",children:[ee.jsx(Tx,{className:"w-4 h-4"}),ee.jsx("span",{children:"Contact"})]}),ee.jsxs(pE,{value:"contrat",className:"flex items-center space-x-2 rounded-xl",children:[ee.jsx(ky,{className:"w-4 h-4"}),ee.jsx("span",{children:"Contrat"})]}),ee.jsxs(pE,{value:"communications",className:"flex items-center space-x-2 rounded-xl",children:[ee.jsx(ux,{className:"w-4 h-4"}),ee.jsxs("span",{children:["Communications (",g.length,")"]})]}),ee.jsxs(pE,{value:"tracking",className:"flex items-center space-x-2 rounded-xl",children:[ee.jsx(sx,{className:"w-4 h-4"}),ee.jsx("span",{children:"📧 Suivi Email"})]})]}),ee.jsx(mE,{value:"resume",className:"space-y-6",children:ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx(Gy,{className:"w-5 h-5 mr-2"}),"Informations Projet"]})}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Projet"}),ee.jsx("p",{className:"font-semibold text-lg",children:p.projet_id})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),ee.jsx("p",{className:"font-semibold",children:p.type})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Origine"}),ee.jsx(D7,{variant:"outline",className:"rounded-full",children:p.origine})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Commercial"}),ee.jsx("p",{className:"font-semibold",children:p.commercial})]})]}),p.notes&&ee.jsxs("div",{className:"pt-4 border-t",children:[ee.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Commentaire"}),ee.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-xl",children:p.notes})]})]})]}),ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx(Ey,{className:"w-5 h-5 mr-2"}),"Chronologie"]})}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium",children:"Créé le"}),ee.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(p.date_creation??"").toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]})]}),p.commercial&&ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium",children:"Commercial assigné"}),ee.jsx("p",{className:"text-sm text-muted-foreground",children:p.commercial})]})]})]})]})]})}),ee.jsx(mE,{value:"contact",className:"space-y-6",children:m?ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs("div",{className:"flex items-center space-x-4",children:[ee.jsxs(ote,{className:"h-16 w-16",children:[ee.jsx(ste,{src:`https://api.dicebear.com/6.x/initials/svg?seed=${m.prenom} ${m.nom}`}),ee.jsxs(lte,{className:"text-xl",children:[null==(e=m.prenom)?void 0:e[0],null==(t=m.nom)?void 0:t[0]]})]}),ee.jsxs("div",{children:[ee.jsxs(yE,{className:"text-2xl",children:[m.prenom," ",m.nom]}),m.civilite&&ee.jsx("p",{className:"text-muted-foreground",children:m.civilite})]})]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ee.jsxs("div",{className:"space-y-4",children:[ee.jsxs("h3",{className:"font-semibold text-lg flex items-center",children:[ee.jsx(Tx,{className:"w-5 h-5 mr-2"}),"Informations Personnelles"]}),m.raison_sociale&&ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(ky,{className:"w-4 h-4 text-muted-foreground"}),ee.jsx("span",{className:"font-medium",children:m.raison_sociale})]}),m.siret&&ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx("span",{className:"text-sm text-muted-foreground",children:"SIRET:"}),ee.jsx("span",{className:"font-medium",children:m.siret})]})]}),ee.jsxs("div",{className:"space-y-4",children:[ee.jsx("h3",{className:"font-semibold text-lg",children:"Contact"}),m.email&&ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(sx,{className:"w-4 h-4 text-muted-foreground"}),ee.jsx("span",{children:m.email})]}),m.telephone&&ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(hx,{className:"w-4 h-4 text-muted-foreground"}),ee.jsx("span",{children:m.telephone})]}),(m.adresse||m.ville)&&ee.jsxs("div",{className:"flex items-start space-x-2",children:[ee.jsx(lx,{className:"w-4 h-4 text-muted-foreground mt-1"}),ee.jsxs("div",{children:[m.adresse&&ee.jsx("div",{children:m.adresse}),(m.code_postal||m.ville)&&ee.jsxs("div",{children:[m.code_postal," ",m.ville]})]})]})]})]})})]}):ee.jsx(vE,{className:"rounded-2xl border-0 shadow-md",children:ee.jsxs(bE,{className:"text-center py-12",children:[ee.jsx(Tx,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),ee.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun contact associé"}),ee.jsx("p",{className:"text-muted-foreground",children:"Ce projet n'a pas de contact associé."})]})})}),ee.jsx(mE,{value:"contrat",className:"space-y-6",children:v?ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx(ky,{className:"w-5 h-5 mr-2"}),"Informations Contrat"]})}),ee.jsx(bE,{className:"space-y-4",children:ee.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Statut"}),ee.jsx(D7,{className:f(v.contrat_statut||""),children:v.contrat_statut||"Non spécifié"})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Compagnie"}),ee.jsx("p",{className:"font-semibold",children:v.contrat_compagnie||"Non spécifiée"})]}),ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Produit"}),ee.jsx("p",{className:"font-semibold",children:v.contrat_produit||"Non spécifié"})]}),v.contrat_formule&&ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Formule"}),ee.jsx("p",{className:"font-semibold",children:v.contrat_formule})]})]})})]}),ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx(qy,{className:"w-5 h-5 mr-2"}),"Détails Financiers"]})}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-xl",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Prime Brute Annuelle"}),ee.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["€",(null==(n=v.prime_brute_annuelle)?void 0:n.toLocaleString())||"0"]})]}),ee.jsx(Cx,{className:"w-8 h-8 text-green-600"})]}),ee.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[ee.jsxs("div",{className:"p-3 bg-blue-50 rounded-xl",children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Prime Nette"}),ee.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["€",(null==(r=v.prime_nette_annuelle)?void 0:r.toLocaleString())||"0"]})]}),ee.jsxs("div",{className:"p-3 bg-purple-50 rounded-xl",children:[ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Commission"}),ee.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["€",(null==(a=v.commissionnement_annee1)?void 0:a.toLocaleString())||"0"]})]})]})]})]})]}):ee.jsx(vE,{className:"rounded-2xl border-0 shadow-md",children:ee.jsxs(bE,{className:"text-center py-12",children:[ee.jsx(ky,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),ee.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun contrat associé"}),ee.jsx("p",{className:"text-muted-foreground mb-4",children:"Ce projet n'a pas encore de contrat enregistré."}),ee.jsx(Lb,{variant:"outline",className:"rounded-xl",children:"Créer un contrat"})]})})}),ee.jsxs(mE,{value:"communications",className:"space-y-6",children:[ee.jsxs(vE,{className:"rounded-2xl border-0 shadow-md hover:shadow-lg transition-all duration-300",children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx(ux,{className:"w-5 h-5 mr-2"}),"Historique des Communications (",g.length,")"]})}),ee.jsx(bE,{children:g.length>0?ee.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:g.map(e=>ee.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted/30 rounded-xl",children:[ee.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-2",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(D7,{variant:"outline",className:"capitalize",children:e.type||"Communication"}),e.canal&&ee.jsx(D7,{variant:"secondary",className:"text-xs",children:e.canal})]}),ee.jsx("span",{className:"text-xs text-muted-foreground",children:e.created_at&&new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.sujet&&ee.jsx("h4",{className:"font-medium text-sm mb-1",children:e.sujet}),e.message&&ee.jsx("p",{className:"text-sm text-muted-foreground",children:e.message}),e.workflow_name&&ee.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[ee.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Workflow:"}),ee.jsx("span",{className:"text-xs text-blue-600",children:e.workflow_name})]})]})]},e.id))}):ee.jsxs("div",{className:"text-center py-8",children:[ee.jsx(ux,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),ee.jsx("p",{className:"text-muted-foreground",children:"Aucune communication pour ce projet"})]})})]}),ee.jsx(ute,{projectId:p.projet_id})]}),ee.jsx(mE,{value:"tracking",className:"space-y-6",children:ee.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6",children:[ee.jsxs("div",{className:"text-center mb-6",children:[ee.jsx(sx,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),ee.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Suivi Email"}),ee.jsx("p",{className:"text-gray-600",children:"Historique détaillé des emails pour ce projet"})]}),ee.jsx(dte,{projectId:p.projet_id})]})})]})]})})}function hte(){return ee.jsxs("div",{className:"p-8",children:[ee.jsxs("div",{className:"text-center mb-8",children:[ee.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"🎯 Module Lead Generation Intégré !"}),ee.jsx("p",{className:"text-lg text-gray-600",children:"Le module est maintenant visible dans votre CRM et prêt à l'utilisation"})]}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[ee.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200",children:[ee.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),ee.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Landing Pages"}),ee.jsx("p",{className:"text-blue-700 mb-4",children:"Créez des pages optimisées pour convertir vos visiteurs"}),ee.jsxs("div",{className:"space-y-2 text-sm text-blue-600",children:[ee.jsx("div",{children:"✅ 5 templates prédéfinis"}),ee.jsx("div",{children:"✅ Éditeur WYSIWYG"}),ee.jsx("div",{children:"✅ Tests A/B/n"}),ee.jsx("div",{children:"✅ Optimisation SEO"})]})]}),ee.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border border-green-200",children:[ee.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),ee.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"Formulaires"}),ee.jsx("p",{className:"text-green-700 mb-4",children:"Concevez des formulaires multi-étapes avec validation"}),ee.jsxs("div",{className:"space-y-2 text-sm text-green-600",children:[ee.jsx("div",{children:"✅ Logique conditionnelle"}),ee.jsx("div",{children:"✅ Validation en temps réel"}),ee.jsx("div",{children:"✅ Pré-remplissage JWT"}),ee.jsx("div",{children:"✅ Gestion RGPD"})]})]}),ee.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl border border-purple-200",children:[ee.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-.758l1.102-1.101a4 4 0 00-5.656-5.656l-4 4a4 4 0 105.656 5.656l1.102-1.101"})})}),ee.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Liens UTM/JWT"}),ee.jsx("p",{className:"text-purple-700 mb-4",children:"Créez des liens de tracking et de pré-remplissage"}),ee.jsxs("div",{className:"space-y-2 text-sm text-purple-600",children:[ee.jsx("div",{children:"✅ Générateur UTM"}),ee.jsx("div",{children:"✅ Liens JWT sécurisés"}),ee.jsx("div",{children:"✅ Tracking des performances"}),ee.jsx("div",{children:"✅ Gestion des campagnes"})]})]}),ee.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border border-orange-200",children:[ee.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),ee.jsx("h3",{className:"text-xl font-bold text-orange-900 mb-2",children:"Analytics"}),ee.jsx("p",{className:"text-orange-700 mb-4",children:"Suivez vos performances et optimisez vos campagnes"}),ee.jsxs("div",{className:"space-y-2 text-sm text-orange-600",children:[ee.jsx("div",{children:"✅ Tableau de bord temps réel"}),ee.jsx("div",{children:"✅ Attribution multi-touch"}),ee.jsx("div",{children:"✅ ROI par campagne"}),ee.jsx("div",{children:"✅ Rapports automatisés"})]})]}),ee.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border border-red-200",children:[ee.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),ee.jsx("h3",{className:"text-xl font-bold text-red-900 mb-2",children:"Intégrations"}),ee.jsx("p",{className:"text-red-700 mb-4",children:"Connectez vos plateformes publicitaires"}),ee.jsxs("div",{className:"space-y-2 text-sm text-red-600",children:[ee.jsx("div",{children:"✅ Meta Lead Ads"}),ee.jsx("div",{children:"✅ TikTok Lead Gen"}),ee.jsx("div",{children:"✅ Webhooks temps réel"}),ee.jsx("div",{children:"✅ API Conversions"})]})]}),ee.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-6 rounded-xl border border-gray-200",children:[ee.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})})}),ee.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Base de données"}),ee.jsx("p",{className:"text-gray-700 mb-4",children:"Intégration complète avec votre CRM existant"}),ee.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[ee.jsx("div",{children:"✅ Tables Supabase créées"}),ee.jsx("div",{children:"✅ Relations avec contacts"}),ee.jsx("div",{children:"✅ Relations avec projets"}),ee.jsx("div",{children:"✅ Relations avec contrats"})]})]})]}),ee.jsxs("div",{className:"mt-12 p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl text-white",children:[ee.jsx("h2",{className:"text-2xl font-bold mb-4",children:"🎉 Félicitations !"}),ee.jsx("p",{className:"text-lg mb-4",children:"Votre module Lead Generation est maintenant complètement intégré dans votre CRM !"}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-bold mb-2",children:"✅ Base de données"}),ee.jsxs("ul",{className:"space-y-1 text-blue-100",children:[ee.jsx("li",{children:"• Tables créées et migrées"}),ee.jsx("li",{children:"• Relations avec CRM existant"}),ee.jsx("li",{children:"• Fonctions SQL intégrées"})]})]}),ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-bold mb-2",children:"✅ API & Webhooks"}),ee.jsxs("ul",{className:"space-y-1 text-blue-100",children:[ee.jsx("li",{children:"• Edge Functions Supabase"}),ee.jsx("li",{children:"• Intégration Meta/TikTok"}),ee.jsx("li",{children:"• Tracking événements"})]})]}),ee.jsxs("div",{children:[ee.jsx("h3",{className:"font-bold mb-2",children:"✅ Interface utilisateur"}),ee.jsxs("ul",{className:"space-y-1 text-blue-100",children:[ee.jsx("li",{children:"• Composants React créés"}),ee.jsx("li",{children:"• Navigation intégrée"}),ee.jsx("li",{children:"• Design responsive"})]})]})]})]})]})}const pte={totalLeads:2847,newLeads:156,convertedLeads:342,conversionRate:12,averageScore:7.2,totalValue:125e3,costPerLead:8.5,roi:415.2},mte=[{id:"1",name:"Facebook Mutuelle Santé Q1",source:"facebook",medium:"social",leads:1250,conversions:89,conversionRate:7.1,cost:10625,cpl:8.5,roi:415.2,status:"active"},{id:"2",name:"Google Ads Assurance Emprunteur",source:"google",medium:"cpc",leads:890,conversions:67,conversionRate:7.5,cost:7120,cpl:8,roi:456.8,status:"active"},{id:"3",name:"Email Newsletter Q1",source:"email",medium:"email",leads:456,conversions:34,conversionRate:7.5,cost:456,cpl:1,roi:1250,status:"active"},{id:"4",name:"TikTok Mutuelle Senior",source:"tiktok",medium:"social",leads:251,conversions:18,conversionRate:7.2,cost:2510,cpl:10,roi:298.4,status:"paused"}],vte=[{source:"Facebook",leads:1250,conversions:89,conversionRate:7.1,percentage:43.9},{source:"Google Ads",leads:890,conversions:67,conversionRate:7.5,percentage:31.3},{source:"Email",leads:456,conversions:34,conversionRate:7.5,percentage:16},{source:"TikTok",leads:251,conversions:18,conversionRate:7.2,percentage:8.8}],gte=[{date:"2024-01-01",leads:45,conversions:3,cost:382.5},{date:"2024-01-02",leads:52,conversions:4,cost:442},{date:"2024-01-03",leads:38,conversions:3,cost:323},{date:"2024-01-04",leads:61,conversions:5,cost:518.5},{date:"2024-01-05",leads:48,conversions:4,cost:408},{date:"2024-01-06",leads:35,conversions:2,cost:297.5},{date:"2024-01-07",leads:42,conversions:3,cost:357}];function yte(){const[e,t]=q.useState("7d"),[n,r]=q.useState("all"),[a,i]=q.useState(pte),[o,s]=q.useState(mte),[l,c]=q.useState(vte),[u,d]=q.useState(gte);q.useEffect(()=>{f()},[e,n]);const f=async()=>{try{const{start:t,end:n,startOfMonth:r}=(e=>{const t=new Date,n=new Date;return"7d"===e&&n.setDate(t.getDate()-6),"30d"===e&&n.setDate(t.getDate()-29),"90d"===e&&n.setDate(t.getDate()-89),"1y"===e&&n.setFullYear(t.getFullYear()-1),{start:n.toISOString(),end:t.toISOString(),startOfMonth:new Date(t.getFullYear(),t.getMonth(),1).toISOString()}})(e);let a=Pv.from("projets").select("id, date_creation, origine, statut").gte("date_creation",t).lte("date_creation",n);const{data:o,error:l}=await a;if(l)throw l;let u=Pv.from("projets").select("id").gte("date_creation",r).lte("date_creation",n);const{data:f,error:h}=await u;if(h)throw h;const{data:p,error:m}=await Pv.from("contrats").select("id, prime_nette_mensuelle, contrat_date_creation, projet_origine").gte("contrat_date_creation",t).lte("contrat_date_creation",n);if(m)throw m;const v=(null==o?void 0:o.length)||0,g=(null==f?void 0:f.length)||0,y=(null==p?void 0:p.length)||0,x=v>0?+(y/v*100).toFixed(1):0,b=7.2,j=(null==p?void 0:p.reduce((e,t)=>e+12*(t.prime_nette_mensuelle||0),0))||0,w=8.5,N=w>0&&j>0?+(j/(v*w)*100).toFixed(1):0;i({totalLeads:v,newLeads:g,convertedLeads:y,conversionRate:x,averageScore:b,totalValue:j,costPerLead:w,roi:N});const _=new Map;null==o||o.forEach(e=>{const t=(e.origine||"unknown").toLowerCase(),n=_.get(t)||{leads:0,conversions:0};n.leads+=1,_.set(t,n)});const k=Array.from(_.entries()).map(([e,t])=>({source:e,...t})),S=k.reduce((e,t)=>e+t.leads,0)||1,O=k.map(e=>({source:e.source,leads:e.leads,conversions:Math.round(y*e.leads/S),conversionRate:e.leads>0?+(y*e.leads/S/e.leads*100).toFixed(1):0,percentage:+(e.leads/S*100).toFixed(1)}));c(O);const E=new Map;null==o||o.forEach(e=>{const t=e.origine||"unknown",n=E.get(t)||{name:e.origine||"unknown",source:(e.origine||"unknown").toLowerCase(),medium:"organic",leads:0};n.leads+=1,E.set(t,n)});const C=Array.from(E.entries()).map(([e,t],n)=>{const r=t.leads*w,a=Math.round(y*t.leads/Math.max(1,v)),i=t.leads>0?+(a/t.leads*100).toFixed(1):0,o=t.leads>0?+(r/t.leads).toFixed(2):0,s=r>0?+(j*(t.leads/Math.max(1,v))/r*100).toFixed(1):0;return{id:String(n+1),name:t.name,source:t.source,medium:t.medium,leads:t.leads,conversions:a,conversionRate:i,cost:r,cpl:o,roi:s,status:"active"}});s(C);const P=e=>new Date(e).toISOString().slice(0,10),T=new Map;null==o||o.forEach(e=>{const t=P(e.date_creation),n=T.get(t)||{leads:0,conversions:0,cost:0};n.leads+=1,n.cost+=w,T.set(t,n)}),null==p||p.forEach(e=>{const t=P(e.contrat_date_creation),n=T.get(t)||{leads:0,conversions:0,cost:0};n.conversions+=1,T.set(t,n)});const A=Array.from(T.entries()).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>({date:e,leads:t.leads,conversions:t.conversions,cost:t.cost}));d(A)}catch(t){console.error("Failed to load dashboard data",t),i(pte),c(vte),s(mte),d(gte)}},h=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e),p=e=>new Intl.NumberFormat("fr-FR").format(e),m=e=>{switch(e){case"active":return ee.jsx(D7,{variant:"default",children:"Actif"});case"paused":return ee.jsx(D7,{variant:"secondary",children:"En pause"});case"completed":return ee.jsx(D7,{variant:"outline",children:"Terminé"});default:return ee.jsx(D7,{variant:"outline",children:e})}},v=e=>{switch(e.toLowerCase()){case"facebook":return"📘";case"google":return"🔍";case"email":return"📧";case"tiktok":return"🎵";default:return"🌐"}},g=()=>ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx(Py,{className:"w-5 h-5 mr-2"}),"Répartition des leads par source"]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:l.map((e,t)=>ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:`hsl(${60*t}, 70%, 50%)`}}),ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium",children:e.source}),ee.jsxs("div",{className:"text-sm text-gray-500",children:[p(e.leads)," leads • ",e.conversionRate,"% conversion"]})]})]}),ee.jsxs("div",{className:"text-right",children:[ee.jsxs("div",{className:"font-medium",children:[e.percentage,"%"]}),ee.jsxs("div",{className:"text-sm text-gray-500",children:[p(e.conversions)," conversions"]})]})]},e.source))})})]});return ee.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ee.jsx("div",{className:"bg-white shadow-sm border-b",children:ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center py-4",children:[ee.jsx("h1",{className:"text-xl font-semibold",children:"Tableau de bord des leads"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsxs(Lb,{variant:"outline",children:[ee.jsx(Yy,{className:"w-4 h-4 mr-2"}),"Filtres avancés"]}),ee.jsxs(Lb,{children:[ee.jsx(Wy,{className:"w-4 h-4 mr-2"}),"Exporter"]})]})]})})}),ee.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[ee.jsx(yE,{className:"text-sm font-medium",children:"Total Leads"}),ee.jsx(Ax,{className:"h-4 w-4 text-muted-foreground"})]}),ee.jsxs(bE,{children:[ee.jsx("div",{className:"text-2xl font-bold",children:p(a.totalLeads)}),ee.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",p(a.newLeads)," ce mois"]})]})]}),ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[ee.jsx(yE,{className:"text-sm font-medium",children:"Taux de conversion"}),ee.jsx(Sx,{className:"h-4 w-4 text-muted-foreground"})]}),ee.jsxs(bE,{children:[ee.jsxs("div",{className:"text-2xl font-bold",children:[a.conversionRate,"%"]}),ee.jsxs("p",{className:"text-xs text-muted-foreground",children:[p(a.convertedLeads)," conversions"]})]})]}),ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[ee.jsx(yE,{className:"text-sm font-medium",children:"Coût par lead"}),ee.jsx(Uy,{className:"h-4 w-4 text-muted-foreground"})]}),ee.jsxs(bE,{children:[ee.jsx("div",{className:"text-2xl font-bold",children:h(a.costPerLead)}),ee.jsxs("p",{className:"text-xs text-muted-foreground",children:["ROI: ",a.roi,"%"]})]})]}),ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[ee.jsx(yE,{className:"text-sm font-medium",children:"Valeur totale"}),ee.jsx(Cx,{className:"h-4 w-4 text-muted-foreground"})]}),ee.jsxs(bE,{children:[ee.jsx("div",{className:"text-2xl font-bold",children:h(a.totalValue)}),ee.jsxs("p",{className:"text-xs text-muted-foreground",children:["Score moyen: ",a.averageScore,"/10"]})]})]})]}),ee.jsxs(fE,{defaultValue:"overview",className:"space-y-6",children:[ee.jsxs(hE,{children:[ee.jsx(pE,{value:"overview",children:"Vue d'ensemble"}),ee.jsx(pE,{value:"campaigns",children:"Campagnes"}),ee.jsx(pE,{value:"sources",children:"Sources"}),ee.jsx(pE,{value:"trends",children:"Tendances"})]}),ee.jsx(mE,{value:"overview",className:"space-y-6",children:ee.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g(),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Actions rapides"})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[ee.jsxs(Lb,{variant:"outline",className:"h-20 flex-col",children:[ee.jsx(Ax,{className:"w-6 h-6 mb-2"}),ee.jsx("span",{className:"text-sm",children:"Nouveaux leads"})]}),ee.jsxs(Lb,{variant:"outline",className:"h-20 flex-col",children:[ee.jsx(Sx,{className:"w-6 h-6 mb-2"}),ee.jsx("span",{className:"text-sm",children:"Qualifier leads"})]}),ee.jsxs(Lb,{variant:"outline",className:"h-20 flex-col",children:[ee.jsx(Cy,{className:"w-6 h-6 mb-2"}),ee.jsx("span",{className:"text-sm",children:"Rapports"})]}),ee.jsxs(Lb,{variant:"outline",className:"h-20 flex-col",children:[ee.jsx(Ey,{className:"w-6 h-6 mb-2"}),ee.jsx("span",{className:"text-sm",children:"Planifier"})]})]})})]})]})}),ee.jsx(mE,{value:"campaigns",className:"space-y-6",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center justify-between",children:[ee.jsx("span",{children:"Performance des campagnes"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsxs(FC,{value:n,onValueChange:r,children:[ee.jsx(BC,{className:"w-40",children:ee.jsx(zC,{placeholder:"Filtrer par source"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"all",children:"Toutes les sources"}),ee.jsx(qC,{value:"facebook",children:"Facebook"}),ee.jsx(qC,{value:"google",children:"Google Ads"}),ee.jsx(qC,{value:"email",children:"Email"}),ee.jsx(qC,{value:"tiktok",children:"TikTok"})]})]}),ee.jsxs(Lb,{variant:"outline",size:"sm",children:[ee.jsx(Wy,{className:"w-4 h-4 mr-2"}),"Exporter"]})]})]})}),ee.jsx(bE,{children:ee.jsx("div",{className:"overflow-x-auto",children:ee.jsxs("table",{className:"w-full",children:[ee.jsx("thead",{children:ee.jsxs("tr",{className:"border-b",children:[ee.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Campagne"}),ee.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Source"}),ee.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Leads"}),ee.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Conversions"}),ee.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Taux"}),ee.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Coût"}),ee.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"CPL"}),ee.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"ROI"}),ee.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Statut"}),ee.jsx("th",{className:"text-center py-3 px-4 font-medium",children:"Actions"})]})}),ee.jsx("tbody",{children:o.map(e=>ee.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[ee.jsx("td",{className:"py-3 px-4",children:ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium",children:e.name}),ee.jsx("div",{className:"text-sm text-gray-500",children:e.medium})]})}),ee.jsx("td",{className:"py-3 px-4",children:ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx("span",{children:v(e.source)}),ee.jsx("span",{className:"capitalize",children:e.source})]})}),ee.jsx("td",{className:"py-3 px-4 text-center",children:p(e.leads)}),ee.jsx("td",{className:"py-3 px-4 text-center",children:p(e.conversions)}),ee.jsx("td",{className:"py-3 px-4 text-center",children:ee.jsxs("span",{className:"font-medium",children:[e.conversionRate,"%"]})}),ee.jsx("td",{className:"py-3 px-4 text-center",children:h(e.cost)}),ee.jsx("td",{className:"py-3 px-4 text-center",children:h(e.cpl)}),ee.jsx("td",{className:"py-3 px-4 text-center",children:ee.jsxs("span",{className:"font-medium "+(e.roi>100?"text-green-600":"text-orange-600"),children:[e.roi,"%"]})}),ee.jsx("td",{className:"py-3 px-4 text-center",children:m(e.status)}),ee.jsx("td",{className:"py-3 px-4 text-center",children:ee.jsxs("div",{className:"flex justify-center space-x-1",children:[ee.jsx(Lb,{variant:"ghost",size:"sm",children:ee.jsx(Hy,{className:"w-4 h-4"})}),ee.jsx(Lb,{variant:"ghost",size:"sm",children:ee.jsx(Cy,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]})}),ee.jsx(mE,{value:"sources",className:"space-y-6",children:ee.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g(),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Performance par canal"})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:l.map(e=>ee.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("span",{className:"text-2xl",children:v(e.source)}),ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium",children:e.source}),ee.jsxs("div",{className:"text-sm text-gray-500",children:[p(e.leads)," leads"]})]})]}),ee.jsxs("div",{className:"text-right",children:[ee.jsxs("div",{className:"font-medium text-lg",children:[e.conversionRate,"%"]}),ee.jsx("div",{className:"text-sm text-gray-500",children:"conversion"})]})]},e.source))})})]})]})}),ee.jsx(mE,{value:"trends",className:"space-y-6",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center justify-between",children:[ee.jsxs("span",{className:"flex items-center",children:[ee.jsx(xy,{className:"w-5 h-5 mr-2"}),"Évolution des leads dans le temps"]}),ee.jsxs(FC,{value:e,onValueChange:t,children:[ee.jsx(BC,{className:"w-32",children:ee.jsx(zC,{})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"7d",children:"7 jours"}),ee.jsx(qC,{value:"30d",children:"30 jours"}),ee.jsx(qC,{value:"90d",children:"90 jours"}),ee.jsx(qC,{value:"1y",children:"1 an"})]})]})]})}),ee.jsxs(bE,{children:[ee.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:u.map((e,t)=>{const n=Math.max(...u.map(e=>e.leads)),r=e.leads/n*100;return ee.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[ee.jsx("div",{className:"w-full bg-blue-100 rounded-t",style:{height:`${r}%`},children:ee.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:e.conversions/Math.max(1,e.leads)*100+"%"}})}),ee.jsxs("div",{className:"text-xs text-gray-500 mt-2 text-center",children:[ee.jsx("div",{children:new Date(e.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})}),ee.jsx("div",{className:"font-medium",children:e.leads})]})]},e.date)})}),ee.jsxs("div",{className:"flex justify-center space-x-6 mt-4 text-sm text-gray-500",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),ee.jsx("span",{children:"Conversions"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx("div",{className:"w-3 h-3 bg-blue-100 rounded"}),ee.jsx("span",{children:"Leads"})]})]})]})]})})]})]})]})}var xte="horizontal",bte=["horizontal","vertical"],jte=q.forwardRef((e,t)=>{const{decorative:n,orientation:r=xte,...a}=e,i=function(e){return bte.includes(e)}(r)?r:xte,o=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return ee.jsx(tg.div,{"data-orientation":i,...o,...a,ref:t})});jte.displayName="Separator";var wte=jte;const Nte=q.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>ee.jsx(wte,{ref:a,decorative:n,orientation:t,className:Ob("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));function _te(){const[e,t]=q.useState("mutuelle-sante"),[n,r]=q.useState(!1),a=()=>ee.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100",children:[ee.jsx("header",{className:"bg-white shadow-sm border-b border-orange-200",children:ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center py-4",children:[ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:ee.jsx(Zy,{className:"w-6 h-6 text-white"})}),ee.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 to-orange-700 bg-clip-text text-transparent",children:"Premunia"})]}),ee.jsxs("div",{className:"flex items-center space-x-4",children:[ee.jsx(hx,{className:"w-5 h-5 text-orange-600"}),ee.jsx("span",{className:"text-orange-600 font-semibold",children:"+33 1 83 62 78 66"})]})]})})}),ee.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[ee.jsxs("div",{className:"mb-8",children:[ee.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Mutuelle Santé"," ",ee.jsx("span",{className:"bg-gradient-to-r from-orange-500 to-orange-600 bg-clip-text text-transparent",children:"Express"})]}),ee.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:["Obtenez votre devis mutuelle santé en moins de 2 minutes et économisez jusqu'à"," ",ee.jsx("span",{className:"font-bold text-orange-600",children:"40% sur vos cotisations"}),"sans compromettre votre protection."]})]}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[ee.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-orange-200",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ee.jsx(Ax,{className:"w-8 h-8 text-white"})}),ee.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"50,000+"}),ee.jsx("p",{className:"text-gray-600",children:"Clients satisfaits"})]}),ee.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-orange-200",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ee.jsx(Cx,{className:"w-8 h-8 text-white"})}),ee.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"40%"}),ee.jsx("p",{className:"text-gray-600",children:"D'économies moyennes"})]}),ee.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-orange-200",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ee.jsx(kx,{className:"w-8 h-8 text-white"})}),ee.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"4.9/5"}),ee.jsx("p",{className:"text-gray-600",children:"Note client Google"})]})]}),ee.jsxs(Lb,{size:"lg",className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-4 text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:["Obtenir mon devis gratuit",ee.jsx(jy,{className:"w-5 h-5 ml-2"})]})]})}),ee.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-white",children:ee.jsxs("div",{className:"max-w-4xl mx-auto",children:[ee.jsxs("div",{className:"text-center mb-12",children:[ee.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Devis personnalisé en 2 minutes"}),ee.jsx("p",{className:"text-lg text-gray-600",children:"Remplissez ce formulaire pour recevoir votre devis sur mesure"})]}),ee.jsx(vE,{className:"shadow-xl border-0",children:ee.jsxs(bE,{className:"p-8",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Prénom *"}),ee.jsx(F7,{placeholder:"Votre prénom",className:"border-gray-300 focus:border-orange-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Nom *"}),ee.jsx(F7,{placeholder:"Votre nom",className:"border-gray-300 focus:border-orange-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Email *"}),ee.jsx(F7,{type:"email",placeholder:"votre@email.com",className:"border-gray-300 focus:border-orange-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Téléphone *"}),ee.jsx(F7,{placeholder:"06 12 34 56 78",className:"border-gray-300 focus:border-orange-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Âge *"}),ee.jsxs(FC,{children:[ee.jsx(BC,{className:"border-gray-300 focus:border-orange-500",children:ee.jsx(zC,{placeholder:"Sélectionner votre âge"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"18-25",children:"18-25 ans"}),ee.jsx(qC,{value:"26-35",children:"26-35 ans"}),ee.jsx(qC,{value:"36-45",children:"36-45 ans"}),ee.jsx(qC,{value:"46-55",children:"46-55 ans"}),ee.jsx(qC,{value:"56-65",children:"56-65 ans"}),ee.jsx(qC,{value:"65+",children:"65+ ans"})]})]})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Situation professionnelle *"}),ee.jsxs(FC,{children:[ee.jsx(BC,{className:"border-gray-300 focus:border-orange-500",children:ee.jsx(zC,{placeholder:"Votre situation"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"salarie",children:"Salarié"}),ee.jsx(qC,{value:"independant",children:"Indépendant"}),ee.jsx(qC,{value:"retraite",children:"Retraité"}),ee.jsx(qC,{value:"etudiant",children:"Étudiant"}),ee.jsx(qC,{value:"autre",children:"Autre"})]})]})]})]}),ee.jsxs("div",{className:"mb-6",children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Besoins spécifiques"}),ee.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["Dentaire","Optique","Hospitalisation","Médecine douce"].map(e=>ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:e.toLowerCase()}),ee.jsx(X9,{htmlFor:e.toLowerCase(),className:"text-sm text-gray-600",children:e})]},e))})]}),ee.jsx("div",{className:"mb-6",children:ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:"consent"}),ee.jsx(X9,{htmlFor:"consent",className:"text-sm text-gray-600",children:"J'accepte d'être contacté pour recevoir mon devis personnalisé et des offres adaptées à mes besoins"})]})}),ee.jsxs(Lb,{className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 text-lg font-semibold rounded-xl",children:["Recevoir mon devis gratuit",ee.jsx(jy,{className:"w-5 h-5 ml-2"})]}),ee.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"* Champs obligatoires. Vos données sont protégées et ne seront utilisées que pour votre devis."})]})})]})}),ee.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-orange-50 to-orange-100",children:ee.jsxs("div",{className:"max-w-7xl mx-auto",children:[ee.jsxs("div",{className:"text-center mb-12",children:[ee.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Pourquoi choisir Premunia ?"}),ee.jsx("p",{className:"text-lg text-gray-600",children:"Plus de 10 ans d'expertise au service de votre santé"})]}),ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:wx,title:"Protection complète",description:"Couverture adaptée à tous vos besoins santé avec les meilleurs assureurs du marché."},{icon:Sy,title:"Économies garanties",description:"Nous négocions pour vous les meilleurs tarifs et vous garantissons des économies."},{icon:Ax,title:"Conseil personnalisé",description:"Un expert dédié vous accompagne dans le choix de votre mutuelle santé."}].map((e,t)=>ee.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-orange-200 text-center",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-6",children:ee.jsx(e.icon,{className:"w-8 h-8 text-white"})}),ee.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e.title}),ee.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},t))})]})}),ee.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-white",children:ee.jsxs("div",{className:"max-w-7xl mx-auto",children:[ee.jsxs("div",{className:"text-center mb-12",children:[ee.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ils nous font confiance"}),ee.jsx("p",{className:"text-lg text-gray-600",children:"Découvrez les témoignages de nos clients satisfaits"})]}),ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Marie Dubois",position:"Infirmière libérale",content:"Grâce à Premunia, j'ai économisé 35% sur ma mutuelle santé tout en gardant une excellente couverture. Service impeccable !",rating:5},{name:"Pierre Martin",position:"Chef d'entreprise",content:"L'équipe Premunia a su comprendre mes besoins et m'a proposé une solution parfaitement adaptée. Je recommande !",rating:5},{name:"Sophie Bernard",position:"Retraitée",content:"Un accompagnement personnalisé et des tarifs vraiment avantageux. Je suis ravie de ma mutuelle santé !",rating:5}].map((e,t)=>ee.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 border border-orange-200",children:[ee.jsx("div",{className:"flex items-center mb-4",children:[...Array(e.rating)].map((e,t)=>ee.jsx(kx,{className:"w-5 h-5 text-orange-500 fill-current"},t))}),ee.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',e.content,'"']}),ee.jsxs("div",{children:[ee.jsx("p",{className:"font-semibold text-gray-900",children:e.name}),ee.jsx("p",{className:"text-sm text-gray-600",children:e.position})]})]},t))})]})}),ee.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-orange-600 to-orange-700",children:ee.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[ee.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prêt à économiser sur votre mutuelle santé ?"}),ee.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Rejoignez plus de 50,000 clients satisfaits et obtenez votre devis gratuit en 2 minutes"}),ee.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[ee.jsxs(Lb,{size:"lg",variant:"secondary",className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-3 text-lg font-semibold rounded-xl",children:["Devis gratuit",ee.jsx(jy,{className:"w-5 h-5 ml-2"})]}),ee.jsxs(Lb,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-orange-600 px-8 py-3 text-lg font-semibold rounded-xl",children:[ee.jsx(hx,{className:"w-5 h-5 mr-2"}),"Appeler un expert"]})]})]})}),ee.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"max-w-7xl mx-auto",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[ee.jsxs("div",{children:[ee.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ee.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:ee.jsx(Zy,{className:"w-5 h-5 text-white"})}),ee.jsx("span",{className:"text-xl font-bold",children:"Premunia"})]}),ee.jsx("p",{className:"text-gray-400 text-sm",children:"Votre partenaire en mutuelle santé et prévoyance depuis 2011."})]}),ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-semibold mb-4",children:"Contact"}),ee.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(hx,{className:"w-4 h-4"}),ee.jsx("span",{children:"+33 1 83 62 78 66"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(sx,{className:"w-4 h-4"}),ee.jsx("span",{children:"contact@premunia.com"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(lx,{className:"w-4 h-4"}),ee.jsxs("span",{children:["826 rue Roger SALENGRO",ee.jsx("br",{}),"92370 CHAVILLE"]})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(By,{className:"w-4 h-4"}),ee.jsx("span",{children:"Lun-Ven: 9h30-18h30"})]})]})]}),ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-semibold mb-4",children:"Services"}),ee.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[ee.jsx("li",{children:"Mutuelle Santé"}),ee.jsx("li",{children:"Assurance Emprunteur"}),ee.jsx("li",{children:"Prévoyance"}),ee.jsx("li",{children:"Assurance Animaux"}),ee.jsx("li",{children:"Courtage en assurance"})]})]}),ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-semibold mb-4",children:"Informations"}),ee.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[ee.jsx("li",{children:"À propos"}),ee.jsx("li",{children:"Blog"}),ee.jsx("li",{children:"Mentions légales"}),ee.jsx("li",{children:"Politique de confidentialité"}),ee.jsx("li",{children:"CGV"})]})]})]}),ee.jsx(Nte,{className:"my-8 bg-gray-800"}),ee.jsx("div",{className:"text-center text-sm text-gray-400",children:ee.jsx("p",{children:"© 2025 Premunia. Tous droits réservés. | Conçu avec ❤️ par iTrend"})})]})})]}),i=()=>ee.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100",children:[ee.jsx("header",{className:"bg-white shadow-sm border-b border-blue-200",children:ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center py-4",children:[ee.jsxs("div",{className:"flex items-center space-x-3",children:[ee.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:ee.jsx(wx,{className:"w-6 h-6 text-white"})}),ee.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent",children:"Premunia"})]}),ee.jsxs("div",{className:"flex items-center space-x-4",children:[ee.jsx(hx,{className:"w-5 h-5 text-blue-600"}),ee.jsx("span",{className:"text-blue-600 font-semibold",children:"+33 1 83 62 78 66"})]})]})})}),ee.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[ee.jsxs("div",{className:"mb-8",children:[ee.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Assurance"," ",ee.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-blue-600 bg-clip-text text-transparent",children:"Emprunteur"})]}),ee.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:["Protégez votre projet immobilier avec une assurance emprunteur sur mesure."," ",ee.jsx("span",{className:"font-bold text-blue-600",children:"Économisez jusqu'à 60%"}),"sur vos cotisations grâce à notre expertise."]})]}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[ee.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-blue-200",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ee.jsx(wy,{className:"w-8 h-8 text-white"})}),ee.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"15,000+"}),ee.jsx("p",{className:"text-gray-600",children:"Prêts sécurisés"})]}),ee.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-blue-200",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ee.jsx(Cx,{className:"w-8 h-8 text-white"})}),ee.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"60%"}),ee.jsx("p",{className:"text-gray-600",children:"D'économies moyennes"})]}),ee.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-blue-200",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ee.jsx(kx,{className:"w-8 h-8 text-white"})}),ee.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"4.8/5"}),ee.jsx("p",{className:"text-gray-600",children:"Note client Google"})]})]}),ee.jsxs(Lb,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-8 py-4 text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:["Comparer les offres",ee.jsx(jy,{className:"w-5 h-5 ml-2"})]})]})}),ee.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-white",children:ee.jsxs("div",{className:"max-w-4xl mx-auto",children:[ee.jsxs("div",{className:"text-center mb-12",children:[ee.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Simulation assurance emprunteur"}),ee.jsx("p",{className:"text-lg text-gray-600",children:"Obtenez votre devis personnalisé en quelques clics"})]}),ee.jsx(vE,{className:"shadow-xl border-0",children:ee.jsxs(bE,{className:"p-8",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Prénom *"}),ee.jsx(F7,{placeholder:"Votre prénom",className:"border-gray-300 focus:border-blue-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Nom *"}),ee.jsx(F7,{placeholder:"Votre nom",className:"border-gray-300 focus:border-blue-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Email *"}),ee.jsx(F7,{type:"email",placeholder:"votre@email.com",className:"border-gray-300 focus:border-blue-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Téléphone *"}),ee.jsx(F7,{placeholder:"06 12 34 56 78",className:"border-gray-300 focus:border-blue-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Montant du prêt *"}),ee.jsx(F7,{placeholder:"250,000 €",className:"border-gray-300 focus:border-blue-500"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Durée du prêt *"}),ee.jsxs(FC,{children:[ee.jsx(BC,{className:"border-gray-300 focus:border-blue-500",children:ee.jsx(zC,{placeholder:"Durée"})}),ee.jsxs(WC,{children:[ee.jsx(qC,{value:"15",children:"15 ans"}),ee.jsx(qC,{value:"20",children:"20 ans"}),ee.jsx(qC,{value:"25",children:"25 ans"}),ee.jsx(qC,{value:"30",children:"30 ans"})]})]})]})]}),ee.jsxs("div",{className:"mb-6",children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Garanties souhaitées"}),ee.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Décès","Invalidité","Incapacité","Chômage","Perte d'emploi","Dépendance"].map(e=>ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:e.toLowerCase().replace(/\s+/g,"-")}),ee.jsx(X9,{htmlFor:e.toLowerCase().replace(/\s+/g,"-"),className:"text-sm text-gray-600",children:e})]},e))})]}),ee.jsx("div",{className:"mb-6",children:ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:"consent-emprunteur"}),ee.jsx(X9,{htmlFor:"consent-emprunteur",className:"text-sm text-gray-600",children:"J'accepte d'être contacté pour recevoir ma simulation et des offres adaptées"})]})}),ee.jsxs(Lb,{className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 text-lg font-semibold rounded-xl",children:["Obtenir ma simulation",ee.jsx(jy,{className:"w-5 h-5 ml-2"})]}),ee.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"* Champs obligatoires. Vos données sont protégées et ne seront utilisées que pour votre simulation."})]})})]})}),ee.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-50 to-blue-100",children:ee.jsxs("div",{className:"max-w-7xl mx-auto",children:[ee.jsxs("div",{className:"text-center mb-12",children:[ee.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Les avantages de notre expertise"}),ee.jsx("p",{className:"text-lg text-gray-600",children:"Plus de 10 ans d'expérience dans l'assurance emprunteur"})]}),ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:Gy,title:"Comparatif complet",description:"Nous analysons plus de 50 assureurs pour vous proposer les meilleures offres du marché."},{icon:Sy,title:"Économies garanties",description:"Notre expertise vous permet d'économiser en moyenne 60% sur vos cotisations d'assurance."},{icon:Ax,title:"Accompagnement",description:"Un expert dédié vous guide dans le choix de votre assurance emprunteur."}].map((e,t)=>ee.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-blue-200 text-center",children:[ee.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6",children:ee.jsx(e.icon,{className:"w-8 h-8 text-white"})}),ee.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e.title}),ee.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},t))})]})}),ee.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-600 to-blue-700",children:ee.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[ee.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Prêt à sécuriser votre prêt immobilier ?"}),ee.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Rejoignez plus de 15,000 emprunteurs protégés et obtenez votre simulation gratuite"}),ee.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[ee.jsxs(Lb,{size:"lg",variant:"secondary",className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-3 text-lg font-semibold rounded-xl",children:["Simulation gratuite",ee.jsx(jy,{className:"w-5 h-5 ml-2"})]}),ee.jsxs(Lb,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-3 text-lg font-semibold rounded-xl",children:[ee.jsx(hx,{className:"w-5 h-5 mr-2"}),"Parler à un expert"]})]})]})}),ee.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"max-w-7xl mx-auto",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[ee.jsxs("div",{children:[ee.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ee.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:ee.jsx(wx,{className:"w-5 h-5 text-white"})}),ee.jsx("span",{className:"text-xl font-bold",children:"Premunia"})]}),ee.jsx("p",{className:"text-gray-400 text-sm",children:"Votre partenaire en assurance emprunteur depuis 2011."})]}),ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-semibold mb-4",children:"Contact"}),ee.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(hx,{className:"w-4 h-4"}),ee.jsx("span",{children:"+33 1 83 62 78 66"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(sx,{className:"w-4 h-4"}),ee.jsx("span",{children:"contact@premunia.com"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(lx,{className:"w-4 h-4"}),ee.jsxs("span",{children:["826 rue Roger SALENGRO",ee.jsx("br",{}),"92370 CHAVILLE"]})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(By,{className:"w-4 h-4"}),ee.jsx("span",{children:"Lun-Ven: 9h30-18h30"})]})]})]}),ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-semibold mb-4",children:"Services"}),ee.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[ee.jsx("li",{children:"Assurance Emprunteur"}),ee.jsx("li",{children:"Mutuelle Santé"}),ee.jsx("li",{children:"Prévoyance"}),ee.jsx("li",{children:"Assurance Animaux"}),ee.jsx("li",{children:"Courtage en assurance"})]})]}),ee.jsxs("div",{children:[ee.jsx("h4",{className:"font-semibold mb-4",children:"Informations"}),ee.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[ee.jsx("li",{children:"À propos"}),ee.jsx("li",{children:"Blog"}),ee.jsx("li",{children:"Mentions légales"}),ee.jsx("li",{children:"Politique de confidentialité"}),ee.jsx("li",{children:"CGV"})]})]})]}),ee.jsx(Nte,{className:"my-8 bg-gray-800"}),ee.jsx("div",{className:"text-center text-sm text-gray-400",children:ee.jsx("p",{children:"© 2025 Premunia. Tous droits réservés. | Conçu avec ❤️ par iTrend"})})]})})]}),o=[{id:"mutuelle-sante",name:"Mutuelle Santé Express",description:"Landing page optimisée pour la conversion de devis mutuelle santé",category:"Santé",template:ee.jsx(a,{}),isActive:!0},{id:"assurance-emprunteur",name:"Assurance Emprunteur",description:"Landing page pour simulation assurance emprunteur",category:"Emprunt",template:ee.jsx(i,{}),isActive:!0}];if(n){const t=o.find(t=>t.id===e);return t?ee.jsxs("div",{className:"fixed inset-0 z-50 bg-white overflow-auto",children:[ee.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[ee.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["Prévisualisation - ",t.name]}),ee.jsx(Lb,{variant:"outline",onClick:()=>r(!1),children:"Fermer"})]}),t.template]}):null}return ee.jsxs("div",{className:"space-y-8",children:[ee.jsxs("div",{className:"text-center mb-8",children:[ee.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"🎨 Landing Pages Premunia"}),ee.jsx("p",{className:"text-lg text-gray-600",children:"Créez des pages de conversion charmantes qui respectent votre charte graphique"})]}),ee.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[ee.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Sélectionner une Landing Page"}),ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(n=>ee.jsx(vE,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg "+(e===n.id?"ring-2 ring-orange-500":""),onClick:()=>t(n.id),children:ee.jsxs(bE,{className:"p-6",children:[ee.jsxs("div",{className:"flex items-start justify-between mb-4",children:[ee.jsxs("div",{children:[ee.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n.name}),ee.jsx("p",{className:"text-gray-600 mb-3",children:n.description}),ee.jsx("span",{className:"inline-block bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:n.category})]}),ee.jsx("div",{className:"w-3 h-3 rounded-full "+(n.isActive?"bg-green-500":"bg-gray-300")})]}),ee.jsxs(Lb,{variant:"outline",className:"w-full",onClick:()=>r(!0),children:[ee.jsx(Hy,{className:"w-4 h-4 mr-2"}),"Prévisualiser"]})]})},n.id))})]}),(()=>{const t=o.find(t=>t.id===e);return t?ee.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[ee.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),ee.jsx("p",{className:"text-gray-600",children:t.description})]}),ee.jsxs(Lb,{onClick:()=>r(!0),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",children:[ee.jsx(Hy,{className:"w-4 h-4 mr-2"}),"Voir en plein écran"]})]}),ee.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[ee.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b",children:ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),ee.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),ee.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),ee.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Prévisualisation - ",t.name]})]})}),ee.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.template})]})]}):null})()]})}Nte.displayName=wte.displayName;const kte=[{value:"text",label:"Texte",icon:"T"},{value:"email",label:"Email",icon:"@"},{value:"phone",label:"Téléphone",icon:"📞"},{value:"select",label:"Sélection",icon:"▼"},{value:"textarea",label:"Zone de texte",icon:"¶"},{value:"date",label:"Date",icon:"📅"},{value:"checkbox",label:"Case à cocher",icon:"☐"},{value:"radio",label:"Boutons radio",icon:"●"},{value:"number",label:"Nombre",icon:"#"}];function Ste(){var e,t,n,r,a,i,o,s,l,c;const[u,d]=q.useState({name:"",description:"",steps:[],settings:{showProgress:!0,allowBackNavigation:!0,autoSave:!0,submitButtonText:"Envoyer",successMessage:"Merci ! Votre formulaire a été envoyé avec succès.",redirectUrl:""},consent:{required:!0,text:"J'accepte de recevoir des informations commerciales et accepte la politique de confidentialité.",purposes:["lead_generation","marketing"],lawfulBasis:"consent"},styling:{theme:"light",primaryColor:"#3b82f6",borderRadius:"8px",fontFamily:"Inter"}}),[f,h]=q.useState(0),[p,m]=q.useState({}),[v,g]=q.useState({}),[y,x]=q.useState(!1),[b,j]=q.useState(!1),[w,N]=q.useState(null),[_,k]=q.useState(!1);q.useEffect(()=>{S()},[]);const S=async()=>{const e={name:"Formulaire Mutuelle Santé",description:"Formulaire de devis mutuelle santé en 3 étapes",steps:[{id:1,title:"Informations personnelles",description:"Vos coordonnées de base",fields:[{id:"first_name",type:"text",label:"Prénom",required:!0,placeholder:"Votre prénom",step:1,order:1},{id:"last_name",type:"text",label:"Nom",required:!0,placeholder:"Votre nom",step:1,order:2},{id:"email",type:"email",label:"Email",required:!0,placeholder:"votre@email.com",step:1,order:3},{id:"phone",type:"phone",label:"Téléphone",required:!1,placeholder:"06 12 34 56 78",step:1,order:4}]},{id:2,title:"Situation familiale",description:"Votre situation actuelle",fields:[{id:"family_status",type:"select",label:"Situation familiale",required:!0,options:["Célibataire","Marié(e)","Divorcé(e)","Veuf/Veuve"],step:2,order:1},{id:"children",type:"number",label:"Nombre d'enfants",required:!1,placeholder:"0",validation:{min:0,max:10},step:2,order:2},{id:"has_pets",type:"checkbox",label:"Avez-vous des animaux de compagnie ?",required:!1,step:2,order:3}]},{id:3,title:"Besoins santé",description:"Vos besoins en couverture santé",fields:[{id:"health_concerns",type:"textarea",label:"Problèmes de santé actuels",required:!1,placeholder:"Décrivez vos besoins spécifiques...",step:3,order:1},{id:"current_insurance",type:"select",label:"Assurance actuelle",required:!1,options:["Aucune","Mutuelle entreprise","Mutuelle individuelle","Autre"],step:3,order:2}]}],settings:u.settings,consent:u.consent,styling:u.styling};d(e)},O=e=>{const t=u.steps.find(t=>t.id===e);if(!t)return;const n={id:`field_${Date.now()}`,type:"text",label:"Nouveau champ",required:!1,placeholder:"",step:e,order:t.fields.length+1},r=u.steps.map(t=>t.id===e?{...t,fields:[...t.fields,n]}:t);d({...u,steps:r}),N(n)},E=(e,t,n)=>{const r=u.steps.map(r=>r.id===e?{...r,fields:r.fields.map(e=>e.id===t?{...e,...n}:e)}:r);d({...u,steps:r})},C=(e,t,n)=>{const r=u.steps.find(t=>t.id===e);if(!r)return;const a=r.fields.findIndex(e=>e.id===t);if(-1===a)return;const i=[...r.fields];"up"===n&&a>0?[i[a],i[a-1]]=[i[a-1],i[a]]:"down"===n&&a<i.length-1&&([i[a],i[a+1]]=[i[a+1],i[a]]);const o=u.steps.map(t=>t.id===e?{...t,fields:i}:t);d({...u,steps:o})},P=(e,t)=>{m(n=>({...n,[e]:t})),v[e]&&g(t=>({...t,[e]:""}))},T=e=>{const t={};let n=!0;return e.fields.forEach(e=>{const r=((e,t)=>{if(e.required&&(!t||""===t.toString().trim()))return"Ce champ est obligatoire";if(t&&e.validation){if(e.validation.minLength&&t.toString().length<e.validation.minLength)return`Minimum ${e.validation.minLength} caractères`;if(e.validation.maxLength&&t.toString().length>e.validation.maxLength)return`Maximum ${e.validation.maxLength} caractères`;if("email"===e.type&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return"Format email invalide";if("phone"===e.type&&!/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s.-]*\d{2}){4}$/.test(t))return"Format téléphone invalide"}return null})(e,p[e.id]);r&&(t[e.id]=r,n=!1)}),g(e=>({...e,...t})),n},A=()=>{const e=u.steps[f];T(e)&&h(e=>Math.min(e+1,u.steps.length-1))},M=()=>{h(e=>Math.max(e-1,0))},D=async()=>{if(T(u.steps[f])){k(!0);try{u.id,I(),p.consent,(new Date).toISOString(),navigator.userAgent,(new Date).toISOString(),(new Date).toISOString(),Date.now(),Date.now(),u.steps.length;await new Promise(e=>setTimeout(e,1e3)),alert(u.settings.successMessage)}catch(e){console.error("Submission error:",e),alert("Erreur lors de l'envoi du formulaire")}finally{k(!1)}}},I=()=>{const e=new URLSearchParams(window.location.search),t={};return["utm_source","utm_medium","utm_campaign","utm_content","utm_term"].forEach(n=>{const r=e.get(n);r&&(t[n]=r)}),t},R=(e,t)=>{var n;return ee.jsxs(vE,{className:"border-2 border-dashed border-gray-300",children:[ee.jsx(gE,{className:"pb-3",children:ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(D7,{variant:"outline",children:e.type}),ee.jsxs("span",{className:"text-sm text-gray-500",children:["Champ ",e.order]})]}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>C(t,e.id,"up"),disabled:1===e.order,children:"↑"}),ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>C(t,e.id,"down"),disabled:e.order===(null==(n=u.steps.find(e=>e.id===t))?void 0:n.fields.length),children:"↓"}),ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>N(e),children:ee.jsx(jx,{className:"w-4 h-4"})}),ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>((e,t)=>{const n=u.steps.map(n=>n.id===e?{...n,fields:n.fields.filter(e=>e.id!==t)}:n);d({...u,steps:n})})(t,e.id),children:ee.jsx(Ex,{className:"w-4 h-4"})})]})]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"space-y-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{children:"Type de champ"}),ee.jsxs(FC,{value:e.type,onValueChange:n=>E(t,e.id,{type:n}),children:[ee.jsx(BC,{children:ee.jsx(zC,{})}),ee.jsx(WC,{children:kte.map(e=>ee.jsxs(qC,{value:e.value,children:[e.icon," ",e.label]},e.value))})]})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Libellé"}),ee.jsx(F7,{value:e.label,onChange:n=>E(t,e.id,{label:n.target.value}),placeholder:"Libellé du champ"})]}),ee.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{children:"Placeholder"}),ee.jsx(F7,{value:e.placeholder||"",onChange:n=>E(t,e.id,{placeholder:n.target.value}),placeholder:"Texte d'aide"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:`required-${e.id}`,checked:e.required,onCheckedChange:n=>E(t,e.id,{required:n})}),ee.jsx(X9,{htmlFor:`required-${e.id}`,children:"Champ obligatoire"})]})]}),("select"===e.type||"radio"===e.type)&&ee.jsxs("div",{children:[ee.jsx(X9,{children:"Options"}),ee.jsxs("div",{className:"space-y-2",children:[(e.options||[]).map((n,r)=>ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsx(F7,{value:n,onChange:n=>{const a=[...e.options||[]];a[r]=n.target.value,E(t,e.id,{options:a})},placeholder:`Option ${r+1}`}),ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>{var n;const a=(null==(n=e.options)?void 0:n.filter((e,t)=>t!==r))||[];E(t,e.id,{options:a})},children:ee.jsx(Ex,{className:"w-4 h-4"})})]},r)),ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>{const n=[...e.options||[],""];E(t,e.id,{options:n})},children:[ee.jsx(mx,{className:"w-4 h-4 mr-2"}),"Ajouter une option"]})]})]})]})})]},e.id)};return b?ee.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ee.jsx("div",{className:"bg-white shadow-sm border-b",children:ee.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center py-4",children:[ee.jsx("h1",{className:"text-xl font-semibold",children:"Aperçu du formulaire"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsxs(Lb,{variant:"outline",onClick:()=>j(!1),children:[ee.jsx(Hy,{className:"w-4 h-4 mr-2"}),"Quitter l'aperçu"]}),ee.jsxs(Lb,{onClick:()=>x(!1),children:[ee.jsx(jx,{className:"w-4 h-4 mr-2"}),"Modifier"]})]})]})})}),ee.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"text-center",children:[ee.jsx(yE,{className:"text-2xl",children:u.name}),u.description&&ee.jsx("p",{className:"text-gray-600",children:u.description})]}),ee.jsxs(bE,{children:[u.settings.showProgress&&ee.jsxs("div",{className:"mb-8",children:[ee.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[ee.jsxs("span",{children:["Étape ",f+1," sur ",u.steps.length]}),ee.jsxs("span",{children:[Math.round((f+1)/u.steps.length*100),"%"]})]}),ee.jsx(q9,{value:(f+1)/u.steps.length*100,className:"w-full"})]}),ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{children:[ee.jsx("h3",{className:"text-lg font-semibold mb-2",children:null==(e=u.steps[f])?void 0:e.title}),(null==(t=u.steps[f])?void 0:t.description)&&ee.jsx("p",{className:"text-gray-600 mb-4",children:null==(n=u.steps[f])?void 0:n.description}),ee.jsx("div",{className:"space-y-4",children:null==(r=u.steps[f])?void 0:r.fields.map(e=>(e=>{var t,n;const r=p[e.id],a=v[e.id];switch(e.type){case"text":case"email":case"phone":case"number":return ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs(X9,{htmlFor:e.id,children:[e.label,e.required&&ee.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),ee.jsx(F7,{id:e.id,type:e.type,value:r||"",onChange:t=>P(e.id,t.target.value),placeholder:e.placeholder,className:a?"border-red-500":""}),a&&ee.jsx("p",{className:"text-sm text-red-500",children:a})]},e.id);case"select":return ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs(X9,{htmlFor:e.id,children:[e.label,e.required&&ee.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),ee.jsxs(FC,{value:r||"",onValueChange:t=>P(e.id,t),children:[ee.jsx(BC,{className:a?"border-red-500":"",children:ee.jsx(zC,{placeholder:e.placeholder||"Sélectionner..."})}),ee.jsx(WC,{children:null==(t=e.options)?void 0:t.map(e=>ee.jsx(qC,{value:e,children:e},e))})]}),a&&ee.jsx("p",{className:"text-sm text-red-500",children:a})]},e.id);case"textarea":return ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs(X9,{htmlFor:e.id,children:[e.label,e.required&&ee.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),ee.jsx(J9,{id:e.id,value:r||"",onChange:t=>P(e.id,t.target.value),placeholder:e.placeholder,className:a?"border-red-500":""}),a&&ee.jsx("p",{className:"text-sm text-red-500",children:a})]},e.id);case"checkbox":return ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:e.id,checked:r||!1,onCheckedChange:t=>P(e.id,t)}),ee.jsxs(X9,{htmlFor:e.id,children:[e.label,e.required&&ee.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a&&ee.jsx("p",{className:"text-sm text-red-500 ml-6",children:a})]},e.id);case"radio":return ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs(X9,{children:[e.label,e.required&&ee.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),ee.jsx("div",{className:"space-y-2",children:null==(n=e.options)?void 0:n.map(t=>ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx("input",{type:"radio",id:`${e.id}-${t}`,name:e.id,value:t,checked:r===t,onChange:t=>P(e.id,t.target.value)}),ee.jsx(X9,{htmlFor:`${e.id}-${t}`,children:t})]},t))}),a&&ee.jsx("p",{className:"text-sm text-red-500",children:a})]},e.id);default:return ee.jsx("div",{children:"Type de champ non supporté"})}})(e))})]}),f===u.steps.length-1&&ee.jsx("div",{className:"border-t pt-6",children:ee.jsx("div",{className:"space-y-4",children:ee.jsxs("div",{className:"flex items-start space-x-2",children:[ee.jsx(pee,{id:"consent",checked:p.consent||!1,onCheckedChange:e=>P("consent",e)}),ee.jsxs("div",{className:"space-y-1",children:[ee.jsx(X9,{htmlFor:"consent",className:"text-sm",children:u.consent.text}),ee.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[ee.jsx(wx,{className:"w-3 h-3"}),ee.jsx("span",{children:"RGPD - Vos données sont protégées"})]})]})]})})}),ee.jsxs("div",{className:"flex justify-between pt-6",children:[u.settings.allowBackNavigation&&f>0&&ee.jsxs(Lb,{variant:"outline",onClick:M,children:[ee.jsx(My,{className:"w-4 h-4 mr-2"}),"Précédent"]}),f<u.steps.length-1?ee.jsxs(Lb,{onClick:A,className:"ml-auto",children:["Suivant",ee.jsx(Dy,{className:"w-4 h-4 ml-2"})]}):ee.jsx(Lb,{onClick:D,disabled:_,className:"ml-auto",children:_?ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Envoi en cours..."]}):u.settings.submitButtonText})]})]})]})]})})]}):ee.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ee.jsx("div",{className:"bg-white shadow-sm border-b",children:ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center py-4",children:[ee.jsx("h1",{className:"text-xl font-semibold",children:"Form Engine"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsxs(Lb,{variant:"outline",onClick:()=>j(!0),children:[ee.jsx(Hy,{className:"w-4 h-4 mr-2"}),"Aperçu"]}),ee.jsxs(Lb,{onClick:()=>x(!1),children:[ee.jsx(yx,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})]})]})})}),ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ee.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[ee.jsx("div",{className:"lg:col-span-1",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsx(yE,{className:"text-lg",children:"Étapes"}),ee.jsx(Lb,{size:"sm",onClick:()=>{const e={id:u.steps.length+1,title:`Étape ${u.steps.length+1}`,description:"Description de l'étape",fields:[]};d({...u,steps:[...u.steps,e]})},children:ee.jsx(mx,{className:"w-4 h-4"})})]})}),ee.jsx(bE,{className:"space-y-2",children:u.steps.map((e,t)=>ee.jsx("div",{className:"p-3 rounded-lg border cursor-pointer transition-colors "+(t===f?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>h(t),children:ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium text-sm",children:e.title}),ee.jsxs("div",{className:"text-xs text-gray-500",children:[e.fields.length," champ",e.fields.length>1?"s":""]})]}),u.steps.length>1&&ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:t=>{var n;t.stopPropagation(),n=e.id,u.steps.length<=1||d({...u,steps:u.steps.filter(e=>e.id!==n)})},children:ee.jsx(Ex,{className:"w-4 h-4"})})]})},e.id))})]})}),ee.jsx("div",{className:"lg:col-span-2",children:ee.jsxs(vE,{children:[ee.jsxs(gE,{children:[ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsx(yE,{children:(null==(a=u.steps[f])?void 0:a.title)||"Nouvelle étape"}),ee.jsx("div",{className:"flex space-x-2",children:ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>{var e;return O((null==(e=u.steps[f])?void 0:e.id)||1)},children:[ee.jsx(mx,{className:"w-4 h-4 mr-2"}),"Ajouter un champ"]})})]}),(null==(i=u.steps[f])?void 0:i.description)&&ee.jsx("p",{className:"text-gray-600 text-sm",children:null==(o=u.steps[f])?void 0:o.description})]}),ee.jsx(bE,{children:ee.jsxs("div",{className:"space-y-4",children:[null==(s=u.steps[f])?void 0:s.fields.map(e=>{var t;return R(e,(null==(t=u.steps[f])?void 0:t.id)||1)}),(!(null==(l=u.steps[f])?void 0:l.fields)||0===(null==(c=u.steps[f])?void 0:c.fields.length))&&ee.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[ee.jsx("div",{className:"text-gray-500 mb-4",children:ee.jsx(FormInput,{className:"w-12 h-12 mx-auto"})}),ee.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun champ dans cette étape"}),ee.jsx("p",{className:"text-gray-500 mb-4",children:"Commencez par ajouter des champs"}),ee.jsxs(Lb,{onClick:()=>{var e;return O((null==(e=u.steps[f])?void 0:e.id)||1)},children:[ee.jsx(mx,{className:"w-4 h-4 mr-2"}),"Ajouter un champ"]})]})]})})]})}),ee.jsx("div",{className:"lg:col-span-1",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{className:"text-lg",children:"Propriétés"})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"space-y-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{children:"Nom du formulaire"}),ee.jsx(F7,{value:u.name,onChange:e=>d({...u,name:e.target.value}),placeholder:"Nom du formulaire"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Description"}),ee.jsx(J9,{value:u.description||"",onChange:e=>d({...u,description:e.target.value}),placeholder:"Description du formulaire"})]}),ee.jsx(Nte,{}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Paramètres"}),ee.jsxs("div",{className:"space-y-2 mt-2",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:"showProgress",checked:u.settings.showProgress,onCheckedChange:e=>d({...u,settings:{...u.settings,showProgress:e}})}),ee.jsx(X9,{htmlFor:"showProgress",className:"text-sm",children:"Afficher la progression"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:"allowBackNavigation",checked:u.settings.allowBackNavigation,onCheckedChange:e=>d({...u,settings:{...u.settings,allowBackNavigation:e}})}),ee.jsx(X9,{htmlFor:"allowBackNavigation",className:"text-sm",children:"Navigation retour"})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:"autoSave",checked:u.settings.autoSave,onCheckedChange:e=>d({...u,settings:{...u.settings,autoSave:e}})}),ee.jsx(X9,{htmlFor:"autoSave",className:"text-sm",children:"Sauvegarde automatique"})]})]})]}),ee.jsx(Nte,{}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Consentement RGPD"}),ee.jsxs("div",{className:"space-y-2 mt-2",children:[ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(pee,{id:"consentRequired",checked:u.consent.required,onCheckedChange:e=>d({...u,consent:{...u.consent,required:e}})}),ee.jsx(X9,{htmlFor:"consentRequired",className:"text-sm",children:"Consentement obligatoire"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm",children:"Texte de consentement"}),ee.jsx(J9,{value:u.consent.text,onChange:e=>d({...u,consent:{...u.consent,text:e.target.value}}),placeholder:"Texte du consentement RGPD",className:"text-sm"})]})]})]})]})})]})})]})})]})}const Ote=["google","facebook","instagram","linkedin","twitter","tiktok","email","sms","direct","referral","organic","cpc","banner","affiliate"],Ete=["cpc","social","email","banner","affiliate","referral","organic","paid","free","push","sms"];function Cte(){const[e,t]=q.useState([]),[n,r]=q.useState(null),[a,i]=q.useState(!1),[o,s]=q.useState(!1),[l,c]=q.useState([]);q.useState("your-jwt-secret-key"),q.useState(24),q.useEffect(()=>{u()},[]);const u=async()=>{const e=[{id:"1",name:"Campagne Facebook Mutuelle Santé",baseUrl:"https://premunia.com/devis-mutuelle",utmParams:{utm_source:"facebook",utm_medium:"social",utm_campaign:"mutuelle_sante_q1_2024",utm_content:"hero_banner",utm_term:"mutuelle+sante"},jwtClaims:{prefill_email:"user@example.com",prefill_source:"facebook_ads",prefill_campaign:"mutuelle_sante_q1_2024"},isActive:!0,createdAt:(new Date).toISOString(),clickCount:1250,conversionCount:89},{id:"2",name:"Email Newsletter Assurance Emprunteur",baseUrl:"https://premunia.com/assurance-emprunteur",utmParams:{utm_source:"email",utm_medium:"email",utm_campaign:"newsletter_emprunteur_2024",utm_content:"cta_button",utm_term:"assurance+emprunteur"},jwtClaims:{prefill_email:"subscriber@example.com",prefill_source:"email_newsletter",prefill_segment:"emprunteurs"},isActive:!0,createdAt:(new Date).toISOString(),clickCount:456,conversionCount:34}];t(e)},d=()=>{const e={id:`link_${Date.now()}`,name:"",baseUrl:"",utmParams:{utm_source:"google",utm_medium:"cpc",utm_campaign:"",utm_content:"",utm_term:""},jwtClaims:{},isActive:!0,createdAt:(new Date).toISOString(),clickCount:0,conversionCount:0};r(e),c([]),i(!0)},f=()=>{c([...l,{key:"",value:"",description:""}])},h=(e,t,n)=>{const r=[...l];r[e]={...r[e],[t]:n},c(r)},p=e=>{const t=new URL(e.baseUrl);return Object.entries(e.utmParams).forEach(([e,n])=>{n&&t.searchParams.append(e,n)}),t.toString()},m=async e=>{try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy:",t)}},v=async()=>{if(n)try{const a=l.reduce((e,t)=>(t.key&&t.value&&(e[t.key]=t.value),e),{}),o={...n,jwtClaims:a};if(n.id.startsWith("link_")){const n={...o,id:Date.now().toString()};t([...e,n])}else t(e.map(e=>e.id===n.id?o:e));i(!1),r(null)}catch(a){console.error("Error saving link:",a)}},g=()=>ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Créer un nouveau lien UTM"})}),ee.jsxs(bE,{className:"space-y-6",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{children:"Nom de la campagne"}),ee.jsx(F7,{value:(null==n?void 0:n.name)||"",onChange:e=>r(t=>t?{...t,name:e.target.value}:null),placeholder:"Ex: Campagne Facebook Q1 2024"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"URL de base"}),ee.jsx(F7,{value:(null==n?void 0:n.baseUrl)||"",onChange:e=>r(t=>t?{...t,baseUrl:e.target.value}:null),placeholder:"https://votre-site.com/landing-page"})]})]}),ee.jsx(Nte,{}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-lg font-semibold mb-4 block",children:"Paramètres UTM"}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{children:"Source (utm_source)"}),ee.jsxs(FC,{value:(null==n?void 0:n.utmParams.utm_source)||"",onValueChange:e=>r(t=>t?{...t,utmParams:{...t.utmParams,utm_source:e}}:null),children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Sélectionner une source"})}),ee.jsx(WC,{children:Ote.map(e=>ee.jsx(qC,{value:e,children:e},e))})]})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Moyen (utm_medium)"}),ee.jsxs(FC,{value:(null==n?void 0:n.utmParams.utm_medium)||"",onValueChange:e=>r(t=>t?{...t,utmParams:{...t.utmParams,utm_medium:e}}:null),children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Sélectionner un moyen"})}),ee.jsx(WC,{children:Ete.map(e=>ee.jsx(qC,{value:e,children:e},e))})]})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Campagne (utm_campaign)"}),ee.jsx(F7,{value:(null==n?void 0:n.utmParams.utm_campaign)||"",onChange:e=>r(t=>t?{...t,utmParams:{...t.utmParams,utm_campaign:e.target.value}}:null),placeholder:"Ex: mutuelle_sante_q1_2024"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Contenu (utm_content)"}),ee.jsx(F7,{value:(null==n?void 0:n.utmParams.utm_content)||"",onChange:e=>r(t=>t?{...t,utmParams:{...t.utmParams,utm_content:e.target.value}}:null),placeholder:"Ex: hero_banner, cta_button"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Terme (utm_term)"}),ee.jsx(F7,{value:(null==n?void 0:n.utmParams.utm_term)||"",onChange:e=>r(t=>t?{...t,utmParams:{...t.utmParams,utm_term:e.target.value}}:null),placeholder:"Ex: mutuelle+sante, assurance+emprunteur"})]})]})]}),ee.jsx(Nte,{}),ee.jsxs("div",{children:[ee.jsxs("div",{className:"flex justify-between items-center mb-4",children:[ee.jsx(X9,{className:"text-lg font-semibold",children:"Claims JWT (Pré-remplissage)"}),ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:f,children:[ee.jsx(mx,{className:"w-4 h-4 mr-2"}),"Ajouter un claim"]})]}),ee.jsxs("div",{className:"space-y-3",children:[l.map((e,t)=>ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 p-3 border rounded-lg",children:[ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm",children:"Clé"}),ee.jsx(F7,{value:e.key,onChange:e=>h(t,"key",e.target.value),placeholder:"Ex: prefill_email"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm",children:"Valeur"}),ee.jsx(F7,{value:e.value,onChange:e=>h(t,"value",e.target.value),placeholder:"Ex: user@example.com"})]}),ee.jsxs("div",{className:"flex items-end space-x-2",children:[ee.jsxs("div",{className:"flex-1",children:[ee.jsx(X9,{className:"text-sm",children:"Description"}),ee.jsx(F7,{value:e.description||"",onChange:e=>h(t,"description",e.target.value),placeholder:"Description optionnelle"})]}),ee.jsx(Lb,{variant:"ghost",size:"sm",onClick:()=>(e=>{c(l.filter((t,n)=>n!==e))})(t),children:ee.jsx(Ex,{className:"w-4 h-4"})})]})]},t)),0===l.length&&ee.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[ee.jsx(ix,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),ee.jsx("p",{className:"text-gray-500 mb-2",children:"Aucun claim JWT configuré"}),ee.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Ajoutez des claims pour pré-remplir automatiquement les formulaires"}),ee.jsxs(Lb,{variant:"outline",onClick:f,children:[ee.jsx(mx,{className:"w-4 h-4 mr-2"}),"Ajouter un claim"]})]})]})]}),ee.jsx(Nte,{}),ee.jsxs("div",{className:"flex justify-end space-x-2",children:[ee.jsx(Lb,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),ee.jsx(Lb,{onClick:v,children:"Sauvegarder le lien"})]})]})]}),y=e=>{const t=p(e),n=(async e=>{if(0===l.length)return p(e);try{const t=l.reduce((e,t)=>(t.key&&t.value&&(e[t.key]=t.value),e),{}),n=btoa(JSON.stringify(t)),r=new URL(e.baseUrl);return Object.entries(e.utmParams).forEach(([e,t])=>{t&&r.searchParams.append(e,t)}),r.searchParams.append("jwt",n),r.toString()}catch(t){return console.error("Error generating JWT link:",t),p(e)}})(e);return ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center justify-between",children:[ee.jsx("span",{children:"Aperçu du lien"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>m(t),children:[ee.jsx($y,{className:"w-4 h-4 mr-2"}),"Copier UTM"]}),ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>m(n),children:[ee.jsx($y,{className:"w-4 h-4 mr-2"}),"Copier JWT"]})]})]})}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm font-medium text-gray-700",children:"Lien UTM standard"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsx(F7,{value:t,readOnly:!0,className:"font-mono text-sm"}),ee.jsx(Lb,{variant:"outline",size:"sm",onClick:()=>window.open(t,"_blank"),children:ee.jsx(Vy,{className:"w-4 h-4"})})]})]}),l.length>0&&ee.jsxs("div",{children:[ee.jsxs(X9,{className:"text-sm font-medium text-gray-700 flex items-center",children:[ee.jsx(ix,{className:"w-4 h-4 mr-2"}),"Lien JWT avec pré-remplissage"]}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsx(F7,{value:n,readOnly:!0,className:"font-mono text-sm"}),ee.jsx(Lb,{variant:"outline",size:"sm",onClick:()=>window.open(n,"_blank"),children:ee.jsx(Vy,{className:"w-4 h-4"})})]}),ee.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ce lien contient des informations de pré-remplissage sécurisées"})]}),ee.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[ee.jsx("h4",{className:"font-medium text-sm mb-2",children:"Claims JWT configurés :"}),l.length>0?ee.jsx("div",{className:"space-y-2",children:l.map((e,t)=>ee.jsxs("div",{className:"flex justify-between text-sm",children:[ee.jsx("span",{className:"font-mono text-gray-600",children:e.key}),ee.jsx("span",{className:"text-gray-500",children:e.value})]},t))}):ee.jsx("p",{className:"text-sm text-gray-500",children:"Aucun claim configuré"})]})]})]})};return a?ee.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ee.jsx("div",{className:"bg-white shadow-sm border-b",children:ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center py-4",children:[ee.jsx("h1",{className:"text-xl font-semibold",children:"Éditeur de liens UTM"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsx(Lb,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),ee.jsx(Lb,{onClick:v,children:"Sauvegarder"})]})]})})}),ee.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:g()})]}):o&&n?ee.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ee.jsx("div",{className:"bg-white shadow-sm border-b",children:ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center py-4",children:[ee.jsx("h1",{className:"text-xl font-semibold",children:"Aperçu du lien"}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsx(Lb,{variant:"outline",onClick:()=>s(!1),children:"Retour"}),ee.jsx(Lb,{onClick:()=>{s(!1),i(!0)},children:"Modifier"})]})]})})}),ee.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:y(n)})]}):ee.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ee.jsx("div",{className:"bg-white shadow-sm border-b",children:ee.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ee.jsxs("div",{className:"flex justify-between items-center py-4",children:[ee.jsx("h1",{className:"text-xl font-semibold",children:"Générateur de liens UTM"}),ee.jsx("div",{className:"flex space-x-2",children:ee.jsxs(Lb,{onClick:d,children:[ee.jsx(mx,{className:"w-4 h-4 mr-2"}),"Nouveau lien"]})})]})})}),ee.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ee.jsx("div",{className:"mb-8",children:ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center",children:[ee.jsx(rx,{className:"w-5 h-5 mr-2"}),"Gestion des liens UTM et JWT"]})}),ee.jsx(bE,{children:ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[ee.jsxs("div",{className:"text-center",children:[ee.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:ee.jsx("span",{className:"text-blue-600 font-bold text-xl",children:"UTM"})}),ee.jsx("h3",{className:"font-semibold mb-2",children:"Paramètres UTM"}),ee.jsx("p",{className:"text-sm text-gray-600",children:"Suivez vos campagnes marketing avec des paramètres standardisés"})]}),ee.jsxs("div",{className:"text-center",children:[ee.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:ee.jsx(ix,{className:"w-6 h-6 text-green-600"})}),ee.jsx("h3",{className:"font-semibold mb-2",children:"Liens JWT"}),ee.jsx("p",{className:"text-sm text-gray-600",children:"Pré-remplissez automatiquement vos formulaires de manière sécurisée"})]}),ee.jsxs("div",{className:"text-center",children:[ee.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:ee.jsx(wx,{className:"w-6 h-6 text-purple-600"})}),ee.jsx("h3",{className:"font-semibold mb-2",children:"RGPD Compliant"}),ee.jsx("p",{className:"text-sm text-gray-600",children:"Respectez la réglementation avec une gestion des consentements"})]})]})})]})}),0===e.length?ee.jsx(vE,{children:ee.jsxs(bE,{className:"text-center py-12",children:[ee.jsx(rx,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),ee.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun lien UTM créé"}),ee.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez par créer votre premier lien UTM pour vos campagnes marketing"}),ee.jsxs(Lb,{onClick:d,children:[ee.jsx(mx,{className:"w-4 h-4 mr-2"}),"Créer un lien UTM"]})]})}):ee.jsx("div",{className:"space-y-4",children:e.map(n=>ee.jsx(vE,{className:"hover:shadow-md transition-shadow",children:ee.jsx(bE,{className:"p-6",children:ee.jsxs("div",{className:"flex justify-between items-start",children:[ee.jsxs("div",{className:"flex-1",children:[ee.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[ee.jsx("h3",{className:"text-lg font-semibold",children:n.name}),ee.jsx(D7,{variant:n.isActive?"default":"secondary",children:n.isActive?"Actif":"Inactif"})]}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm text-gray-600",children:"URL de base"}),ee.jsx("p",{className:"text-sm font-mono text-gray-800",children:n.baseUrl})]}),ee.jsxs("div",{children:[ee.jsx(X9,{className:"text-sm text-gray-600",children:"Campagne"}),ee.jsx("p",{className:"text-sm text-gray-800",children:n.utmParams.utm_campaign})]})]}),ee.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.entries(n.utmParams).map(([e,t])=>t&&ee.jsxs(D7,{variant:"outline",className:"text-xs",children:[e,": ",t]},e))}),ee.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[ee.jsxs("span",{children:["Clics: ",n.clickCount.toLocaleString()]}),ee.jsxs("span",{children:["Conversions: ",n.conversionCount.toLocaleString()]}),ee.jsxs("span",{children:["CTR: ",n.clickCount>0?(n.conversionCount/n.clickCount*100).toFixed(1):0,"%"]})]})]}),ee.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>{r(n),c(Object.entries(n.jwtClaims||{}).map(([e,t])=>({key:e,value:t.toString(),description:""}))),s(!0)},children:[ee.jsx(Hy,{className:"w-4 h-4 mr-2"}),"Aperçu"]}),ee.jsxs(Lb,{variant:"outline",size:"sm",onClick:()=>{r(n),c(Object.entries(n.jwtClaims||{}).map(([e,t])=>({key:e,value:t.toString(),description:""}))),i(!0)},children:[ee.jsx(jx,{className:"w-4 h-4 mr-2"}),"Modifier"]}),ee.jsx(Lb,{variant:"outline",size:"sm",onClick:()=>{return r=n.id,void t(e.map(e=>e.id===r?{...e,isActive:!e.isActive}:e));var r},children:n.isActive?"Désactiver":"Activer"}),ee.jsx(Lb,{variant:"outline",size:"sm",onClick:()=>{return r=n.id,void t(e.filter(e=>e.id!==r));var r},className:"text-red-600 hover:text-red-700",children:ee.jsx(Ex,{className:"w-4 h-4"})})]})]})})},n.id))})]})]})}const Pte=`${Cv.replace(".supabase.co",".functions.supabase.co")}`;function Tte(){const[e,t]=q.useState(!1),[n,r]=q.useState({appId:"",appSecret:"",pageAccessToken:"",verifyToken:""}),[a,i]=q.useState({appId:"",appSecret:"",accessToken:""}),[o,s]=q.useState({provider:"brevo",apiKey:""}),[l,c]=q.useState(""),[u,d]=q.useState(""),f=`${Pte}/meta-lead`,h=`${Pte}/tiktok-lead`,p=async(e,t)=>{try{await navigator.clipboard.writeText(e),c(t),setTimeout(()=>c(""),1500)}catch{}};q.useEffect(()=>{(async()=>{const{data:e,error:t}=await Pv.from("settings").select("key,value").in("key",["meta_app_id","meta_app_secret","meta_page_access_token","meta_verify_token","tiktok_app_id","tiktok_app_secret","tiktok_access_token","email_provider","email_api_key"]);if(t)return;const n=new Map((null==e?void 0:e.map(e=>[e.key,e.value]))||[]);r({appId:n.get("meta_app_id")||"",appSecret:n.get("meta_app_secret")||"",pageAccessToken:n.get("meta_page_access_token")||"",verifyToken:n.get("meta_verify_token")||""}),i({appId:n.get("tiktok_app_id")||"",appSecret:n.get("tiktok_app_secret")||"",accessToken:n.get("tiktok_access_token")||""}),s({provider:n.get("email_provider")||"brevo",apiKey:n.get("email_api_key")||""})})()},[]);const m=async()=>{t(!0);try{const e=[{key:"meta_app_id",value:n.appId},{key:"meta_app_secret",value:n.appSecret},{key:"meta_page_access_token",value:n.pageAccessToken},{key:"meta_verify_token",value:n.verifyToken},{key:"tiktok_app_id",value:a.appId},{key:"tiktok_app_secret",value:a.appSecret},{key:"tiktok_access_token",value:a.accessToken},{key:"email_provider",value:o.provider},{key:"email_api_key",value:o.apiKey}],{error:t}=await Pv.from("settings").upsert(e,{onConflict:"key"});if(t)throw t}finally{t(!1)}},v=async()=>{d("meta");try{await fetch(f+"?test=1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({object:"page",entry:[{changes:[{field:"leadgen",value:{leadgen_id:"TEST_META_"+Date.now(),form_id:"FORM_TEST",page_id:n.appId||"PAGE_TEST",created_time:Math.floor(Date.now()/1e3),adgroup_id:"adset_test",ad_id:"ad_test",campaign_id:"camp_test"}}]}]})})}finally{d("")}},g=async()=>{d("tiktok");try{await fetch(h+"?test=1",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"lead.form.submit",data:{lead_id:"TEST_TT_"+Date.now(),form_id:"FORM_TEST_TT",ad_id:"ad_test",adgroup_id:"adset_test",campaign_id:"camp_test"}})})}finally{d("")}},y=()=>ee.jsxs("div",{className:"flex flex-wrap gap-3",children:[ee.jsxs(Lb,{variant:"outline",onClick:()=>p(f,"meta"),children:["meta"===l?ee.jsx(Fy,{className:"w-4 h-4 mr-2"}):ee.jsx($y,{className:"w-4 h-4 mr-2"}),"Copier Webhook Meta"]}),ee.jsxs(Lb,{variant:"outline",onClick:()=>p(h,"tiktok"),children:["tiktok"===l?ee.jsx(Fy,{className:"w-4 h-4 mr-2"}):ee.jsx($y,{className:"w-4 h-4 mr-2"}),"Copier Webhook TikTok"]}),ee.jsxs(Lb,{variant:"outline",onClick:v,disabled:"meta"===u,children:[ee.jsx(Xy,{className:"w-4 h-4 mr-2"}),"meta"===u?"Test en cours...":"Envoyer lead test Meta"]}),ee.jsxs(Lb,{variant:"outline",onClick:g,disabled:"tiktok"===u,children:[ee.jsx(Xy,{className:"w-4 h-4 mr-2"}),"tiktok"===u?"Test en cours...":"Envoyer lead test TikTok"]})]});return ee.jsxs("div",{className:"space-y-8",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("h1",{className:"text-2xl font-semibold",children:"Intégrations"}),ee.jsx("p",{className:"text-gray-600",children:"Connectez Meta, TikTok et Email. Aucun Google Ads n'est requis."})]}),ee.jsxs("div",{className:"flex gap-2",children:[ee.jsx(Lb,{variant:"outline",onClick:async()=>{t(!0);try{r({appId:"META_APP_ID",appSecret:"META_APP_SECRET",pageAccessToken:"META_PAGE_TOKEN",verifyToken:"verify_token_demo"}),i({appId:"TT_APP_ID",appSecret:"TT_APP_SECRET",accessToken:"TT_ACCESS_TOKEN"}),s({provider:"brevo",apiKey:"xkeysib-xxxx-demo"}),await m()}finally{t(!1)}},disabled:e,children:"Préremplir valeurs démo"}),ee.jsxs(Lb,{onClick:m,disabled:e,children:[ee.jsx(yx,{className:"w-4 h-4 mr-2"}),e?"Enregistrement...":"Enregistrer"]})]})]}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center justify-between",children:[ee.jsxs("span",{className:"flex items-center",children:[ee.jsx(Qy,{className:"w-5 h-5 mr-2"}),"Meta Lead Ads"]}),ee.jsx(D7,{variant:"secondary",children:"Webhook"})]})}),ee.jsxs(bE,{className:"space-y-6",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{children:"App ID"}),ee.jsx(F7,{value:n.appId,onChange:e=>r({...n,appId:e.target.value}),placeholder:"123456789"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"App Secret"}),ee.jsx(F7,{value:n.appSecret,onChange:e=>r({...n,appSecret:e.target.value}),placeholder:"••••••"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Page Access Token"}),ee.jsx(F7,{value:n.pageAccessToken,onChange:e=>r({...n,pageAccessToken:e.target.value}),placeholder:"EAAB..."})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"Verify Token"}),ee.jsx(F7,{value:n.verifyToken,onChange:e=>r({...n,verifyToken:e.target.value}),placeholder:"mon-token-verif"})]})]}),ee.jsx(Nte,{}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{children:"URL Webhook à coller dans Meta (Subscription - Leadgen):"}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx(F7,{readOnly:!0,value:f}),ee.jsx(Lb,{variant:"outline",onClick:()=>p(f,"meta"),children:"meta"===l?ee.jsx(Fy,{className:"w-4 h-4"}):ee.jsx($y,{className:"w-4 h-4"})})]}),ee.jsx("p",{className:"text-sm text-gray-500",children:'Assurez-vous d\'ajouter le champ "verify_token" avec la valeur fournie ci-dessus.'})]}),ee.jsx(y,{})]})]}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsxs(yE,{className:"flex items-center justify-between",children:[ee.jsxs("span",{className:"flex items-center",children:[ee.jsx(nx,{className:"w-5 h-5 mr-2"}),"TikTok Lead Gen"]}),ee.jsx(D7,{variant:"secondary",children:"Webhook"})]})}),ee.jsxs(bE,{className:"space-y-6",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{children:"App ID"}),ee.jsx(F7,{value:a.appId,onChange:e=>i({...a,appId:e.target.value}),placeholder:"tik_tok_app_id"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"App Secret"}),ee.jsx(F7,{value:a.appSecret,onChange:e=>i({...a,appSecret:e.target.value}),placeholder:"••••••"})]}),ee.jsxs("div",{className:"md:col-span-2",children:[ee.jsx(X9,{children:"Access Token"}),ee.jsx(F7,{value:a.accessToken,onChange:e=>i({...a,accessToken:e.target.value}),placeholder:"tt_live_access_token"})]})]}),ee.jsx(Nte,{}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{children:"URL Webhook à coller dans TikTok Leads (Event Subscription):"}),ee.jsxs("div",{className:"flex items-center gap-2",children:[ee.jsx(F7,{readOnly:!0,value:h}),ee.jsx(Lb,{variant:"outline",onClick:()=>p(h,"tiktok"),children:"tiktok"===l?ee.jsx(Fy,{className:"w-4 h-4"}):ee.jsx($y,{className:"w-4 h-4"})})]}),ee.jsx("p",{className:"text-sm text-gray-500",children:"Configurez la signature si nécessaire dans votre application TikTok for Business."})]}),ee.jsx(y,{})]})]}),ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Email (Brevo/SMTP)"})}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ee.jsxs("div",{children:[ee.jsx(X9,{children:"Provider"}),ee.jsx(F7,{value:o.provider,onChange:e=>s({...o,provider:e.target.value}),placeholder:"brevo"})]}),ee.jsxs("div",{children:[ee.jsx(X9,{children:"API Key / SMTP Password"}),ee.jsx(F7,{value:o.apiKey,onChange:e=>s({...o,apiKey:e.target.value}),placeholder:"xkeysib-..."})]})]}),ee.jsx("div",{className:"text-sm text-gray-600",children:"L'envoi d'emails utilisera les fonctions Edge existantes (send-email / process-email-queue)."})]})]}),ee.jsx("div",{className:"flex items-center justify-end",children:ee.jsxs(Lb,{onClick:m,children:[ee.jsx(gx,{className:"w-4 h-4 mr-2"}),"Activer les intégrations"]})})]})}function Ate(){const[e,t]=q.useState("dashboard"),n=[{label:"Leads ce mois",value:"2,847",change:"+12%",trend:"up"},{label:"Taux de conversion",value:"14.2%",change:"+2.1%",trend:"up"},{label:"Coût par lead",value:"€8.50",change:"-15%",trend:"down"},{label:"ROI publicitaire",value:"€4.20",change:"+8%",trend:"up"}];return ee.jsx(zb,{title:"Lead Generation",children:ee.jsxs("div",{className:"space-y-8",children:[ee.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:ee.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"demo",name:"Démonstration",icon:"🎯"},{id:"dashboard",name:"Tableau de bord",icon:"📊"},{id:"landing-pages",name:"Landing Pages",icon:"🏠"},{id:"forms",name:"Formulaires",icon:"📝"},{id:"utm-links",name:"Liens UTM/JWT",icon:"🔗"},{id:"integrations",name:"Intégrations (Meta/TikTok)",icon:"⚙️"}].map(n=>ee.jsxs("button",{onClick:()=>t(n.id),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 "+(e===n.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[ee.jsx("span",{className:"mr-2",children:n.icon}),n.name]},n.id))})}),"dashboard"===e&&ee.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:n.map((e,t)=>ee.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.label}),ee.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value})]}),ee.jsxs("div",{className:"flex items-center space-x-1 "+("up"===e.trend?"text-green-600":"text-red-600"),children:[ee.jsx("span",{className:"text-sm font-medium",children:e.change}),ee.jsx("svg",{className:"w-4 h-4 "+("up"===e.trend?"rotate-0":"rotate-180"),fill:"currentColor",viewBox:"0 0 20 20",children:ee.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},t))}),"dashboard"===e&&ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[ee.jsxs("button",{onClick:()=>t("landing-pages"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 text-left",children:[ee.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),ee.jsx("h3",{className:"text-xl font-bold mb-2",children:"Créer une Landing Page"}),ee.jsx("p",{className:"text-blue-100",children:"Construisez des pages optimisées pour convertir vos visiteurs"})]}),ee.jsxs("button",{onClick:()=>t("forms"),className:"bg-gradient-to-r from-green-600 to-teal-600 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 text-left",children:[ee.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),ee.jsx("h3",{className:"text-xl font-bold mb-2",children:"Créer un Formulaire"}),ee.jsx("p",{className:"text-green-100",children:"Concevez des formulaires multi-étapes avec validation"})]}),ee.jsxs("button",{onClick:()=>t("integrations"),className:"bg-gradient-to-r from-orange-600 to-red-600 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 text-left",children:[ee.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mb-4",children:ee.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ee.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),ee.jsx("h3",{className:"text-xl font-bold mb-2",children:"Connecter Meta & TikTok"}),ee.jsx("p",{className:"text-orange-100",children:"Activez les webhooks et les clés d'API"})]})]}),ee.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:(()=>{switch(e){case"demo":default:return ee.jsx(hte,{});case"dashboard":return ee.jsx(yte,{});case"landing-pages":return ee.jsx(_te,{});case"forms":return ee.jsx(Ste,{});case"utm-links":return ee.jsx(Cte,{});case"integrations":return ee.jsx(Tte,{})}})()})]})})}class Mte{static calculateCommissionForContract(e,t,n,r,a){try{const i=String(t).replace(/[€\s]/g,"").replace(",","."),o=parseFloat(i);if(isNaN(o)||o<=0)return null;const s=e.toUpperCase().trim(),l=this.COMMISSION_CONFIGS[s];if(!l||!l.actif)return null;const c=12*o,u=o*(l.taux_annee1/100),d=c*(l.taux_annee1/100),f=d*this.RETENTION_RATE,h=c*(l.taux_recurrent/100),p=h*this.RETENTION_RATE;return{id:this.generateId(),projet_id:n||0,contact_id:r,contrat_id:a,compagnie:e,cotisation_mensuelle:o,cotisation_annuelle:c,commission_mensuelle:u,commission_annuelle:d,commission_annuelle_avec_retenue:f,commission_recurrente:h,commission_recurrente_avec_retenue:p,type_commission:l.type_commission,date_calcul:(new Date).toISOString(),statut:"calculé",erreurs:[],metadata:{taux_annee1:l.taux_annee1,taux_recurrent:l.taux_recurrent,retention_appliquee:this.RETENTION_RATE,version_calcul:"2.0.0"}}}catch(i){return console.error(`Erreur lors du calcul de commission pour ${e}:`,i),{id:this.generateId(),projet_id:n||0,contact_id:r,contrat_id:a,compagnie:e,cotisation_mensuelle:0,cotisation_annuelle:0,commission_mensuelle:0,commission_annuelle:0,commission_annuelle_avec_retenue:0,commission_recurrente:0,commission_recurrente_avec_retenue:0,type_commission:"Précompte",date_calcul:(new Date).toISOString(),statut:"erreur",erreurs:[i instanceof Error?i.message:"Erreur inconnue"],metadata:{}}}}static async calculateCommissionsForProject(e){try{const{data:t,error:n}=await Pv.from("projets").select("\n          projet_id,\n          contact_id,\n          contact:contact_id (\n            identifiant,\n            raison_sociale,\n            email\n          )\n        ").eq("projet_id",e).single();if(n||!t)throw new Error(`Projet non trouvé: ${e}`);const{data:r,error:a}=await Pv.from("contrats").select("*").eq("projet_id",e);if(a)throw new Error(`Erreur récupération contrats: ${a.message}`);const i=[];for(const o of r||[])if(o.contrat_compagnie&&o.prime_brute_mensuelle){const n=this.calculateCommissionForContract(o.contrat_compagnie,o.prime_brute_mensuelle,e,t.contact_id,o.id);n&&i.push(n)}return i}catch(t){throw console.error(`Erreur calcul commissions projet ${e}:`,t),t}}static async calculateAllCommissions(e={}){const t=e.batchSize||this.BATCH_SIZE;try{const{data:n,error:r}=await Pv.from("projets").select("projet_id, contact_id").not("projet_id","is",null);if(r)throw new Error(`Erreur récupération projets: ${r.message}`);const a=[],i=(null==n?void 0:n.length)||0;for(let o=0;o<i;o+=t){const r=((null==n?void 0:n.slice(o,o+t))||[]).map(e=>this.calculateCommissionsForProject(e.projet_id)),s=await Promise.allSettled(r);for(const e of s)"fulfilled"===e.status?a.push(...e.value):console.error("Erreur dans le lot:",e.reason);e.onProgress&&e.onProgress(Math.min(o+t,i),i)}return a}catch(n){throw console.error("Erreur calcul toutes les commissions:",n),n}}static async saveCommissionCalculations(e){try{const{error:t}=await Pv.from("commission_calculations").upsert(e,{onConflict:"id",ignoreDuplicates:!1});if(t)throw new Error(`Erreur sauvegarde commissions: ${t.message}`)}catch(t){throw console.error("Erreur sauvegarde calculs de commissions:",t),t}}static async getCommissionStats(){try{const{data:e,error:t}=await Pv.from("commission_calculations").select("*").eq("statut","calculé");if(t)throw new Error(`Erreur récupération statistiques: ${t.message}`);const n={total_commissions_mensuelles:0,total_commissions_annuelles:0,total_commissions_recurrentes:0,commissions_par_compagnie:{},commissions_par_commercial:{},evolution_mensuelle:[],taux_reussite_calculs:0};for(const r of e||[])n.total_commissions_mensuelles+=r.commission_mensuelle||0,n.total_commissions_annuelles+=r.commission_annuelle_avec_retenue||0,n.total_commissions_recurrentes+=r.commission_recurrente_avec_retenue||0,n.commissions_par_compagnie[r.compagnie]||(n.commissions_par_compagnie[r.compagnie]={nombre_contrats:0,total_commissions:0,moyenne_commission:0}),n.commissions_par_compagnie[r.compagnie].nombre_contrats++,n.commissions_par_compagnie[r.compagnie].total_commissions+=r.commission_mensuelle||0;return Object.keys(n.commissions_par_compagnie).forEach(e=>{const t=n.commissions_par_compagnie[e];t.moyenne_commission=t.total_commissions/t.nombre_contrats}),n}catch(e){throw console.error("Erreur récupération statistiques commissions:",e),e}}static getCommissionConfig(e){const t=e.toUpperCase().trim();return this.COMMISSION_CONFIGS[t]||null}static getAllCommissionConfigs(){return Object.values(this.COMMISSION_CONFIGS).filter(e=>e.actif)}static validateCommissionInput(e,t){const n=[];e&&"string"==typeof e||n.push("Le nom de la compagnie est requis"),("number"!=typeof t||isNaN(t)||t<=0)&&n.push("La cotisation doit être un nombre positif");return this.getCommissionConfig(e)||n.push(`Configuration non trouvée pour la compagnie: ${e}`),{isValid:0===n.length,errors:n}}static generateId(){return`calc_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static sanitizeCurrencyValue(e){if("number"==typeof e)return e;const t=String(e).replace(/[€\s]/g,"").replace(",",".").trim(),n=parseFloat(t);return isNaN(n)?0:n}}t(Mte,"RETENTION_RATE",.875),t(Mte,"BATCH_SIZE",50),t(Mte,"COMMISSION_CONFIGS",{SPVIE:{compagnie:"SPVIE",taux_annee1:40,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"HARMONIE MUTUELLE":{compagnie:"HARMONIE MUTUELLE",taux_annee1:15,taux_recurrent:15,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"AS SOLUTIONS":{compagnie:"AS SOLUTIONS",taux_annee1:30,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"SOLLY AZAR":{compagnie:"SOLLY AZAR",taux_annee1:30,taux_recurrent:10,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"NÉOLIANE":{compagnie:"NÉOLIANE",taux_annee1:43,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},ZENIOO:{compagnie:"ZENIOO",taux_annee1:30,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},APRIL:{compagnie:"APRIL",taux_annee1:30,taux_recurrent:10,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},ALPTIS:{compagnie:"ALPTIS",taux_annee1:30,taux_recurrent:10,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},ENTORIA:{compagnie:"ENTORIA",taux_annee1:20,taux_recurrent:20,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},AVA:{compagnie:"AVA",taux_annee1:10,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},COVERITY:{compagnie:"COVERITY",taux_annee1:20,taux_recurrent:20,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"MALAKOFF HUMANIS":{compagnie:"MALAKOFF HUMANIS",taux_annee1:15,taux_recurrent:15,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"ASAF&AFPS":{compagnie:"ASAF&AFPS",taux_annee1:30,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"JOKER ASSURANCES":{compagnie:"JOKER ASSURANCES",taux_annee1:20,taux_recurrent:20,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},APICIL:{compagnie:"APICIL",taux_annee1:17,taux_recurrent:17,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"ECA CAPITAL SENIOR":{compagnie:"ECA CAPITAL SENIOR",taux_annee1:40,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"ECA SÉRENISSIME":{compagnie:"ECA SÉRENISSIME",taux_annee1:30,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},"ECA Autres":{compagnie:"ECA Autres",taux_annee1:30,taux_recurrent:10,type_commission:"Précompte",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},CNP:{compagnie:"CNP",taux_annee1:10,taux_recurrent:10,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()},FMA:{compagnie:"FMA",taux_annee1:17,taux_recurrent:17,type_commission:"Linéaire",actif:!0,date_creation:(new Date).toISOString(),date_modification:(new Date).toISOString()}});const Dte=()=>{const[e,t]=q.useState([]),[n,r]=q.useState(null),[a,i]=q.useState([]),[o,s]=q.useState(!1),[l,c]=q.useState(0),[u,d]=q.useState(""),[f,h]=q.useState(""),[p,m]=q.useState(null),[v,g]=q.useState("");q.useEffect(()=>{y()},[]);const y=async()=>{s(!0);try{const e=Mte.getAllCommissionConfigs();i(e);r({total_commissions_mensuelles:0,total_commissions_annuelles:0,total_commissions_recurrentes:0,commissions_par_compagnie:{},commissions_par_commercial:{},evolution_mensuelle:[],taux_reussite_calculs:0}),g("")}catch(zte){g("Erreur lors du chargement des données"),console.error("Erreur chargement données:",zte)}finally{s(!1)}},x=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e),b=e=>{switch(e){case"calculé":return ee.jsx(D7,{variant:"default",className:"bg-green-100 text-green-800",children:"Calculé"});case"erreur":return ee.jsx(D7,{variant:"destructive",children:"Erreur"});case"en_attente":return ee.jsx(D7,{variant:"secondary",children:"En attente"});default:return ee.jsx(D7,{variant:"outline",children:e})}};return ee.jsxs("div",{className:"space-y-6",children:[ee.jsxs("div",{className:"flex items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Commissions"}),ee.jsx("p",{className:"text-muted-foreground",children:"Calcul automatique et gestion des commissions par compagnie d'assurance"})]}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsxs(Lb,{onClick:y,variant:"outline",disabled:o,children:[ee.jsx(vx,{className:"h-4 w-4 mr-2 "+(o?"animate-spin":"")}),"Actualiser"]}),ee.jsxs(Lb,{onClick:async()=>{s(!0),c(0),g("");try{const e=[];let n=0;const a=50;for(let t=0;t<a;t++){const r={id:`calc_${t}`,projet_id:Math.floor(t/5)+1,compagnie:["SPVIE","APRIL","NÉOLIANE"][t%3],cotisation_mensuelle:100+200*Math.random(),cotisation_annuelle:0,commission_mensuelle:0,commission_annuelle:0,commission_annuelle_avec_retenue:0,commission_recurrente:0,commission_recurrente_avec_retenue:0,type_commission:"Précompte",date_calcul:(new Date).toISOString(),statut:"calculé",erreurs:[],metadata:{}},i=Mte.calculateCommissionForContract(r.compagnie,r.cotisation_mensuelle);i&&(r.cotisation_annuelle=i.cotisation_annuelle,r.commission_mensuelle=i.commission_mensuelle,r.commission_annuelle=i.commission_annuelle,r.commission_annuelle_avec_retenue=i.commission_annuelle_avec_retenue,r.commission_recurrente=i.commission_recurrente,r.commission_recurrente_avec_retenue=i.commission_recurrente_avec_retenue,r.type_commission=i.type_commission),e.push(r),n++,c(n/a*100),await new Promise(e=>setTimeout(e,50))}t(e);const i={total_commissions_mensuelles:e.reduce((e,t)=>e+t.commission_mensuelle,0),total_commissions_annuelles:e.reduce((e,t)=>e+t.commission_annuelle_avec_retenue,0),total_commissions_recurrentes:e.reduce((e,t)=>e+t.commission_recurrente_avec_retenue,0),commissions_par_compagnie:{},commissions_par_commercial:{},evolution_mensuelle:[],taux_reussite_calculs:100};e.forEach(e=>{i.commissions_par_compagnie[e.compagnie]||(i.commissions_par_compagnie[e.compagnie]={nombre_contrats:0,total_commissions:0,moyenne_commission:0}),i.commissions_par_compagnie[e.compagnie].nombre_contrats++,i.commissions_par_compagnie[e.compagnie].total_commissions+=e.commission_mensuelle}),Object.keys(i.commissions_par_compagnie).forEach(e=>{const t=i.commissions_par_compagnie[e];t.moyenne_commission=t.total_commissions/t.nombre_contrats}),r(i)}catch(zte){g("Erreur lors du calcul complet"),console.error("Erreur calcul complet:",zte)}finally{s(!1),c(0)}},disabled:o,className:"bg-blue-600 hover:bg-blue-700",children:[ee.jsx(px,{className:"h-4 w-4 mr-2"}),"Calculer Tout"]})]})]}),v&&ee.jsxs(Nee,{variant:"destructive",children:[ee.jsx(Ry,{className:"h-4 w-4"}),ee.jsx(_ee,{children:v})]}),o&&l>0&&ee.jsx(vE,{children:ee.jsx(bE,{className:"pt-6",children:ee.jsxs("div",{className:"space-y-2",children:[ee.jsxs("div",{className:"flex justify-between text-sm",children:[ee.jsx("span",{children:"Calcul en cours..."}),ee.jsxs("span",{children:[Math.round(l),"%"]})]}),ee.jsx(q9,{value:l,className:"w-full"})]})})}),ee.jsxs(fE,{defaultValue:"dashboard",className:"space-y-4",children:[ee.jsxs(hE,{children:[ee.jsx(pE,{value:"dashboard",children:"Tableau de Bord"}),ee.jsx(pE,{value:"calculator",children:"Calculateur"}),ee.jsx(pE,{value:"results",children:"Résultats"}),ee.jsx(pE,{value:"configs",children:"Configuration"})]}),ee.jsxs(mE,{value:"dashboard",className:"space-y-4",children:[ee.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[ee.jsx(yE,{className:"text-sm font-medium",children:"Commissions Mensuelles"}),ee.jsx(Sy,{className:"h-4 w-4 text-muted-foreground"})]}),ee.jsxs(bE,{children:[ee.jsx("div",{className:"text-2xl font-bold",children:x(n?n.total_commissions_mensuelles:0)}),ee.jsx("p",{className:"text-xs text-muted-foreground",children:"Total ce mois"})]})]}),ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[ee.jsx(yE,{className:"text-sm font-medium",children:"Commissions Annuelles"}),ee.jsx(Cx,{className:"h-4 w-4 text-muted-foreground"})]}),ee.jsxs(bE,{children:[ee.jsx("div",{className:"text-2xl font-bold",children:x(n?n.total_commissions_annuelles:0)}),ee.jsx("p",{className:"text-xs text-muted-foreground",children:"Avec retenue (87.5%)"})]})]}),ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[ee.jsx(yE,{className:"text-sm font-medium",children:"Compagnies"}),ee.jsx(ky,{className:"h-4 w-4 text-muted-foreground"})]}),ee.jsxs(bE,{children:[ee.jsx("div",{className:"text-2xl font-bold",children:a.length}),ee.jsx("p",{className:"text-xs text-muted-foreground",children:"Compagnies configurées"})]})]}),ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[ee.jsx(yE,{className:"text-sm font-medium",children:"Taux de Réussite"}),ee.jsx(Ly,{className:"h-4 w-4 text-muted-foreground"})]}),ee.jsxs(bE,{children:[ee.jsx("div",{className:"text-2xl font-bold",children:n?`${n.taux_reussite_calculs}%`:"0%"}),ee.jsx("p",{className:"text-xs text-muted-foreground",children:"Calculs réussis"})]})]})]}),n&&Object.keys(n.commissions_par_compagnie).length>0&&ee.jsxs(vE,{children:[ee.jsx(gE,{children:ee.jsx(yE,{children:"Répartition par Compagnie"})}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:Object.entries(n.commissions_par_compagnie).map(([e,t])=>ee.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium",children:e}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.nombre_contrats," contrat",t.nombre_contrats>1?"s":""]})]}),ee.jsxs("div",{className:"text-right",children:[ee.jsx("div",{className:"font-medium",children:x(t.total_commissions)}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:["Moy: ",x(t.moyenne_commission)]})]})]},e))})})]})]}),ee.jsx(mE,{value:"calculator",className:"space-y-4",children:ee.jsxs(vE,{children:[ee.jsxs(gE,{children:[ee.jsx(yE,{children:"Calculateur de Commission"}),ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Testez le calcul de commissions pour une compagnie spécifique"})]}),ee.jsxs(bE,{className:"space-y-4",children:[ee.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"compagnie",children:"Compagnie d'Assurance"}),ee.jsxs(FC,{value:u,onValueChange:d,children:[ee.jsx(BC,{children:ee.jsx(zC,{placeholder:"Sélectionner une compagnie"})}),ee.jsx(WC,{children:a.map(e=>ee.jsx(qC,{value:e.compagnie,children:e.compagnie},e.compagnie))})]})]}),ee.jsxs("div",{className:"space-y-2",children:[ee.jsx(X9,{htmlFor:"cotisation",children:"Cotisation Mensuelle (€)"}),ee.jsx(F7,{id:"cotisation",type:"number",step:"0.01",placeholder:"150.50",value:f,onChange:e=>h(e.target.value)})]})]}),ee.jsxs(Lb,{onClick:()=>{if(!u||!f)return void g("Veuillez sélectionner une compagnie et saisir une cotisation");const e=parseFloat(f.replace(",","."));if(isNaN(e)||e<=0||e>1e4)g("Cotisation invalide (doit être entre 0.01 et 10,000€)");else if(f.includes("<")||f.includes(">")||f.includes("script"))g("Caractères non autorisés dans la cotisation");else try{const t=Mte.calculateCommissionForContract(u,e);t?(m(t),g("")):g("Impossible de calculer la commission pour cette configuration")}catch(zte){g("Erreur lors du calcul"),console.error("Erreur calcul:",zte)}},className:"w-full",disabled:!u||!f,children:[ee.jsx(Sy,{className:"h-4 w-4 mr-2"}),"Calculer la Commission"]}),p&&ee.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[ee.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Résultat du Calcul"}),ee.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[ee.jsxs("div",{children:[ee.jsx("span",{className:"text-muted-foreground",children:"Cotisation mensuelle:"}),ee.jsx("div",{className:"font-medium",children:x(p.cotisation_mensuelle)})]}),ee.jsxs("div",{children:[ee.jsx("span",{className:"text-muted-foreground",children:"Cotisation annuelle:"}),ee.jsx("div",{className:"font-medium",children:x(p.cotisation_annuelle)})]}),ee.jsxs("div",{children:[ee.jsx("span",{className:"text-muted-foreground",children:"Commission mensuelle:"}),ee.jsx("div",{className:"font-medium",children:x(p.commission_mensuelle)})]}),ee.jsxs("div",{children:[ee.jsx("span",{className:"text-muted-foreground",children:"Commission annuelle:"}),ee.jsx("div",{className:"font-medium",children:x(p.commission_annuelle)})]}),ee.jsxs("div",{children:[ee.jsx("span",{className:"text-muted-foreground",children:"Commission avec retenue:"}),ee.jsx("div",{className:"font-medium",children:x(p.commission_annuelle_avec_retenue)})]}),ee.jsxs("div",{children:[ee.jsx("span",{className:"text-muted-foreground",children:"Type de commission:"}),ee.jsx("div",{className:"font-medium",children:p.type_commission})]})]})]})]})]})}),ee.jsx(mE,{value:"results",className:"space-y-4",children:ee.jsxs(vE,{children:[ee.jsxs(gE,{className:"flex flex-row items-center justify-between",children:[ee.jsxs("div",{children:[ee.jsx(yE,{children:"Résultats des Calculs"}),ee.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," calculs effectués"]})]}),ee.jsxs("div",{className:"flex space-x-2",children:[ee.jsxs(Lb,{variant:"outline",size:"sm",children:[ee.jsx(Wy,{className:"h-4 w-4 mr-2"}),"Exporter CSV"]}),ee.jsxs(Lb,{variant:"outline",size:"sm",children:[ee.jsx(Gy,{className:"h-4 w-4 mr-2"}),"Rapport PDF"]})]})]}),ee.jsx(bE,{children:e.length>0?ee.jsxs("div",{className:"space-y-4",children:[e.slice(0,10).map((e,t)=>ee.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[ee.jsxs("div",{className:"flex items-center space-x-4",children:[ee.jsxs("div",{className:"flex flex-col",children:[ee.jsxs("div",{className:"font-medium",children:["Projet #",e.projet_id]}),ee.jsx("div",{className:"text-sm text-muted-foreground",children:e.compagnie})]}),ee.jsx("div",{className:"flex items-center space-x-2",children:b(e.statut)})]}),ee.jsxs("div",{className:"text-right",children:[ee.jsx("div",{className:"font-medium",children:x(e.commission_mensuelle)}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:[x(e.commission_annuelle_avec_retenue)," annuel"]})]})]},e.id)),e.length>10&&ee.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["... et ",e.length-10," autres calculs"]})]}):ee.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[ee.jsx(Sy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),ee.jsx("p",{children:"Aucun calcul effectué"}),ee.jsx("p",{className:"text-sm",children:"Lancez un calcul pour voir les résultats ici"})]})})]})}),ee.jsx(mE,{value:"configs",className:"space-y-4",children:ee.jsxs(vE,{children:[ee.jsxs(gE,{children:[ee.jsx(yE,{children:"Configuration des Compagnies"}),ee.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestion des taux de commission par compagnie d'assurance"})]}),ee.jsx(bE,{children:ee.jsx("div",{className:"space-y-4",children:a.map(e=>ee.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[ee.jsxs("div",{children:[ee.jsx("div",{className:"font-medium",children:e.compagnie}),ee.jsxs("div",{className:"text-sm text-muted-foreground",children:["Année 1: ",e.taux_annee1,"% | Récurrent: ",e.taux_recurrent,"%"]})]}),ee.jsxs("div",{className:"flex items-center space-x-2",children:[ee.jsx(D7,{variant:"Précompte"===e.type_commission?"default":"secondary",children:e.type_commission}),ee.jsx(Lb,{variant:"outline",size:"sm",children:ee.jsx(jx,{className:"h-4 w-4"})})]})]},e.compagnie))})})]})})]})]})},Ite=()=>ee.jsx("div",{className:"container mx-auto px-4 py-8",children:ee.jsx(Dte,{})});function Rte(){return function(){const e=ef(),t=Jd(),n=q.useRef(!1),r=q.useRef("/"),a=q.useRef(0),i=q.useCallback(()=>{try{const e={path:t.pathname,timestamp:Date.now(),userAgent:navigator.userAgent};localStorage.setItem("crm-app-state",JSON.stringify(e))}catch(e){}},[t.pathname]),o=q.useCallback(()=>{if(!(a.current>=3)){try{const n=localStorage.getItem("crm-app-state");if(n){const r=JSON.parse(n);if(Date.now()-r.timestamp<864e5&&r.path&&r.path!==t.pathname)return a.current++,e(r.path,{replace:!0}),!0}}catch(n){}return!1}},[e,t.pathname]);q.useEffect(()=>{if(n.current)return;n.current=!0;const a=()=>{"visible"===document.visibilityState?(t.pathname,o()||"/"!==t.pathname&&""!==t.pathname||setTimeout(()=>{"/"!==window.location.pathname&&""!==window.location.pathname||e("/",{replace:!0})},100)):i()},s=()=>{i()},l=e=>{window.location.pathname,r.current=window.location.pathname},c=()=>{setTimeout(()=>{"/"!==t.pathname&&""!==t.pathname||e("/",{replace:!0})},200)};return setTimeout(()=>{o()},500),document.addEventListener("visibilitychange",a),window.addEventListener("beforeunload",s),window.addEventListener("popstate",l),window.addEventListener("focus",c),()=>{document.removeEventListener("visibilitychange",a),window.removeEventListener("beforeunload",s),window.removeEventListener("popstate",l),window.removeEventListener("focus",c)}},[e,t.pathname,i,o]),q.useEffect(()=>{n.current&&t.pathname!==r.current&&(r.current=t.pathname,i())},[t.pathname,i]),t.pathname,n.current,a.current}(),ee.jsxs(mf,{children:[ee.jsx(hf,{path:"/",element:ee.jsx(L7,{})}),ee.jsx(hf,{path:"/campaigns",element:ee.jsx(H9,{})}),ee.jsx(hf,{path:"/projects",element:ee.jsx(vee,{})}),ee.jsx(hf,{path:"/projects/:id",element:ee.jsx(fte,{})}),ee.jsx(hf,{path:"/analytics",element:ee.jsx(Oee,{})}),ee.jsx(hf,{path:"/email-templates",element:ee.jsx(Cee,{})}),ee.jsx(hf,{path:"/lead-generation",element:ee.jsx(Ate,{})}),ee.jsx(hf,{path:"/settings",element:ee.jsx(Tee,{})}),ee.jsx(hf,{path:"/commissions",element:ee.jsx(Ite,{})}),ee.jsx(hf,{path:"/login",element:ee.jsx(Aee,{})}),ee.jsx(hf,{path:"/signup",element:ee.jsx(Mee,{})}),ee.jsx(hf,{path:"*",element:ee.jsx(ff,{to:"/",replace:!0})})]})}function Lte(){return ee.jsx(Lf,{children:ee.jsxs(Mv,{children:[ee.jsx(Rte,{}),ee.jsx(Ib,{})]})})}te.createRoot(document.getElementById("root")).render(ee.jsx(V.StrictMode,{children:ee.jsx(Lte,{})}));
